/*! For license information please see main.f01e3314.js.LICENSE.txt */
(()=>{var e={4:(e,t,n)=>{"use strict";var r=n(853),i=n(43),s=n(950);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}var l=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),u=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),m=Symbol.for("react.consumer"),g=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),b=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),E=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var _=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var x=Symbol.for("react.memo_cache_sentinel"),S=Symbol.iterator;function k(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=S&&e[S]||e["@@iterator"])?e:null}var T=Symbol.for("react.client.reference");function C(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===T?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case d:return"Fragment";case u:return"Portal";case f:return"Profiler";case h:return"StrictMode";case y:return"Suspense";case b:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case g:return(e.displayName||"Context")+".Provider";case m:return(e._context.displayName||"Context")+".Consumer";case v:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case w:return null!==(t=e.displayName||null)?t:C(e.type)||"Memo";case E:t=e._payload,e=e._init;try{return C(e(t))}catch(n){}}return null}var N,I,R=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,A=Object.assign;function O(e){if(void 0===N)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);N=t&&t[1]||"",I=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+N+e+I}var P=!1;function j(e,t){if(!e||P)return"";P=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(i){var r=i}Reflect.construct(e,[],n)}else{try{n.call()}catch(s){r=s}e.call(n.prototype)}}else{try{throw Error()}catch(a){r=a}(n=e())&&"function"===typeof n.catch&&n.catch((function(){}))}}catch(o){if(o&&r&&"string"===typeof o.stack)return[o.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),a=s[0],o=s[1];if(a&&o){var l=a.split("\n"),c=o.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{P=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?O(n):""}function D(e){switch(e.tag){case 26:case 27:case 5:return O(e.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 15:return e=j(e.type,!1);case 11:return e=j(e.type.render,!1);case 1:return e=j(e.type,!0);default:return""}}function L(e){try{var t="";do{t+=D(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function M(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function F(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function U(e){if(M(e)!==e)throw Error(a(188))}function V(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=V(e)))return t;e=e.sibling}return null}var z=Array.isArray,$=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B={pending:!1,data:null,method:null,action:null},H=[],q=-1;function W(e){return{current:e}}function K(e){0>q||(e.current=H[q],H[q]=null,q--)}function G(e,t){q++,H[q]=e.current,e.current=t}var Q=W(null),Y=W(null),J=W(null),X=W(null);function Z(e,t){switch(G(J,t),G(Y,e),G(Q,null),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)&&(t=t.namespaceURI)?Yu(t):0;break;default:if(t=(e=8===e?t.parentNode:t).tagName,e=e.namespaceURI)t=Ju(e=Yu(e),t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(Q),G(Q,t)}function ee(){K(Q),K(Y),K(J)}function te(e){null!==e.memoizedState&&G(X,e);var t=Q.current,n=Ju(t,e.type);t!==n&&(G(Y,e),G(Q,n))}function ne(e){Y.current===e&&(K(Q),K(Y)),X.current===e&&(K(X),Ld._currentValue=B)}var re=Object.prototype.hasOwnProperty,ie=r.unstable_scheduleCallback,se=r.unstable_cancelCallback,ae=r.unstable_shouldYield,oe=r.unstable_requestPaint,le=r.unstable_now,ce=r.unstable_getCurrentPriorityLevel,ue=r.unstable_ImmediatePriority,de=r.unstable_UserBlockingPriority,he=r.unstable_NormalPriority,fe=r.unstable_LowPriority,pe=r.unstable_IdlePriority,me=r.log,ge=r.unstable_setDisableYieldValue,ve=null,ye=null;function be(e){if("function"===typeof me&&ge(e),ye&&"function"===typeof ye.setStrictMode)try{ye.setStrictMode(ve,e)}catch(t){}}var we=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(Ee(e)/_e|0)|0},Ee=Math.log,_e=Math.LN2;var xe=128,Se=4194304;function ke(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194176&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Te(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=e.warmLanes;e=0!==e.finishedLanes;var o=134217727&n;return 0!==o?0!==(n=o&~i)?r=ke(n):0!==(s&=o)?r=ke(s):e||0!==(a=o&~a)&&(r=ke(a)):0!==(o=n&~i)?r=ke(o):0!==s?r=ke(s):e||0!==(a=n&~a)&&(r=ke(a)),0===r?0:0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||32===i&&0!==(4194176&a))?t:r}function Ce(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ne(e,t){switch(e){case 1:case 2:case 4:case 8:return t+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ie(){var e=xe;return 0===(4194176&(xe<<=1))&&(xe=128),e}function Re(){var e=Se;return 0===(62914560&(Se<<=1))&&(Se=4194304),e}function Ae(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Oe(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Pe(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-we(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194218&n}function je(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-we(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function De(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Le(){var e=$.p;return 0!==e?e:void 0===(e=window.event)?32:Jd(e.type)}var Me=Math.random().toString(36).slice(2),Fe="__reactFiber$"+Me,Ue="__reactProps$"+Me,Ve="__reactContainer$"+Me,ze="__reactEvents$"+Me,$e="__reactListeners$"+Me,Be="__reactHandles$"+Me,He="__reactResources$"+Me,qe="__reactMarker$"+Me;function We(e){delete e[Fe],delete e[Ue],delete e[ze],delete e[$e],delete e[Be]}function Ke(e){var t=e[Fe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ve]||n[Fe]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ld(e);null!==e;){if(n=e[Fe])return n;e=ld(e)}return t}n=(e=n).parentNode}return null}function Ge(e){if(e=e[Fe]||e[Ve]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Qe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(a(33))}function Ye(e){var t=e[He];return t||(t=e[He]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Je(e){e[qe]=!0}var Xe=new Set,Ze={};function et(e,t){tt(e,t),tt(e+"Capture",t)}function tt(e,t){for(Ze[e]=t,e=0;e<t.length;e++)Xe.add(t[e])}var nt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),rt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),it={},st={};function at(e,t,n){if(i=t,re.call(st,i)||!re.call(it,i)&&(rt.test(i)?st[i]=!0:(it[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function ot(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function lt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function mt(e){return e.replace(pt,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function gt(e,t,n,r,i,s,a,o){e.name="",null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?yt(e,a,ct(t)):null!=n?yt(e,a,ct(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=s&&(e.defaultChecked=!!s),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+ct(o):e.removeAttribute("name")}function vt(e,t,n,r,i,s,a,o){if(null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.type=s),null!=t||null!=n){if(!("submit"!==s&&"reset"!==s||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.name=a)}function yt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function wt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function Et(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(a(92));if(z(r)){if(1<r.length)throw Error(a(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function _t(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var xt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function St(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||xt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function kt(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(a(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&St(e,i,r)}else for(var s in t)t.hasOwnProperty(s)&&St(e,s,t[s])}function Tt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ct=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Nt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function It(e){return Nt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Rt=null;function At(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ot=null,Pt=null;function jt(e){var t=Ge(e);if(t&&(e=t.stateNode)){var n=e[Ue]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[Ue]||null;if(!i)throw Error(a(90));gt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ht(r)}break e;case"textarea":wt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var Dt=!1;function Lt(e,t,n){if(Dt)return e(t,n);Dt=!0;try{return e(t)}finally{if(Dt=!1,(null!==Ot||null!==Pt)&&(Fc(),Ot&&(t=Ot,e=Pt,Pt=Ot=null,jt(t),e)))for(t=0;t<e.length;t++)jt(e[t])}}function Mt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Ue]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ft=!1;if(nt)try{var Ut={};Object.defineProperty(Ut,"passive",{get:function(){Ft=!0}}),window.addEventListener("test",Ut,Ut),window.removeEventListener("test",Ut,Ut)}catch(Eh){Ft=!1}var Vt=null,zt=null,$t=null;function Bt(){if($t)return $t;var e,t,n=zt,r=n.length,i="value"in Vt?Vt.value:Vt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function Ht(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function qt(){return!0}function Wt(){return!1}function Kt(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?qt:Wt,this.isPropagationStopped=Wt,this}return A(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=qt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=qt)},persist:function(){},isPersistent:qt}),t}var Gt,Qt,Yt,Jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xt=Kt(Jt),Zt=A({},Jt,{view:0,detail:0}),en=Kt(Zt),tn=A({},Zt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yt&&(Yt&&"mousemove"===e.type?(Gt=e.screenX-Yt.screenX,Qt=e.screenY-Yt.screenY):Qt=Gt=0,Yt=e),Gt)},movementY:function(e){return"movementY"in e?e.movementY:Qt}}),nn=Kt(tn),rn=Kt(A({},tn,{dataTransfer:0})),sn=Kt(A({},Zt,{relatedTarget:0})),an=Kt(A({},Jt,{animationName:0,elapsedTime:0,pseudoElement:0})),on=Kt(A({},Jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),ln=Kt(A({},Jt,{data:0})),cn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},un={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=dn[e])&&!!t[e]}function fn(){return hn}var pn=Kt(A({},Zt,{key:function(e){if(e.key){var t=cn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Ht(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?un[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fn,charCode:function(e){return"keypress"===e.type?Ht(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Ht(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),mn=Kt(A({},tn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),gn=Kt(A({},Zt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fn})),vn=Kt(A({},Jt,{propertyName:0,elapsedTime:0,pseudoElement:0})),yn=Kt(A({},tn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),bn=Kt(A({},Jt,{newState:0,oldState:0})),wn=[9,13,27,32],En=nt&&"CompositionEvent"in window,_n=null;nt&&"documentMode"in document&&(_n=document.documentMode);var xn=nt&&"TextEvent"in window&&!_n,Sn=nt&&(!En||_n&&8<_n&&11>=_n),kn=String.fromCharCode(32),Tn=!1;function Cn(e,t){switch(e){case"keyup":return-1!==wn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var In=!1;var Rn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function An(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Rn[e.type]:"textarea"===t}function On(e,t,n,r){Ot?Pt?Pt.push(r):Pt=[r]:Ot=r,0<(t=Lu(t,"onChange")).length&&(n=new Xt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Pn=null,jn=null;function Dn(e){Nu(e,0)}function Ln(e){if(ht(Qe(e)))return e}function Mn(e,t){if("change"===e)return t}var Fn=!1;if(nt){var Un;if(nt){var Vn="oninput"in document;if(!Vn){var zn=document.createElement("div");zn.setAttribute("oninput","return;"),Vn="function"===typeof zn.oninput}Un=Vn}else Un=!1;Fn=Un&&(!document.documentMode||9<document.documentMode)}function $n(){Pn&&(Pn.detachEvent("onpropertychange",Bn),jn=Pn=null)}function Bn(e){if("value"===e.propertyName&&Ln(jn)){var t=[];On(t,jn,e,At(e)),Lt(Dn,t)}}function Hn(e,t,n){"focusin"===e?($n(),jn=n,(Pn=t).attachEvent("onpropertychange",Bn)):"focusout"===e&&$n()}function qn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Ln(jn)}function Wn(e,t){if("click"===e)return Ln(t)}function Kn(e,t){if("input"===e||"change"===e)return Ln(t)}var Gn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Qn(e,t){if(Gn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!re.call(t,i)||!Gn(e[i],t[i]))return!1}return!0}function Yn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jn(e,t){var n,r=Yn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Yn(r)}}function Xn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Xn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Zn(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function er(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function tr(e,t){var n=Zn(t);t=e.focusedElem;var r=e.selectionRange;if(n!==t&&t&&t.ownerDocument&&Xn(t.ownerDocument.documentElement,t)){if(null!==r&&er(t))if(e=r.start,void 0===(n=r.end)&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if((n=(e=t.ownerDocument||document)&&e.defaultView||window).getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=Jn(t,s);var a=Jn(t,r);i&&a&&(1!==n.rangeCount||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==a.node||n.focusOffset!==a.offset)&&((e=e.createRange()).setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),n.addRange(e)))}for(e=[],n=t;n=n.parentNode;)1===n.nodeType&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for("function"===typeof t.focus&&t.focus(),t=0;t<e.length;t++)(n=e[t]).element.scrollLeft=n.left,n.element.scrollTop=n.top}}var nr=nt&&"documentMode"in document&&11>=document.documentMode,rr=null,ir=null,sr=null,ar=!1;function or(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ar||null==rr||rr!==ft(r)||("selectionStart"in(r=rr)&&er(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},sr&&Qn(sr,r)||(sr=r,0<(r=Lu(ir,"onSelect")).length&&(t=new Xt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},ur={},dr={};function hr(e){if(ur[e])return ur[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in dr)return ur[e]=n[t];return e}nt&&(dr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var fr=hr("animationend"),pr=hr("animationiteration"),mr=hr("animationstart"),gr=hr("transitionrun"),vr=hr("transitionstart"),yr=hr("transitioncancel"),br=hr("transitionend"),wr=new Map,Er="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function _r(e,t){wr.set(e,t),et(t,[e])}var xr=[],Sr=0,kr=0;function Tr(){for(var e=Sr,t=kr=Sr=0;t<e;){var n=xr[t];xr[t++]=null;var r=xr[t];xr[t++]=null;var i=xr[t];xr[t++]=null;var s=xr[t];if(xr[t++]=null,null!==r&&null!==i){var a=r.pending;null===a?i.next=i:(i.next=a.next,a.next=i),r.pending=i}0!==s&&Rr(n,i,s)}}function Cr(e,t,n,r){xr[Sr++]=e,xr[Sr++]=t,xr[Sr++]=n,xr[Sr++]=r,kr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Nr(e,t,n,r){return Cr(e,t,n,r),Ar(e)}function Ir(e,t){return Cr(e,null,null,t),Ar(e)}function Rr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,s=e.return;null!==s;)s.childLanes|=n,null!==(r=s.alternate)&&(r.childLanes|=n),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(i=!0)),e=s,s=s.return;i&&null!==t&&3===e.tag&&(s=e.stateNode,i=31-we(n),null===(e=(s=s.hiddenUpdates)[i])?s[i]=[t]:e.push(t),t.lane=536870912|n)}function Ar(e){if(50<Nc)throw Nc=0,Ic=null,Error(a(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Or={},Pr=new WeakMap;function jr(e,t){if("object"===typeof e&&null!==e){var n=Pr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:L(t)},Pr.set(e,t),t)}return{value:e,source:t,stack:L(t)}}var Dr=[],Lr=0,Mr=null,Fr=0,Ur=[],Vr=0,zr=null,$r=1,Br="";function Hr(e,t){Dr[Lr++]=Fr,Dr[Lr++]=Mr,Mr=e,Fr=t}function qr(e,t,n){Ur[Vr++]=$r,Ur[Vr++]=Br,Ur[Vr++]=zr,zr=e;var r=$r;e=Br;var i=32-we(r)-1;r&=~(1<<i),n+=1;var s=32-we(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,$r=1<<32-we(t)+i|n<<i|r,Br=s+e}else $r=1<<s|n<<i|r,Br=e}function Wr(e){null!==e.return&&(Hr(e,1),qr(e,1,0))}function Kr(e){for(;e===Mr;)Mr=Dr[--Lr],Dr[Lr]=null,Fr=Dr[--Lr],Dr[Lr]=null;for(;e===zr;)zr=Ur[--Vr],Ur[Vr]=null,Br=Ur[--Vr],Ur[Vr]=null,$r=Ur[--Vr],Ur[Vr]=null}var Gr=null,Qr=null,Yr=!1,Jr=null,Xr=!1,Zr=Error(a(519));function ei(e){throw si(jr(Error(a(418,"")),e)),Zr}function ti(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Fe]=e,t[Ue]=r,n){case"dialog":Iu("cancel",t),Iu("close",t);break;case"iframe":case"object":case"embed":Iu("load",t);break;case"video":case"audio":for(n=0;n<Tu.length;n++)Iu(Tu[n],t);break;case"source":Iu("error",t);break;case"img":case"image":case"link":Iu("error",t),Iu("load",t);break;case"details":Iu("toggle",t);break;case"input":Iu("invalid",t),vt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),dt(t);break;case"select":Iu("invalid",t);break;case"textarea":Iu("invalid",t),Et(t,r.value,r.defaultValue,r.children),dt(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||$u(t.textContent,n)?(null!=r.popover&&(Iu("beforetoggle",t),Iu("toggle",t)),null!=r.onScroll&&Iu("scroll",t),null!=r.onScrollEnd&&Iu("scrollend",t),null!=r.onClick&&(t.onclick=Bu),t=!0):t=!1,t||ei(e)}function ni(e){for(Gr=e.return;Gr;)switch(Gr.tag){case 3:case 27:return void(Xr=!0);case 5:case 13:return void(Xr=!1);default:Gr=Gr.return}}function ri(e){if(e!==Gr)return!1;if(!Yr)return ni(e),Yr=!0,!1;var t,n=!1;if((t=3!==e.tag&&27!==e.tag)&&((t=5===e.tag)&&(t=!("form"!==(t=e.type)&&"button"!==t)||Xu(e.type,e.memoizedProps)),t=!t),t&&(n=!0),n&&Qr&&ei(e),ni(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){Qr=od(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}Qr=null}}else Qr=Gr?od(e.stateNode.nextSibling):null;return!0}function ii(){Qr=Gr=null,Yr=!1}function si(e){null===Jr?Jr=[e]:Jr.push(e)}var ai=Error(a(460)),oi=Error(a(474)),li={then:function(){}};function ci(e){return"fulfilled"===(e=e.status)||"rejected"===e}function ui(){}function di(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(ui,ui),t=n),t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===ai)throw Error(a(483));throw e;default:if("string"===typeof t.status)t.then(ui,ui);else{if(null!==(e=tc)&&100<e.shellSuspendCounter)throw Error(a(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}}),(function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===ai)throw Error(a(483));throw e}throw hi=t,ai}}var hi=null;function fi(){if(null===hi)throw Error(a(459));var e=hi;return hi=null,e}var pi=null,mi=0;function gi(e){var t=mi;return mi+=1,null===pi&&(pi=[]),di(pi,e,t)}function vi(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function yi(e,t){if(t.$$typeof===l)throw Error(a(525));throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bi(e){return(0,e._init)(e._payload)}function wi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Ml(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=33554434,n):r:(t.flags|=33554434,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=33554434),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=$l(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n,r){var s=n.type;return s===d?p(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===E&&bi(s)===t.type)?(vi(t=i(t,n.props),n),t.return=e,t):(vi(t=Ul(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function f(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Bl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function p(e,t,n,r,s){return null===t||7!==t.tag?((t=Vl(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function m(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=$l(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case c:return vi(n=Ul(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case u:return(t=Bl(t,e.mode,n)).return=e,t;case E:return m(e,t=(0,t._init)(t._payload),n)}if(z(t)||k(t))return(t=Vl(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return m(e,gi(t),n);if(t.$$typeof===g)return m(e,To(e,t),n);yi(e,t)}return null}function v(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case c:return n.key===i?h(e,t,n,r):null;case u:return n.key===i?f(e,t,n,r):null;case E:return v(e,t,n=(i=n._init)(n._payload),r)}if(z(n)||k(n))return null!==i?null:p(e,t,n,r,null);if("function"===typeof n.then)return v(e,t,gi(n),r);if(n.$$typeof===g)return v(e,t,To(e,n),r);yi(e,n)}return null}function y(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case c:return h(t,e=e.get(null===r.key?n:r.key)||null,r,i);case u:return f(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return y(e,t,n,r=(0,r._init)(r._payload),i)}if(z(r)||k(r))return p(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return y(e,t,n,gi(r),i);if(r.$$typeof===g)return y(e,t,n,To(t,r),i);yi(t,r)}return null}function b(l,h,f,p){if("object"===typeof f&&null!==f&&f.type===d&&null===f.key&&(f=f.props.children),"object"===typeof f&&null!==f){switch(f.$$typeof){case c:e:{for(var w=f.key;null!==h;){if(h.key===w){if((w=f.type)===d){if(7===h.tag){n(l,h.sibling),(p=i(h,f.props.children)).return=l,l=p;break e}}else if(h.elementType===w||"object"===typeof w&&null!==w&&w.$$typeof===E&&bi(w)===h.type){n(l,h.sibling),vi(p=i(h,f.props),f),p.return=l,l=p;break e}n(l,h);break}t(l,h),h=h.sibling}f.type===d?((p=Vl(f.props.children,l.mode,p,f.key)).return=l,l=p):(vi(p=Ul(f.type,f.key,f.props,null,l.mode,p),f),p.return=l,l=p)}return o(l);case u:e:{for(w=f.key;null!==h;){if(h.key===w){if(4===h.tag&&h.stateNode.containerInfo===f.containerInfo&&h.stateNode.implementation===f.implementation){n(l,h.sibling),(p=i(h,f.children||[])).return=l,l=p;break e}n(l,h);break}t(l,h),h=h.sibling}(p=Bl(f,l.mode,p)).return=l,l=p}return o(l);case E:return b(l,h,f=(w=f._init)(f._payload),p)}if(z(f))return function(i,a,o,l){for(var c=null,u=null,d=a,h=a=0,f=null;null!==d&&h<o.length;h++){d.index>h?(f=d,d=null):f=d.sibling;var p=v(i,d,o[h],l);if(null===p){null===d&&(d=f);break}e&&d&&null===p.alternate&&t(i,d),a=s(p,a,h),null===u?c=p:u.sibling=p,u=p,d=f}if(h===o.length)return n(i,d),Yr&&Hr(i,h),c;if(null===d){for(;h<o.length;h++)null!==(d=m(i,o[h],l))&&(a=s(d,a,h),null===u?c=d:u.sibling=d,u=d);return Yr&&Hr(i,h),c}for(d=r(d);h<o.length;h++)null!==(f=y(d,i,h,o[h],l))&&(e&&null!==f.alternate&&d.delete(null===f.key?h:f.key),a=s(f,a,h),null===u?c=f:u.sibling=f,u=f);return e&&d.forEach((function(e){return t(i,e)})),Yr&&Hr(i,h),c}(l,h,f,p);if(k(f)){if("function"!==typeof(w=k(f)))throw Error(a(150));return function(i,o,l,c){if(null==l)throw Error(a(151));for(var u=null,d=null,h=o,f=o=0,p=null,g=l.next();null!==h&&!g.done;f++,g=l.next()){h.index>f?(p=h,h=null):p=h.sibling;var b=v(i,h,g.value,c);if(null===b){null===h&&(h=p);break}e&&h&&null===b.alternate&&t(i,h),o=s(b,o,f),null===d?u=b:d.sibling=b,d=b,h=p}if(g.done)return n(i,h),Yr&&Hr(i,f),u;if(null===h){for(;!g.done;f++,g=l.next())null!==(g=m(i,g.value,c))&&(o=s(g,o,f),null===d?u=g:d.sibling=g,d=g);return Yr&&Hr(i,f),u}for(h=r(h);!g.done;f++,g=l.next())null!==(g=y(h,i,f,g.value,c))&&(e&&null!==g.alternate&&h.delete(null===g.key?f:g.key),o=s(g,o,f),null===d?u=g:d.sibling=g,d=g);return e&&h.forEach((function(e){return t(i,e)})),Yr&&Hr(i,f),u}(l,h,f=w.call(f),p)}if("function"===typeof f.then)return b(l,h,gi(f),p);if(f.$$typeof===g)return b(l,h,To(l,f),p);yi(l,f)}return"string"===typeof f&&""!==f||"number"===typeof f||"bigint"===typeof f?(f=""+f,null!==h&&6===h.tag?(n(l,h.sibling),(p=i(h,f)).return=l,l=p):(n(l,h),(p=$l(f,l.mode,p)).return=l,l=p),o(l)):n(l,h)}return function(e,t,n,r){try{mi=0;var i=b(e,t,n,r);return pi=null,i}catch(a){if(a===ai)throw a;var s=Dl(29,a,null,e.mode);return s.lanes=r,s.return=e,s}}}var Ei=wi(!0),_i=wi(!1),xi=W(null),Si=W(0);function ki(e,t){G(Si,e=cc),G(xi,t),cc=e|t.baseLanes}function Ti(){G(Si,cc),G(xi,xi.current)}function Ci(){cc=Si.current,K(xi),K(Si)}var Ni=W(null),Ii=null;function Ri(e){var t=e.alternate;G(ji,1&ji.current),G(Ni,e),null===Ii&&(null===t||null!==xi.current||null!==t.memoizedState)&&(Ii=e)}function Ai(e){if(22===e.tag){if(G(ji,ji.current),G(Ni,e),null===Ii){var t=e.alternate;null!==t&&null!==t.memoizedState&&(Ii=e)}}else Oi()}function Oi(){G(ji,ji.current),G(Ni,Ni.current)}function Pi(e){K(Ni),Ii===e&&(Ii=null),K(ji)}var ji=W(0);function Di(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Li="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},Mi=r.unstable_scheduleCallback,Fi=r.unstable_NormalPriority,Ui={$$typeof:g,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vi(){return{controller:new Li,data:new Map,refCount:0}}function zi(e){e.refCount--,0===e.refCount&&Mi(Fi,(function(){e.controller.abort()}))}var $i=null,Bi=0,Hi=0,qi=null;function Wi(){if(0===--Bi&&null!==$i){null!==qi&&(qi.status="fulfilled");var e=$i;$i=null,Hi=0,qi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Ki=R.S;R.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===$i){var n=$i=[];Bi=0,Hi=Eu(),qi={status:"pending",value:void 0,then:function(e){n.push(e)}}}Bi++,t.then(Wi,Wi)}(0,t),null!==Ki&&Ki(e,t)};var Gi=W(null);function Qi(){var e=Gi.current;return null!==e?e:tc.pooledCache}function Yi(e,t){G(Gi,null===t?Gi.current:t.pool)}function Ji(){var e=Qi();return null===e?null:{parent:Ui._currentValue,pool:e}}var Xi=0,Zi=null,es=null,ts=null,ns=!1,rs=!1,is=!1,ss=0,as=0,os=null,ls=0;function cs(){throw Error(a(321))}function us(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Gn(e[n],t[n]))return!1;return!0}function ds(e,t,n,r,i,s){return Xi=s,Zi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,R.H=null===e||null===e.memoizedState?ka:Ta,is=!1,s=n(r,i),is=!1,rs&&(s=fs(t,n,r,i)),hs(e),s}function hs(e){R.H=Sa;var t=null!==es&&null!==es.next;if(Xi=0,ts=es=Zi=null,ns=!1,as=0,os=null,t)throw Error(a(300));null===e||Ba||null!==(e=e.dependencies)&&xo(e)&&(Ba=!0)}function fs(e,t,n,r){Zi=e;var i=0;do{if(rs&&(os=null),as=0,rs=!1,25<=i)throw Error(a(301));if(i+=1,ts=es=null,null!=e.updateQueue){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}R.H=Ca,s=t(n,r)}while(rs);return s}function ps(){var e=R.H,t=e.useState()[0];return t="function"===typeof t.then?ws(t):t,e=e.useState()[0],(null!==es?es.memoizedState:null)!==e&&(Zi.flags|=1024),t}function ms(){var e=0!==ss;return ss=0,e}function gs(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function vs(e){if(ns){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}ns=!1}Xi=0,ts=es=Zi=null,rs=!1,as=ss=0,os=null}function ys(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ts?Zi.memoizedState=ts=e:ts=ts.next=e,ts}function bs(){if(null===es){var e=Zi.alternate;e=null!==e?e.memoizedState:null}else e=es.next;var t=null===ts?Zi.memoizedState:ts.next;if(null!==t)ts=t,es=e;else{if(null===e){if(null===Zi.alternate)throw Error(a(467));throw Error(a(310))}e={memoizedState:(es=e).memoizedState,baseState:es.baseState,baseQueue:es.baseQueue,queue:es.queue,next:null},null===ts?Zi.memoizedState=ts=e:ts=ts.next=e}return ts}function ws(e){var t=as;return as+=1,null===os&&(os=[]),e=di(os,e,t),t=Zi,null===(null===ts?t.memoizedState:ts.next)&&(t=t.alternate,R.H=null===t||null===t.memoizedState?ka:Ta),e}function Es(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return ws(e);if(e.$$typeof===g)return ko(e)}throw Error(a(438,String(e)))}function _s(e){var t=null,n=Zi.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=Zi.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map((function(e){return e.slice()})),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Zi.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=x;return t.index++,n}function xs(e,t){return"function"===typeof t?t(e):t}function Ss(e){return ks(bs(),es,e)}function ks(e,t,n){var r=e.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=n;var i=e.baseQueue,s=r.pending;if(null!==s){if(null!==i){var o=i.next;i.next=s.next,s.next=o}t.baseQueue=i=s,r.pending=null}if(s=e.baseState,null===i)e.memoizedState=s;else{var l=o=null,c=null,u=t=i.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(rc&h)===h:(Xi&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Hi&&(d=!0);else{if((Xi&f)===f){u=u.next,f===Hi&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,o=s):c=c.next=h,Zi.lanes|=f,dc|=f}h=u.action,is&&n(s,h),s=u.hasEagerState?u.eagerState:n(s,h)}else f={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,o=s):c=c.next=f,Zi.lanes|=h,dc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?o=s:c.next=l,!Gn(s,e.memoizedState)&&(Ba=!0,d&&null!==(n=qi)))throw n;e.memoizedState=s,e.baseState=o,e.baseQueue=c,r.lastRenderedState=s}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Ts(e){var t=bs(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{s=e(s,o.action),o=o.next}while(o!==i);Gn(s,t.memoizedState)||(Ba=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Cs(e,t,n){var r=Zi,i=bs(),s=Yr;if(s){if(void 0===n)throw Error(a(407));n=n()}else n=t();var o=!Gn((es||i).memoizedState,n);if(o&&(i.memoizedState=n,Ba=!0),i=i.queue,Xs(Rs.bind(null,r,i,e),[e]),i.getSnapshot!==t||o||null!==ts&&1&ts.memoizedState.tag){if(r.flags|=2048,Ks(9,Is.bind(null,r,i,n,t),{destroy:void 0},null),null===tc)throw Error(a(349));s||0!==(60&Xi)||Ns(r,t,n)}return n}function Ns(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Zi.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Zi.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Is(e,t,n,r){t.value=n,t.getSnapshot=r,As(t)&&Os(e)}function Rs(e,t,n){return n((function(){As(t)&&Os(e)}))}function As(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Gn(e,n)}catch(r){return!0}}function Os(e){var t=Ir(e,2);null!==t&&Oc(t,e,2)}function Ps(e){var t=ys();if("function"===typeof e){var n=e;if(e=n(),is){be(!0);try{n()}finally{be(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:e},t}function js(e,t,n,r){return e.baseState=n,ks(e,es,"function"===typeof r?r:xs)}function Ds(e,t,n,r,i){if(Ea(e))throw Error(a(485));if(null!==(e=t.action)){var s={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){s.listeners.push(e)}};null!==R.T?n(!0):s.isTransition=!1,r(s),null===(n=t.pending)?(s.next=t.pending=s,Ls(t,s)):(s.next=n.next,t.pending=n.next=s)}}function Ls(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var s=R.T,a={};R.T=a;try{var o=n(i,r),l=R.S;null!==l&&l(a,o),Ms(e,t,o)}catch(c){Us(e,t,c)}finally{R.T=s}}else try{Ms(e,t,s=n(i,r))}catch(u){Us(e,t,u)}}function Ms(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then((function(n){Fs(e,t,n)}),(function(n){return Us(e,t,n)})):Fs(e,t,n)}function Fs(e,t,n){t.status="fulfilled",t.value=n,Vs(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Ls(e,n)))}function Us(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Vs(t),t=t.next}while(t!==r)}e.action=null}function Vs(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function zs(e,t){return t}function $s(e,t){if(Yr){var n=tc.formState;if(null!==n){e:{var r=Zi;if(Yr){if(Qr){t:{for(var i=Qr,s=Xr;8!==i.nodeType;){if(!s){i=null;break t}if(null===(i=od(i.nextSibling))){i=null;break t}}i="F!"===(s=i.data)||"F"===s?i:null}if(i){Qr=od(i.nextSibling),r="F!"===i.data;break e}}ei(r)}r=!1}r&&(t=n[0])}}return(n=ys()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zs,lastRenderedState:t},n.queue=r,n=ya.bind(null,Zi,r),r.dispatch=n,r=Ps(!1),s=wa.bind(null,Zi,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=ys()).queue=i,n=Ds.bind(null,Zi,i,s,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function Bs(e){return Hs(bs(),es,e)}function Hs(e,t,n){t=ks(e,t,zs)[0],e=Ss(xs)[0],t="object"===typeof t&&null!==t&&"function"===typeof t.then?ws(t):t;var r=bs(),i=r.queue,s=i.dispatch;return n!==r.memoizedState&&(Zi.flags|=2048,Ks(9,qs.bind(null,i,n),{destroy:void 0},null)),[t,s,e]}function qs(e,t){e.action=t}function Ws(e){var t=bs(),n=es;if(null!==n)return Hs(t,n,e);bs(),t=t.memoizedState;var r=(n=bs()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Ks(e,t,n,r){return e={tag:e,create:t,inst:n,deps:r,next:null},null===(t=Zi.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Zi.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Gs(){return bs().memoizedState}function Qs(e,t,n,r){var i=ys();Zi.flags|=e,i.memoizedState=Ks(1|t,n,{destroy:void 0},void 0===r?null:r)}function Ys(e,t,n,r){var i=bs();r=void 0===r?null:r;var s=i.memoizedState.inst;null!==es&&null!==r&&us(r,es.memoizedState.deps)?i.memoizedState=Ks(t,n,s,r):(Zi.flags|=e,i.memoizedState=Ks(1|t,n,s,r))}function Js(e,t){Qs(8390656,8,e,t)}function Xs(e,t){Ys(2048,8,e,t)}function Zs(e,t){return Ys(4,2,e,t)}function ea(e,t){return Ys(4,4,e,t)}function ta(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function na(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Ys(4,4,ta.bind(null,t,e),n)}function ra(){}function ia(e,t){var n=bs();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&us(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function sa(e,t){var n=bs();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&us(t,r[1]))return r[0];if(r=e(),is){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r}function aa(e,t,n){return void 0===n||0!==(1073741824&Xi)?e.memoizedState=t:(e.memoizedState=n,e=Ac(),Zi.lanes|=e,dc|=e,n)}function oa(e,t,n,r){return Gn(n,t)?n:null!==xi.current?(e=aa(e,n,r),Gn(e,t)||(Ba=!0),e):0===(42&Xi)?(Ba=!0,e.memoizedState=n):(e=Ac(),Zi.lanes|=e,dc|=e,t)}function la(e,t,n,r,i){var s=$.p;$.p=0!==s&&8>s?s:8;var a=R.T,o={};R.T=o,wa(e,!1,t,n);try{var l=i(),c=R.S;if(null!==c&&c(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)ba(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then((function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)}),(function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)})),r}(l,r),Rc());else ba(e,t,r,Rc())}catch(u){ba(e,t,{then:function(){},status:"rejected",reason:u},Rc())}finally{$.p=s,R.T=a}}function ca(){}function ua(e,t,n,r){if(5!==e.tag)throw Error(a(476));var i=da(e).queue;la(e,i,t,B,null===n?ca:function(){return ha(e),n(r)})}function da(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:B,baseState:B,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:B},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function ha(e){ba(e,da(e).next.queue,{},Rc())}function fa(){return ko(Ld)}function pa(){return bs().memoizedState}function ma(){return bs().memoizedState}function ga(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Rc(),r=Oo(t,e=Ao(n),n);return null!==r&&(Oc(r,t,n),Po(r,t,n)),t={cache:Vi()},void(e.payload=t)}t=t.return}}function va(e,t,n){var r=Rc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Ea(e)?_a(t,n):null!==(n=Nr(e,t,n,r))&&(Oc(n,e,r),xa(n,t,r))}function ya(e,t,n){ba(e,t,n,Rc())}function ba(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ea(e))_a(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,Gn(o,a))return Cr(e,t,i,0),null===tc&&Tr(),!1}catch(l){}if(null!==(n=Nr(e,t,i,r)))return Oc(n,e,r),xa(n,t,r),!0}return!1}function wa(e,t,n,r){if(r={lane:2,revertLane:Eu(),action:r,hasEagerState:!1,eagerState:null,next:null},Ea(e)){if(t)throw Error(a(479))}else null!==(t=Nr(e,n,r,2))&&Oc(t,e,2)}function Ea(e){var t=e.alternate;return e===Zi||null!==t&&t===Zi}function _a(e,t){rs=ns=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function xa(e,t,n){if(0!==(4194176&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,je(e,n)}}var Sa={readContext:ko,use:Es,useCallback:cs,useContext:cs,useEffect:cs,useImperativeHandle:cs,useLayoutEffect:cs,useInsertionEffect:cs,useMemo:cs,useReducer:cs,useRef:cs,useState:cs,useDebugValue:cs,useDeferredValue:cs,useTransition:cs,useSyncExternalStore:cs,useId:cs};Sa.useCacheRefresh=cs,Sa.useMemoCache=cs,Sa.useHostTransitionStatus=cs,Sa.useFormState=cs,Sa.useActionState=cs,Sa.useOptimistic=cs;var ka={readContext:ko,use:Es,useCallback:function(e,t){return ys().memoizedState=[e,void 0===t?null:t],e},useContext:ko,useEffect:Js,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Qs(4194308,4,ta.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Qs(4194308,4,e,t)},useInsertionEffect:function(e,t){Qs(4,2,e,t)},useMemo:function(e,t){var n=ys();t=void 0===t?null:t;var r=e();if(is){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=ys();if(void 0!==n){var i=n(t);if(is){be(!0);try{n(t)}finally{be(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=va.bind(null,Zi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ys().memoizedState=e},useState:function(e){var t=(e=Ps(e)).queue,n=ya.bind(null,Zi,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:ra,useDeferredValue:function(e,t){return aa(ys(),e,t)},useTransition:function(){var e=Ps(!1);return e=la.bind(null,Zi,e.queue,!0,!1),ys().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Zi,i=ys();if(Yr){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===tc)throw Error(a(349));0!==(60&rc)||Ns(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Js(Rs.bind(null,r,s,e),[e]),r.flags|=2048,Ks(9,Is.bind(null,r,s,n,t),{destroy:void 0},null),n},useId:function(){var e=ys(),t=tc.identifierPrefix;if(Yr){var n=Br;t=":"+t+"R"+(n=($r&~(1<<32-we($r)-1)).toString(32)+n),0<(n=ss++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ls++).toString(32)+":";return e.memoizedState=t},useCacheRefresh:function(){return ys().memoizedState=ga.bind(null,Zi)}};ka.useMemoCache=_s,ka.useHostTransitionStatus=fa,ka.useFormState=$s,ka.useActionState=$s,ka.useOptimistic=function(e){var t=ys();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=wa.bind(null,Zi,!0,n),n.dispatch=t,[e,t]};var Ta={readContext:ko,use:Es,useCallback:ia,useContext:ko,useEffect:Xs,useImperativeHandle:na,useInsertionEffect:Zs,useLayoutEffect:ea,useMemo:sa,useReducer:Ss,useRef:Gs,useState:function(){return Ss(xs)},useDebugValue:ra,useDeferredValue:function(e,t){return oa(bs(),es.memoizedState,e,t)},useTransition:function(){var e=Ss(xs)[0],t=bs().memoizedState;return["boolean"===typeof e?e:ws(e),t]},useSyncExternalStore:Cs,useId:pa};Ta.useCacheRefresh=ma,Ta.useMemoCache=_s,Ta.useHostTransitionStatus=fa,Ta.useFormState=Bs,Ta.useActionState=Bs,Ta.useOptimistic=function(e,t){return js(bs(),0,e,t)};var Ca={readContext:ko,use:Es,useCallback:ia,useContext:ko,useEffect:Xs,useImperativeHandle:na,useInsertionEffect:Zs,useLayoutEffect:ea,useMemo:sa,useReducer:Ts,useRef:Gs,useState:function(){return Ts(xs)},useDebugValue:ra,useDeferredValue:function(e,t){var n=bs();return null===es?aa(n,e,t):oa(n,es.memoizedState,e,t)},useTransition:function(){var e=Ts(xs)[0],t=bs().memoizedState;return["boolean"===typeof e?e:ws(e),t]},useSyncExternalStore:Cs,useId:pa};function Na(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:A({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}Ca.useCacheRefresh=ma,Ca.useMemoCache=_s,Ca.useHostTransitionStatus=fa,Ca.useFormState=Ws,Ca.useActionState=Ws,Ca.useOptimistic=function(e,t){var n=bs();return null!==es?js(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])};var Ia={isMounted:function(e){return!!(e=e._reactInternals)&&M(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Rc(),i=Ao(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Oo(e,i,r))&&(Oc(t,e,r),Po(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Rc(),i=Ao(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Oo(e,i,r))&&(Oc(t,e,r),Po(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Rc(),r=Ao(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=Oo(e,r,n))&&(Oc(t,e,n),Po(t,e,n))}};function Ra(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!Qn(n,r)||!Qn(i,s))}function Aa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ia.enqueueReplaceState(t,t.state,null)}function Oa(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=A({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}var Pa="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function ja(e){Pa(e)}function Da(e){console.error(e)}function La(e){Pa(e)}function Ma(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout((function(){throw n}))}}function Fa(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout((function(){throw r}))}}function Ua(e,t,n){return(n=Ao(n)).tag=3,n.payload={element:null},n.callback=function(){Ma(e,t)},n}function Va(e){return(e=Ao(e)).tag=3,e}function za(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var s=r.value;e.payload=function(){return i(s)},e.callback=function(){Fa(t,n,r)}}var a=n.stateNode;null!==a&&"function"===typeof a.componentDidCatch&&(e.callback=function(){Fa(t,n,r),"function"!==typeof i&&(null===_c?_c=new Set([this]):_c.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var $a=Error(a(461)),Ba=!1;function Ha(e,t,n,r){t.child=null===e?_i(t,null,n,r):Ei(t,e.child,n,r)}function qa(e,t,n,r,i){n=n.render;var s=t.ref;if("ref"in r){var a={};for(var o in r)"ref"!==o&&(a[o]=r[o])}else a=r;return So(t),r=ds(e,t,n,a,s,i),o=ms(),null===e||Ba?(Yr&&o&&Wr(t),t.flags|=1,Ha(e,t,r,i),t.child):(gs(e,t,i),ho(e,t,i))}function Wa(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Ll(s)||void 0!==s.defaultProps||null!==n.compare?((e=Ul(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ka(e,t,s,r,i))}if(s=e.child,!fo(e,i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:Qn)(a,r)&&e.ref===t.ref)return ho(e,t,i)}return t.flags|=1,(e=Ml(s,r)).ref=t.ref,e.return=t,t.child=e}function Ka(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(Qn(s,r)&&e.ref===t.ref){if(Ba=!1,t.pendingProps=r=s,!fo(e,i))return t.lanes=e.lanes,ho(e,t,i);0!==(131072&e.flags)&&(Ba=!0)}}return Ja(e,t,n,r,i)}function Ga(e,t,n){var r=t.pendingProps,i=r.children,s=0!==(2&t.stateNode._pendingVisibility),a=null!==e?e.memoizedState:null;if(Ya(e,t),"hidden"===r.mode||s){if(0!==(128&t.flags)){if(r=null!==a?a.baseLanes|n:n,null!==e){for(i=t.child=e.child,s=0;null!==i;)s=s|i.lanes|i.childLanes,i=i.sibling;t.childLanes=s&~r}else t.childLanes=0,t.child=null;return Qa(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Qa(e,t,null!==a?a.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Yi(0,null!==a?a.cachePool:null),null!==a?ki(t,a):Ti(),Ai(t)}else null!==a?(Yi(0,a.cachePool),ki(t,a),Oi(),t.memoizedState=null):(null!==e&&Yi(0,null),Ti(),Oi());return Ha(e,t,i,n),t.child}function Qa(e,t,n,r){var i=Qi();return i=null===i?null:{parent:Ui._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&Yi(0,null),Ti(),Ai(t),null!==e&&_o(e,t,r,!0),null}function Ya(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=2097664);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(a(284));null!==e&&e.ref===n||(t.flags|=2097664)}}function Ja(e,t,n,r,i){return So(t),n=ds(e,t,n,r,void 0,i),r=ms(),null===e||Ba?(Yr&&r&&Wr(t),t.flags|=1,Ha(e,t,n,i),t.child):(gs(e,t,i),ho(e,t,i))}function Xa(e,t,n,r,i,s){return So(t),t.updateQueue=null,n=fs(t,r,n,i),hs(e),r=ms(),null===e||Ba?(Yr&&r&&Wr(t),t.flags|=1,Ha(e,t,n,s),t.child):(gs(e,t,s),ho(e,t,s))}function Za(e,t,n,r,i){if(So(t),null===t.stateNode){var s=Or,a=n.contextType;"object"===typeof a&&null!==a&&(s=ko(a)),s=new n(r,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=Ia,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=r,s.state=t.memoizedState,s.refs={},Io(t),a=n.contextType,s.context="object"===typeof a&&null!==a?ko(a):Or,s.state=t.memoizedState,"function"===typeof(a=n.getDerivedStateFromProps)&&(Na(t,n,a,r),s.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(a=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),a!==s.state&&Ia.enqueueReplaceState(s,s.state,null),Mo(t,r,s,i),Lo(),s.state=t.memoizedState),"function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){s=t.stateNode;var o=t.memoizedProps,l=Oa(n,o);s.props=l;var c=s.context,u=n.contextType;a=Or,"object"===typeof u&&null!==u&&(a=ko(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof s.getSnapshotBeforeUpdate,o=t.pendingProps!==o,u||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o||c!==a)&&Aa(t,s,r,a),No=!1;var h=t.memoizedState;s.state=h,Mo(t,r,s,i),Lo(),c=t.memoizedState,o||h!==c||No?("function"===typeof d&&(Na(t,n,d,r),c=t.memoizedState),(l=No||Ra(t,n,l,r,h,c,a))?(u||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=a,r=l):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Ro(e,t),u=Oa(n,a=t.memoizedProps),s.props=u,d=t.pendingProps,h=s.context,c=n.contextType,l=Or,"object"===typeof c&&null!==c&&(l=ko(c)),(c="function"===typeof(o=n.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==d||h!==l)&&Aa(t,s,r,l),No=!1,h=t.memoizedState,s.state=h,Mo(t,r,s,i),Lo();var f=t.memoizedState;a!==d||h!==f||No||null!==e&&null!==e.dependencies&&xo(e.dependencies)?("function"===typeof o&&(Na(t,n,o,r),f=t.memoizedState),(u=No||Ra(t,n,u,r,h,f,l)||null!==e&&null!==e.dependencies&&xo(e.dependencies))?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=l,r=u):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return s=r,Ya(e,t),r=0!==(128&t.flags),s||r?(s=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&r?(t.child=Ei(t,e.child,null,i),t.child=Ei(t,null,n,i)):Ha(e,t,n,i),t.memoizedState=s.state,e=t.child):e=ho(e,t,i),e}function eo(e,t,n,r){return ii(),t.flags|=256,Ha(e,t,n,r),t.child}var to={dehydrated:null,treeContext:null,retryLane:0};function no(e){return{baseLanes:e,cachePool:Ji()}}function ro(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=pc),e}function io(e,t,n){var r,i=t.pendingProps,s=!1,o=0!==(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!==(2&ji.current)),r&&(s=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(Yr){if(s?Ri(t):Oi(),Yr){var l,c=Qr;if(l=c){e:{for(l=c,c=Xr;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=od(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==zr?{id:$r,overflow:Br}:null,retryLane:536870912},(l=Dl(18,null,null,0)).stateNode=c,l.return=t,t.child=l,Gr=t,Qr=null,l=!0):l=!1}l||ei(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return"$!"===c.data?t.lanes=16:t.lanes=536870912,null;Pi(t)}return c=i.children,i=i.fallback,s?(Oi(),c=ao({mode:"hidden",children:c},s=t.mode),i=Vl(i,s,n,null),c.return=t,i.return=t,c.sibling=i,t.child=c,(s=t.child).memoizedState=no(n),s.childLanes=ro(e,r,n),t.memoizedState=to,i):(Ri(t),so(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(o)256&t.flags?(Ri(t),t.flags&=-257,t=oo(e,t,n)):null!==t.memoizedState?(Oi(),t.child=e.child,t.flags|=128,t=null):(Oi(),s=i.fallback,c=t.mode,i=ao({mode:"visible",children:i.children},c),(s=Vl(s,c,n,null)).flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,Ei(t,e.child,null,n),(i=t.child).memoizedState=no(n),i.childLanes=ro(e,r,n),t.memoizedState=to,t=s);else if(Ri(t),"$!"===c.data){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(a(419))).stack="",i.digest=r,si({value:i,source:null,stack:null}),t=oo(e,t,n)}else if(Ba||_o(e,t,n,!1),r=0!==(n&e.childLanes),Ba||r){if(null!==(r=tc)){if(0!==(42&(i=n&-n)))i=1;else switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=64;break;case 268435456:i=134217728;break;default:i=0}if(0!==(i=0!==(i&(r.suspendedLanes|n))?0:i)&&i!==l.retryLane)throw l.retryLane=i,Ir(e,i),Oc(r,e,i),$a}"$?"===c.data||Hc(),t=oo(e,t,n)}else"$?"===c.data?(t.flags|=128,t.child=e.child,t=ou.bind(null,e),c._reactRetry=t,t=null):(e=l.treeContext,Qr=od(c.nextSibling),Gr=t,Yr=!0,Jr=null,Xr=!1,null!==e&&(Ur[Vr++]=$r,Ur[Vr++]=Br,Ur[Vr++]=zr,$r=e.id,Br=e.overflow,zr=t),(t=so(t,i.children)).flags|=4096);return t}return s?(Oi(),s=i.fallback,c=t.mode,u=(l=e.child).sibling,(i=Ml(l,{mode:"hidden",children:i.children})).subtreeFlags=31457280&l.subtreeFlags,null!==u?s=Ml(u,s):(s=Vl(s,c,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,null===(c=e.child.memoizedState)?c=no(n):(null!==(l=c.cachePool)?(u=Ui._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Ji(),c={baseLanes:c.baseLanes|n,cachePool:l}),s.memoizedState=c,s.childLanes=ro(e,r,n),t.memoizedState=to,i):(Ri(t),e=(n=e.child).sibling,(n=Ml(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function so(e,t){return(t=ao({mode:"visible",children:t},e.mode)).return=e,e.child=t}function ao(e,t){return zl(e,t,0,null)}function oo(e,t,n){return Ei(t,e.child,null,n),(e=so(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function lo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),wo(e.return,t,n)}function co(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function uo(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Ha(e,t,r.children,n),0!==(2&(r=ji.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&lo(e,n,t);else if(19===e.tag)lo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(G(ji,r),i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Di(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),co(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Di(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}co(t,!0,n,null,s);break;case"together":co(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ho(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),dc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(_o(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Ml(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ml(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function fo(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!xo(e))}function po(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ba=!0;else{if(!fo(e,n)&&0===(128&t.flags))return Ba=!1,function(e,t,n){switch(t.tag){case 3:Z(t,t.stateNode.containerInfo),yo(t,Ui,e.memoizedState.cache),ii();break;case 27:case 5:te(t);break;case 4:Z(t,t.stateNode.containerInfo);break;case 10:yo(t,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Ri(t),t.flags|=128,null):0!==(n&t.child.childLanes)?io(e,t,n):(Ri(t),null!==(e=ho(e,t,n))?e.sibling:null);Ri(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(_o(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return uo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),G(ji,ji.current),r)break;return null;case 22:case 23:return t.lanes=0,Ga(e,t,n);case 24:yo(t,Ui,e.memoizedState.cache)}return ho(e,t,n)}(e,t,n);Ba=0!==(131072&e.flags)}else Ba=!1,Yr&&0!==(1048576&t.flags)&&qr(t,Fr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,i=r._init;if(r=i(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((i=r.$$typeof)===v){t.tag=11,t=qa(null,t,r,e,n);break e}if(i===w){t.tag=14,t=Wa(null,t,r,e,n);break e}}throw t=C(r)||r,Error(a(306,t,""))}Ll(r)?(e=Oa(r,e),t.tag=1,t=Za(null,t,r,e,n)):(t.tag=0,t=Ja(null,t,r,e,n))}return t;case 0:return Ja(e,t,t.type,t.pendingProps,n);case 1:return Za(e,t,r=t.type,i=Oa(r,t.pendingProps),n);case 3:e:{if(Z(t,t.stateNode.containerInfo),null===e)throw Error(a(387));var s=t.pendingProps;r=(i=t.memoizedState).element,Ro(e,t),Mo(t,s,null,n);var o=t.memoizedState;if(s=o.cache,yo(t,Ui,s),s!==i.cache&&Eo(t,[Ui],n,!0),Lo(),s=o.element,i.isDehydrated){if(i={element:s,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=eo(e,t,s,n);break e}if(s!==r){si(r=jr(Error(a(424)),t)),t=eo(e,t,s,n);break e}for(Qr=od(t.stateNode.containerInfo.firstChild),Gr=t,Yr=!0,Jr=null,Xr=!0,n=_i(t,null,s,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ii(),s===r){t=ho(e,t,n);break e}Ha(e,t,s,n)}t=t.child}return t;case 26:return Ya(e,t),null===e?(n=gd(t.type,null,t.pendingProps,null))?t.memoizedState=n:Yr||(n=t.type,e=t.pendingProps,(r=Qu(J.current).createElement(n))[Fe]=t,r[Ue]=e,Wu(r,n,e),Je(r),t.stateNode=r):t.memoizedState=gd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return te(t),null===e&&Yr&&(r=t.stateNode=cd(t.type,t.pendingProps,J.current),Gr=t,Xr=!0,Qr=od(r.firstChild)),r=t.pendingProps.children,null!==e||Yr?Ha(e,t,r,n):t.child=Ei(t,null,r,n),Ya(e,t),t.child;case 5:return null===e&&Yr&&((i=r=Qr)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[qe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==i.rel||e.getAttribute("href")!==(null==i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===s)return e}if(null===(e=od(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,Xr))?(t.stateNode=r,Gr=t,Qr=od(r.firstChild),Xr=!1,i=!0):i=!1),i||ei(t)),te(t),i=t.type,s=t.pendingProps,o=null!==e?e.memoizedProps:null,r=s.children,Xu(i,s)?r=null:null!==o&&Xu(i,o)&&(t.flags|=32),null!==t.memoizedState&&(i=ds(e,t,ps,null,null,n),Ld._currentValue=i),Ya(e,t),Ha(e,t,r,n),t.child;case 6:return null===e&&Yr&&((e=n=Qr)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=od(e.nextSibling)))return null}return e}(n,t.pendingProps,Xr))?(t.stateNode=n,Gr=t,Qr=null,e=!0):e=!1),e||ei(t)),null;case 13:return io(e,t,n);case 4:return Z(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ei(t,null,r,n):Ha(e,t,r,n),t.child;case 11:return qa(e,t,t.type,t.pendingProps,n);case 7:return Ha(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ha(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,yo(t,t.type,r.value),Ha(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,So(t),r=r(i=ko(i)),t.flags|=1,Ha(e,t,r,n),t.child;case 14:return Wa(e,t,t.type,t.pendingProps,n);case 15:return Ka(e,t,t.type,t.pendingProps,n);case 19:return uo(e,t,n);case 22:return Ga(e,t,n);case 24:return So(t),r=ko(Ui),null===e?(null===(i=Qi())&&(i=tc,s=Vi(),i.pooledCache=s,s.refCount++,null!==s&&(i.pooledCacheLanes|=n),i=s),t.memoizedState={parent:r,cache:i},Io(t),yo(t,Ui,i)):(0!==(e.lanes&n)&&(Ro(e,t),Mo(t,null,null,n),Lo()),i=e.memoizedState,s=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),yo(t,Ui,r)):(r=s.cache,yo(t,Ui,r),r!==i.cache&&Eo(t,[Ui],n,!0))),Ha(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}var mo=W(null),go=null,vo=null;function yo(e,t,n){G(mo,t._currentValue),t._currentValue=n}function bo(e){e._currentValue=mo.current,K(mo)}function wo(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Eo(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var s=i.dependencies;if(null!==s){var o=i.child;s=s.firstContext;e:for(;null!==s;){var l=s;s=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),wo(s.return,n,e),r||(o=null);break e}s=l.next}}else if(18===i.tag){if(null===(o=i.return))throw Error(a(341));o.lanes|=n,null!==(s=o.alternate)&&(s.lanes|=n),wo(o,n,e),o=null}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===e){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}}function _o(e,t,n,r){e=null;for(var i=t,s=!1;null!==i;){if(!s)if(0!==(524288&i.flags))s=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var o=i.alternate;if(null===o)throw Error(a(387));if(null!==(o=o.memoizedProps)){var l=i.type;Gn(i.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(i===X.current){if(null===(o=i.alternate))throw Error(a(387));o.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(Ld):e=[Ld])}i=i.return}null!==e&&Eo(t,e,n,r),t.flags|=262144}function xo(e){for(e=e.firstContext;null!==e;){if(!Gn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function So(e){go=e,vo=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function ko(e){return Co(go,e)}function To(e,t){return null===go&&So(e),Co(e,t)}function Co(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===vo){if(null===e)throw Error(a(308));vo=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else vo=vo.next=t;return n}var No=!1;function Io(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ro(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ao(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Oo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&ec)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Ar(e),Rr(e,null,n),t}return Cr(e,r,t,n),Ar(e)}function Po(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194176&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,je(e,n)}}function jo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Do=!1;function Lo(){if(Do){if(null!==qi)throw qi}}function Mo(e,t,n,r){Do=!1;var i=e.updateQueue;No=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=i.baseState;for(a=0,u=c=l=null,o=s;;){var h=-536870913&o.lane,f=h!==o.lane;if(f?(rc&h)===h:(r&h)===h){0!==h&&h===Hi&&(Do=!0),null!==u&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var p=e,m=o;h=t;var g=n;switch(m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(g,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(g,d,h):p)||void 0===h)break e;d=A({},d,h);break e;case 2:No=!0}}null!==(h=o.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=i.callbacks)?i.callbacks=[h]:f.push(h))}else f={lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(f=o).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===s&&(i.shared.lanes=0),dc|=a,e.lanes=a,e.memoizedState=d}}function Fo(e,t){if("function"!==typeof e)throw Error(a(191,e));e.call(t)}function Uo(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Fo(n[e],t)}function Vo(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var s=n.create,a=n.inst;r=s(),a.destroy=r}n=n.next}while(n!==i)}}catch(o){ru(t,t.return,o)}}function zo(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var s=i.next;r=s;do{if((r.tag&e)===e){var a=r.inst,o=a.destroy;if(void 0!==o){a.destroy=void 0,i=t;var l=n;try{o()}catch(c){ru(i,l,c)}}}r=r.next}while(r!==s)}}catch(c){ru(t,t.return,c)}}function $o(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Uo(t,n)}catch(r){ru(e,e.return,r)}}}function Bo(e,t,n){n.props=Oa(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){ru(e,t,r)}}function Ho(e,t){try{var n=e.ref;if(null!==n){var r=e.stateNode;switch(e.tag){case 26:case 27:case 5:var i=r;break;default:i=r}"function"===typeof n?e.refCleanup=n(i):n.current=i}}catch(s){ru(e,t,s)}}function qo(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){ru(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(s){ru(e,t,s)}else n.current=null}function Wo(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){ru(e,e.return,i)}}function Ko(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,o=null,l=null,c=null,u=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(p)||Hu(e,t,p,null,r,h)}}for(var f in r){var p=r[f];if(h=n[f],r.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":s=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":o=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(a(137,t));break;default:p!==h&&Hu(e,t,f,p,r,h)}}return void gt(e,o,l,c,u,d,s,i);case"select":for(s in p=o=l=f=null,n)if(c=n[s],n.hasOwnProperty(s)&&null!=c)switch(s){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(s)||Hu(e,t,s,null,r,c)}for(i in r)if(s=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=s||null!=c))switch(i){case"value":f=s;break;case"defaultValue":l=s;break;case"multiple":o=s;default:s!==c&&Hu(e,t,i,s,r,c)}return t=l,n=o,r=p,void(null!=f?bt(e,!!n,f,!1):!!r!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Hu(e,t,l,null,r,i)}for(o in r)if(i=r[o],s=n[o],r.hasOwnProperty(o)&&(null!=i||null!=s))switch(o){case"value":f=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(a(91));break;default:i!==s&&Hu(e,t,o,i,r,s)}return void wt(e,f,p);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else Hu(e,t,m,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else Hu(e,t,c,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&Hu(e,t,g,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(a(137,t));break;default:Hu(e,t,u,f,r,p)}return;default:if(Tt(t)){for(var v in n)f=n[v],n.hasOwnProperty(v)&&void 0!==f&&!r.hasOwnProperty(v)&&qu(e,t,v,void 0,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||qu(e,t,d,f,r,p);return}}for(var y in n)f=n[y],n.hasOwnProperty(y)&&null!=f&&!r.hasOwnProperty(y)&&Hu(e,t,y,null,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||null==f&&null==p||Hu(e,t,h,f,r,p)}(r,e.type,n,t),r[Ue]=t}catch(i){ru(e,e.return,i)}}function Go(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag||4===e.tag}function Qo(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Go(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&27!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Yo(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Bu));else if(4!==r&&27!==r&&null!==(e=e.child))for(Yo(e,t,n),e=e.sibling;null!==e;)Yo(e,t,n),e=e.sibling}function Jo(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&27!==r&&null!==(e=e.child))for(Jo(e,t,n),e=e.sibling;null!==e;)Jo(e,t,n),e=e.sibling}var Xo=!1,Zo=!1,el=!1,tl="function"===typeof WeakSet?WeakSet:Set,nl=null,rl=!1;function il(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:vl(e,n),4&r&&Vo(5,n);break;case 1:if(vl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(o){ru(n,n.return,o)}else{var i=Oa(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(l){ru(n,n.return,l)}}64&r&&$o(n),512&r&&Ho(n,n.return);break;case 3:if(vl(e,n),64&r&&null!==(r=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:e=n.child.stateNode}try{Uo(r,e)}catch(o){ru(n,n.return,o)}}break;case 26:vl(e,n),512&r&&Ho(n,n.return);break;case 27:case 5:vl(e,n),null===t&&4&r&&Wo(n),512&r&&Ho(n,n.return);break;case 12:default:vl(e,n);break;case 13:vl(e,n),4&r&&ul(e,n);break;case 22:if(!(i=null!==n.memoizedState||Xo)){t=null!==t&&null!==t.memoizedState||Zo;var s=Xo,a=Zo;Xo=i,(Zo=t)&&!a?bl(e,n,0!==(8772&n.subtreeFlags)):vl(e,n),Xo=s,Zo=a}512&r&&("manual"===n.memoizedProps.mode?Ho(n,n.return):qo(n,n.return))}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&We(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var al=null,ol=!1;function ll(e,t,n){for(n=n.child;null!==n;)cl(e,t,n),n=n.sibling}function cl(e,t,n){if(ye&&"function"===typeof ye.onCommitFiberUnmount)try{ye.onCommitFiberUnmount(ve,n)}catch(a){}switch(n.tag){case 26:Zo||qo(n,t),ll(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Zo||qo(n,t);var r=al,i=ol;for(al=n.stateNode,ll(e,t,n),t=(n=n.stateNode).attributes;t.length;)n.removeAttributeNode(t[0]);We(n),al=r,ol=i;break;case 5:Zo||qo(n,t);case 6:i=al;var s=ol;if(al=null,ll(e,t,n),ol=s,null!==(al=i))if(ol)try{e=al,r=n.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)}catch(o){ru(n,t,o)}else try{al.removeChild(n.stateNode)}catch(o){ru(n,t,o)}break;case 18:null!==al&&(ol?(t=al,n=n.stateNode,8===t.nodeType?sd(t.parentNode,n):1===t.nodeType&&sd(t,n),mh(t)):sd(al,n.stateNode));break;case 4:r=al,i=ol,al=n.stateNode.containerInfo,ol=!0,ll(e,t,n),al=r,ol=i;break;case 0:case 11:case 14:case 15:Zo||zo(2,n,t),Zo||zo(4,n,t),ll(e,t,n);break;case 1:Zo||(qo(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&Bo(n,t,r)),ll(e,t,n);break;case 21:ll(e,t,n);break;case 22:Zo||qo(n,t),Zo=(r=Zo)||null!==n.memoizedState,ll(e,t,n),Zo=r;break;default:ll(e,t,n)}}function ul(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{mh(e)}catch(n){ru(t,t.return,n)}}function dl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new tl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new tl),t;default:throw Error(a(435,e.tag))}}(e);t.forEach((function(t){var r=lu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}function hl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:case 5:al=l.stateNode,ol=!1;break e;case 3:case 4:al=l.stateNode.containerInfo,ol=!0;break e}l=l.return}if(null===al)throw Error(a(160));cl(s,o,i),al=null,ol=!1,null!==(s=i.alternate)&&(s.return=null),i.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)pl(t,e),t=t.sibling}var fl=null;function pl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:hl(t,e),ml(e),4&r&&(zo(3,e,e.return),Vo(3,e),zo(5,e,e.return));break;case 1:hl(t,e),ml(e),512&r&&(Zo||null===n||qo(n,n.return)),64&r&&Xo&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=fl;if(hl(t,e),ml(e),512&r&&(Zo||null===n||qo(n,n.return)),4&r){var s=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(s=i.getElementsByTagName("title")[0])||s[qe]||s[Fe]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=i.createElement(r),i.head.insertBefore(s,i.querySelector("head > title"))),Wu(s,r,n),s[Fe]=e,Je(s),r=s;break e;case"link":var o=Cd("link","href",i).get(r+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((s=o[l]).getAttribute("href")===(null==n.href?null:n.href)&&s.getAttribute("rel")===(null==n.rel?null:n.rel)&&s.getAttribute("title")===(null==n.title?null:n.title)&&s.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}Wu(s=i.createElement(r),r,n),i.head.appendChild(s);break;case"meta":if(o=Cd("meta","content",i).get(r+(n.content||"")))for(l=0;l<o.length;l++)if((s=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&s.getAttribute("name")===(null==n.name?null:n.name)&&s.getAttribute("property")===(null==n.property?null:n.property)&&s.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&s.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}Wu(s=i.createElement(r),r,n),i.head.appendChild(s);break;default:throw Error(a(468,r))}s[Fe]=e,Je(s),r=s}e.stateNode=r}else Nd(i,e.type,e.stateNode);else e.stateNode=_d(i,r,e.memoizedProps);else s!==r?(null===s?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):s.count--,null===r?Nd(i,e.type,e.stateNode):_d(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&Ko(e,e.memoizedProps,n.memoizedProps)}break;case 27:if(4&r&&null===e.alternate){i=e.stateNode,s=e.memoizedProps;try{for(var c=i.firstChild;c;){var u=c.nextSibling,d=c.nodeName;c[qe]||"HEAD"===d||"BODY"===d||"SCRIPT"===d||"STYLE"===d||"LINK"===d&&"stylesheet"===c.rel.toLowerCase()||i.removeChild(c),c=u}for(var h=e.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Wu(i,h,s),i[Fe]=e,i[Ue]=s}catch(m){ru(e,e.return,m)}}case 5:if(hl(t,e),ml(e),512&r&&(Zo||null===n||qo(n,n.return)),32&e.flags){i=e.stateNode;try{_t(i,"")}catch(m){ru(e,e.return,m)}}4&r&&null!=e.stateNode&&Ko(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(el=!0);break;case 6:if(hl(t,e),ml(e),4&r){if(null===e.stateNode)throw Error(a(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(m){ru(e,e.return,m)}}break;case 3:if(Td=null,i=fl,fl=hd(t.containerInfo),hl(t,e),fl=i,ml(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{mh(t.containerInfo)}catch(m){ru(e,e.return,m)}el&&(el=!1,gl(e));break;case 4:r=fl,fl=hd(e.stateNode.containerInfo),hl(t,e),ml(e),fl=r;break;case 12:hl(t,e),ml(e);break;case 13:hl(t,e),ml(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(bc=le()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,dl(e,r)));break;case 22:if(512&r&&(Zo||null===n||qo(n,n.return)),c=null!==e.memoizedState,u=null!==n&&null!==n.memoizedState,Xo=(d=Xo)||c,Zo=(h=Zo)||u,hl(t,e),Zo=h,Xo=d,ml(e),(t=e.stateNode)._current=e,t._visibility&=-3,t._visibility|=2&t._pendingVisibility,8192&r&&(t._visibility=c?-2&t._visibility:1|t._visibility,c&&(t=Xo||Zo,null===n||u||t||yl(e)),null===e.memoizedProps||"manual"!==e.memoizedProps.mode))e:for(n=null,t=e;;){if(5===t.tag||26===t.tag||27===t.tag){if(null===n){u=n=t;try{if(i=u.stateNode,c)"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{o=u.stateNode;var p=void 0!==(l=u.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null;o.style.display=null==p||"boolean"===typeof p?"":(""+p).trim()}}catch(m){ru(u,u.return,m)}}}else if(6===t.tag){if(null===n){u=t;try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(m){ru(u,u.return,m)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,dl(e,n))));break;case 19:hl(t,e),ml(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,dl(e,r)));break;case 21:break;default:hl(t,e),ml(e)}}function ml(e){var t=e.flags;if(2&t){try{if(27!==e.tag){e:{for(var n=e.return;null!==n;){if(Go(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 27:var i=r.stateNode;Jo(e,Qo(e),i);break;case 5:var s=r.stateNode;32&r.flags&&(_t(s,""),r.flags&=-33),Jo(e,Qo(e),s);break;case 3:case 4:var o=r.stateNode.containerInfo;Yo(e,Qo(e),o);break;default:throw Error(a(161))}}}catch(l){ru(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;gl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function vl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)il(e,t.alternate,t),t=t.sibling}function yl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:zo(4,t,t.return),yl(t);break;case 1:qo(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&Bo(t,t.return,n),yl(t);break;case 26:case 27:case 5:qo(t,t.return),yl(t);break;case 22:qo(t,t.return),null===t.memoizedState&&yl(t);break;default:yl(t)}e=e.sibling}}function bl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,s=t,a=s.flags;switch(s.tag){case 0:case 11:case 15:bl(i,s,n),Vo(4,s);break;case 1:if(bl(i,s,n),"function"===typeof(i=(r=s).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){ru(r,r.return,c)}if(null!==(i=(r=s).updateQueue)){var o=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)Fo(l[i],o)}catch(c){ru(r,r.return,c)}}n&&64&a&&$o(s),Ho(s,s.return);break;case 26:case 27:case 5:bl(i,s,n),n&&null===r&&4&a&&Wo(s),Ho(s,s.return);break;case 12:default:bl(i,s,n);break;case 13:bl(i,s,n),n&&4&a&&ul(i,s);break;case 22:null===s.memoizedState&&bl(i,s,n),Ho(s,s.return)}t=t.sibling}}function wl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&zi(n))}function El(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&zi(e))}function _l(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)xl(e,t,n,r),t=t.sibling}function xl(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:_l(e,t,n,r),2048&i&&Vo(9,t);break;case 3:_l(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&zi(e)));break;case 12:if(2048&i){_l(e,t,n,r),e=t.stateNode;try{var s=t.memoizedProps,a=s.id,o=s.onPostCommit;"function"===typeof o&&o(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){ru(t,t.return,l)}}else _l(e,t,n,r);break;case 23:break;case 22:s=t.stateNode,null!==t.memoizedState?4&s._visibility?_l(e,t,n,r):kl(e,t):4&s._visibility?_l(e,t,n,r):(s._visibility|=4,Sl(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&i&&wl(t.alternate,t);break;case 24:_l(e,t,n,r),2048&i&&El(t.alternate,t);break;default:_l(e,t,n,r)}}function Sl(e,t,n,r,i){for(i=i&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var s=e,a=t,o=n,l=r,c=a.flags;switch(a.tag){case 0:case 11:case 15:Sl(s,a,o,l,i),Vo(8,a);break;case 23:break;case 22:var u=a.stateNode;null!==a.memoizedState?4&u._visibility?Sl(s,a,o,l,i):kl(s,a):(u._visibility|=4,Sl(s,a,o,l,i)),i&&2048&c&&wl(a.alternate,a);break;case 24:Sl(s,a,o,l,i),i&&2048&c&&El(a.alternate,a);break;default:Sl(s,a,o,l,i)}t=t.sibling}}function kl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:kl(n,r),2048&i&&wl(r.alternate,r);break;case 24:kl(n,r),2048&i&&El(r.alternate,r);break;default:kl(n,r)}t=t.sibling}}var Tl=8192;function Cl(e){if(e.subtreeFlags&Tl)for(e=e.child;null!==e;)Nl(e),e=e.sibling}function Nl(e){switch(e.tag){case 26:Cl(e),e.flags&Tl&&null!==e.memoizedState&&function(e,t,n){if(null===Rd)throw Error(a(475));var r=Rd;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var i=vd(n.href),s=e.querySelector(yd(i));if(s)return null!==(e=s._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Od.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=s,void Je(s);s=e.ownerDocument||e,n=bd(n),(i=ud.get(i))&&Sd(n,i),Je(s=s.createElement("link"));var o=s;o._p=new Promise((function(e,t){o.onload=e,o.onerror=t})),Wu(s,"link",n),t.instance=s}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Od.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(fl,e.memoizedState,e.memoizedProps);break;case 5:default:Cl(e);break;case 3:case 4:var t=fl;fl=hd(e.stateNode.containerInfo),Cl(e),fl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Tl,Tl=16777216,Cl(e),Tl=t):Cl(e))}}function Il(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Rl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];nl=r,Pl(r,e)}Il(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Al(e),e=e.sibling}function Al(e){switch(e.tag){case 0:case 11:case 15:Rl(e),2048&e.flags&&zo(9,e,e.return);break;case 3:case 12:default:Rl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&4&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-5,Ol(e)):Rl(e)}}function Ol(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];nl=r,Pl(r,e)}Il(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:zo(8,t,t.return),Ol(t);break;case 22:4&(n=t.stateNode)._visibility&&(n._visibility&=-5,Ol(t));break;default:Ol(t)}e=e.sibling}}function Pl(e,t){for(;null!==nl;){var n=nl;switch(n.tag){case 0:case 11:case 15:zo(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:zi(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,nl=r;else e:for(n=e;null!==nl;){var i=(r=nl).sibling,s=r.return;if(sl(r),r===n){nl=null;break e}if(null!==i){i.return=s,nl=i;break e}nl=s}}}function jl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dl(e,t,n,r){return new jl(e,t,n,r)}function Ll(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ml(e,t){var n=e.alternate;return null===n?((n=Dl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=31457280&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Fl(e,t){e.flags&=31457282;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ul(e,t,n,r,i,s){var o=0;if(r=e,"function"===typeof e)Ll(e)&&(o=1);else if("string"===typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,Q.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case d:return Vl(n.children,i,s,t);case h:o=8,i|=24;break;case f:return(e=Dl(12,n,t,2|i)).elementType=f,e.lanes=s,e;case y:return(e=Dl(13,n,t,i)).elementType=y,e.lanes=s,e;case b:return(e=Dl(19,n,t,i)).elementType=b,e.lanes=s,e;case _:return zl(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case p:case g:o=10;break e;case m:o=9;break e;case v:o=11;break e;case w:o=14;break e;case E:o=16,r=null;break e}o=29,n=Error(a(130,null===e?"null":typeof e,"")),r=null}return(t=Dl(o,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Vl(e,t,n,r){return(e=Dl(7,e,r,t)).lanes=n,e}function zl(e,t,n,r){(e=Dl(22,e,r,t)).elementType=_,e.lanes=n;var i={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var e=i._current;if(null===e)throw Error(a(456));if(0===(2&i._pendingVisibility)){var t=Ir(e,2);null!==t&&(i._pendingVisibility|=2,Oc(t,e,2))}},attach:function(){var e=i._current;if(null===e)throw Error(a(456));if(0!==(2&i._pendingVisibility)){var t=Ir(e,2);null!==t&&(i._pendingVisibility&=-3,Oc(t,e,2))}}};return e.stateNode=i,e}function $l(e,t,n){return(e=Dl(6,e,null,t)).lanes=n,e}function Bl(e,t,n){return(t=Dl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Hl(e){e.flags|=4}function ql(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Id(t)){if(null!==(t=Ni.current)&&((4194176&rc)===rc?null!==Ii:(62914560&rc)!==rc&&0===(536870912&rc)||t!==Ii))throw hi=li,oi;e.flags|=8192}}function Wl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Re():536870912,e.lanes|=t,mc|=t)}function Kl(e,t){if(!Yr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=31457280&i.subtreeFlags,r|=31457280&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ql(e,t,n){var r=t.pendingProps;switch(Kr(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return Gl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),bo(Ui),ee(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ri(t)?Hl(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Jr&&(jc(Jr),Jr=null))),Gl(t),null;case 26:return n=t.memoizedState,null===e?(Hl(t),null!==n?(Gl(t),ql(t,n)):(Gl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Hl(t),Gl(t),ql(t,n)):(Gl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Hl(t),Gl(t),t.flags&=-16777217),null;case 27:ne(t),n=J.current;var i=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Hl(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Gl(t),null}e=Q.current,ri(t)?ti(t):(e=cd(i,r,n),t.stateNode=e,Hl(t))}return Gl(t),null;case 5:if(ne(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Hl(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Gl(t),null}if(e=Q.current,ri(t))ti(t);else{switch(i=Qu(J.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?i.createElement(n,{is:r.is}):i.createElement(n)}}e[Fe]=t,e[Ue]=r;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(Wu(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Hl(t)}}return Gl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Hl(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(e=J.current,ri(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=Gr))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Fe]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||$u(e.nodeValue,n)))||ei(t)}else(e=Qu(e).createTextNode(r))[Fe]=t,t.stateNode=e}return Gl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=ri(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(a(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(a(317));i[Fe]=t}else ii(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gl(t),i=!1}else null!==Jr&&(jc(Jr),Jr=null),i=!0;if(!i)return 256&t.flags?(Pi(t),t):(Pi(t),null)}if(Pi(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool);var s=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(s=r.memoizedState.cachePool.pool),s!==i&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Wl(t,t.updateQueue),Gl(t),null;case 4:return ee(),null===e&&Ou(t.stateNode.containerInfo),Gl(t),null;case 10:return bo(t.type),Gl(t),null;case 19:if(K(ji),null===(i=t.memoizedState))return Gl(t),null;if(r=0!==(128&t.flags),null===(s=i.rendering))if(r)Kl(i,!1);else{if(0!==uc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=Di(e))){for(t.flags|=128,Kl(i,!1),e=s.updateQueue,t.updateQueue=e,Wl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Fl(n,e),n=n.sibling;return G(ji,1&ji.current|2),t.child}e=e.sibling}null!==i.tail&&le()>wc&&(t.flags|=128,r=!0,Kl(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=Di(s))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,Wl(t,e),Kl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!s.alternate&&!Yr)return Gl(t),null}else 2*le()-i.renderingStartTime>wc&&536870912!==n&&(t.flags|=128,r=!0,Kl(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=i.last)?e.sibling=s:t.child=s,i.last=s)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=le(),t.sibling=null,e=ji.current,G(ji,r?1&e|2:1&e),t):(Gl(t),null);case 22:case 23:return Pi(t),Ci(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(Gl(t),6&t.subtreeFlags&&(t.flags|=8192)):Gl(t),null!==(n=t.updateQueue)&&Wl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&K(Gi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),bo(Ui),Gl(t),null;case 25:return null}throw Error(a(156,t.tag))}function Yl(e,t){switch(Kr(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return bo(Ui),ee(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return ne(t),null;case 13:if(Pi(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ii()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return K(ji),null;case 4:return ee(),null;case 10:return bo(t.type),null;case 22:case 23:return Pi(t),Ci(),null!==e&&K(Gi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return bo(Ui),null;default:return null}}function Jl(e,t){switch(Kr(t),t.tag){case 3:bo(Ui),ee();break;case 26:case 27:case 5:ne(t);break;case 4:ee();break;case 13:Pi(t);break;case 19:K(ji);break;case 10:bo(t.type);break;case 22:case 23:Pi(t),Ci(),null!==e&&K(Gi);break;case 24:bo(Ui)}}var Xl={getCacheForType:function(e){var t=ko(Ui),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},Zl="function"===typeof WeakMap?WeakMap:Map,ec=0,tc=null,nc=null,rc=0,ic=0,sc=null,ac=!1,oc=!1,lc=!1,cc=0,uc=0,dc=0,hc=0,fc=0,pc=0,mc=0,gc=null,vc=null,yc=!1,bc=0,wc=1/0,Ec=null,_c=null,xc=!1,Sc=null,kc=0,Tc=0,Cc=null,Nc=0,Ic=null;function Rc(){if(0!==(2&ec)&&0!==rc)return rc&-rc;if(null!==R.T){return 0!==Hi?Hi:Eu()}return Le()}function Ac(){0===pc&&(pc=0===(536870912&rc)||Yr?Ie():536870912);var e=Ni.current;return null!==e&&(e.flags|=32),pc}function Oc(e,t,n){(e===tc&&2===ic||null!==e.cancelPendingCommit)&&(Vc(e,0),Mc(e,rc,pc,!1)),Oe(e,n),0!==(2&ec)&&e===tc||(e===tc&&(0===(2&ec)&&(hc|=n),4===uc&&Mc(e,rc,pc,!1)),mu(e))}function Pc(e,t,n){if(0!==(6&ec))throw Error(a(327));for(var r=!n&&0===(60&t)&&0===(t&e.expiredLanes)||Ce(e,t),i=r?function(e,t){var n=ec;ec|=2;var r=$c(),i=Bc();tc!==e||rc!==t?(Ec=null,wc=le()+500,Vc(e,t)):oc=Ce(e,t);e:for(;;)try{if(0!==ic&&null!==nc){t=nc;var s=sc;t:switch(ic){case 1:ic=0,sc=null,Yc(e,t,s,1);break;case 2:if(ci(s)){ic=0,sc=null,Qc(t);break}t=function(){2===ic&&tc===e&&(ic=7),mu(e)},s.then(t,t);break e;case 3:ic=7;break e;case 4:ic=5;break e;case 7:ci(s)?(ic=0,sc=null,Qc(t)):(ic=0,sc=null,Yc(e,t,s,7));break;case 5:var o=null;switch(nc.tag){case 26:o=nc.memoizedState;case 5:case 27:var l=nc;if(!o||Id(o)){ic=0,sc=null;var c=l.sibling;if(null!==c)nc=c;else{var u=l.return;null!==u?(nc=u,Jc(u)):nc=null}break t}}ic=0,sc=null,Yc(e,t,s,5);break;case 6:ic=0,sc=null,Yc(e,t,s,6);break;case 8:Uc(),uc=6;break e;default:throw Error(a(462))}}Kc();break}catch(d){zc(e,d)}return vo=go=null,R.H=r,R.A=i,ec=n,null!==nc?0:(tc=null,rc=0,Tr(),uc)}(e,t):qc(e,t,!0),s=r;;){if(0===i){oc&&!r&&Mc(e,t,0,!1);break}if(6===i)Mc(e,t,0,!ac);else{if(n=e.current.alternate,s&&!Lc(n)){i=qc(e,t,!1),s=!1;continue}if(2===i){if(s=t,e.errorRecoveryDisabledLanes&s)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;i=gc;var c=l.current.memoizedState.isDehydrated;if(c&&(Vc(l,o).flags|=256),2!==(o=qc(l,o,!1))){if(lc&&!c){l.errorRecoveryDisabledLanes|=s,hc|=s,i=4;break e}s=vc,vc=i,null!==s&&jc(s)}i=o}if(s=!1,2!==i)continue}}if(1===i){Vc(e,0),Mc(e,t,0,!0);break}e:{switch(r=e,i){case 0:case 1:throw Error(a(345));case 4:if((4194176&t)===t){Mc(r,t,pc,!ac);break e}break;case 2:vc=null;break;case 3:case 5:break;default:throw Error(a(329))}if(r.finishedWork=n,r.finishedLanes=t,(62914560&t)===t&&10<(s=bc+300-le())){if(Mc(r,t,pc,!ac),0!==Te(r,0))break e;r.timeoutHandle=ed(Dc.bind(null,r,n,vc,Ec,yc,t,pc,hc,mc,ac,2,-0,0),s)}else Dc(r,n,vc,Ec,yc,t,pc,hc,mc,ac,0,-0,0)}}break}mu(e)}function jc(e){null===vc?vc=e:vc.push.apply(vc,e)}function Dc(e,t,n,r,i,s,o,l,c,u,d,h,f){var p=t.subtreeFlags;if((8192&p||16785408===(16785408&p))&&(Rd={stylesheets:null,count:0,unsuspend:Ad},Nl(t),null!==(t=function(){if(null===Rd)throw Error(a(475));var e=Rd;return e.stylesheets&&0===e.count&&jd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout((function(){if(e.stylesheets&&jd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=t(Zc.bind(null,e,n,r,i,o,l,c,1,h,f)),void Mc(e,s,o,!u);Zc(e,n,r,i,o,l,c,d,h,f)}function Lc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Gn(s(),i))return!1}catch(a){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Mc(e,t,n,r){t&=~fc,t&=~hc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var s=31-we(i),a=1<<s;r[s]=-1,i&=~a}0!==n&&Pe(e,n,t)}function Fc(){return 0!==(6&ec)||(gu(0,!1),!1)}function Uc(){if(null!==nc){if(0===ic)var e=nc.return;else vo=go=null,vs(e=nc),pi=null,mi=0,e=nc;for(;null!==e;)Jl(e.alternate,e),e=e.return;nc=null}}function Vc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,td(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Uc(),tc=e,nc=n=Ml(e.current,null),rc=t,ic=0,sc=null,ac=!1,oc=Ce(e,t),lc=!1,mc=pc=fc=hc=dc=uc=0,vc=gc=null,yc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-we(r),s=1<<i;t|=e[i],r&=~s}return cc=t,Tr(),n}function zc(e,t){Zi=null,R.H=Sa,t===ai?(t=fi(),ic=3):t===oi?(t=fi(),ic=4):ic=t===$a?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,sc=t,null===nc&&(uc=1,Ma(e,jr(t,e.current)))}function $c(){var e=R.H;return R.H=Sa,null===e?Sa:e}function Bc(){var e=R.A;return R.A=Xl,e}function Hc(){uc=4,ac||(4194176&rc)!==rc&&null!==Ni.current||(oc=!0),0===(134217727&dc)&&0===(134217727&hc)||null===tc||Mc(tc,rc,pc,!1)}function qc(e,t,n){var r=ec;ec|=2;var i=$c(),s=Bc();tc===e&&rc===t||(Ec=null,Vc(e,t)),t=!1;var a=uc;e:for(;;)try{if(0!==ic&&null!==nc){var o=nc,l=sc;switch(ic){case 8:Uc(),a=6;break e;case 3:case 2:case 6:null===Ni.current&&(t=!0);var c=ic;if(ic=0,sc=null,Yc(e,o,l,c),n&&oc){a=0;break e}break;default:c=ic,ic=0,sc=null,Yc(e,o,l,c)}}Wc(),a=uc;break}catch(u){zc(e,u)}return t&&e.shellSuspendCounter++,vo=go=null,ec=r,R.H=i,R.A=s,null===nc&&(tc=null,rc=0,Tr()),a}function Wc(){for(;null!==nc;)Gc(nc)}function Kc(){for(;null!==nc&&!ae();)Gc(nc)}function Gc(e){var t=po(e.alternate,e,cc);e.memoizedProps=e.pendingProps,null===t?Jc(e):nc=t}function Qc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Xa(n,t,t.pendingProps,t.type,void 0,rc);break;case 11:t=Xa(n,t,t.pendingProps,t.type.render,t.ref,rc);break;case 5:vs(t);default:Jl(n,t),t=po(n,t=nc=Fl(t,cc),cc)}e.memoizedProps=e.pendingProps,null===t?Jc(e):nc=t}function Yc(e,t,n,r){vo=go=null,vs(t),pi=null,mi=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&_o(t,n,i,!0),null!==(n=Ni.current)){switch(n.tag){case 13:return null===Ii?Hc():null===n.alternate&&0===uc&&(uc=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===li?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),iu(e,r,i)),!1;case 22:return n.flags|=65536,r===li?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),iu(e,r,i)),!1}throw Error(a(435,n.tag))}return iu(e,r,i),Hc(),!1}if(Yr)return null!==(t=Ni.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==Zr&&si(jr(e=Error(a(422),{cause:r}),n))):(r!==Zr&&si(jr(t=Error(a(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=jr(r,n),jo(e,i=Ua(e.stateNode,r,i)),4!==uc&&(uc=2)),!1;var s=Error(a(520),{cause:r});if(s=jr(s,n),null===gc?gc=[s]:gc.push(s),4!==uc&&(uc=2),null===t)return!0;r=jr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,jo(n,e=Ua(n.stateNode,r,e)),!1;case 1:if(t=n.type,s=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==s&&"function"===typeof s.componentDidCatch&&(null===_c||!_c.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,za(i=Va(i),e,n,r),jo(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,rc))return uc=1,Ma(e,jr(n,e.current)),void(nc=null)}catch(s){if(null!==i)throw nc=i,s;return uc=1,Ma(e,jr(n,e.current)),void(nc=null)}32768&t.flags?(Yr||1===r?e=!0:oc||0!==(536870912&rc)?e=!1:(ac=e=!0,(2===r||3===r||6===r)&&(null!==(r=Ni.current)&&13===r.tag&&(r.flags|=16384))),Xc(t,e)):Jc(t)}function Jc(e){var t=e;do{if(0!==(32768&t.flags))return void Xc(t,ac);e=t.return;var n=Ql(t.alternate,t,cc);if(null!==n)return void(nc=n);if(null!==(t=t.sibling))return void(nc=t);nc=t=e}while(null!==t);0===uc&&(uc=5)}function Xc(e,t){do{var n=Yl(e.alternate,e);if(null!==n)return n.flags&=32767,void(nc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(nc=e);nc=e=n}while(null!==e);uc=6,nc=null}function Zc(e,t,n,r,i,s,o,l,c,u){var d=R.T,h=$.p;try{$.p=2,R.T=null,function(e,t,n,r,i,s,o,l){do{tu()}while(null!==Sc);if(0!==(6&ec))throw Error(a(327));var c=e.finishedWork;if(r=e.finishedLanes,null===c)return null;if(e.finishedWork=null,e.finishedLanes=0,c===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var u=c.lanes|c.childLanes;if(function(e,t,n,r,i,s){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var u=31-we(n),d=1<<u;o[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&Pe(e,r,0),0!==s&&0===i&&0!==e.tag&&(e.suspendedLanes|=s&~(a&~t))}(e,r,u|=kr,s,o,l),e===tc&&(nc=tc=null,rc=0),0===(10256&c.subtreeFlags)&&0===(10256&c.flags)||xc||(xc=!0,Tc=u,Cc=n,function(e,t){ie(e,t)}(he,(function(){return tu(),null}))),n=0!==(15990&c.flags),0!==(15990&c.subtreeFlags)||n?(n=R.T,R.T=null,s=$.p,$.p=2,o=ec,ec|=4,function(e,t){if(e=e.containerInfo,Ku=Hd,er(e=Zn(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(g){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=o+i),h!==s||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=o),f===s&&++d===r&&(c=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Gu={focusedElem:e,selectionRange:n},Hd=!1,nl=t;null!==nl;)if(e=(t=nl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,nl=e;else for(;null!==nl;){switch(s=(t=nl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==s){e=void 0,n=t,i=s.memoizedProps,s=s.memoizedState,r=n.stateNode;try{var m=Oa(n.type,i,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(m,s),r.__reactInternalSnapshotBeforeUpdate=e}catch(v){ru(n,n.return,v)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))ad(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ad(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(a(163))}if(null!==(e=t.sibling)){e.return=t.return,nl=e;break}nl=t.return}m=rl,rl=!1}(e,c),pl(c,e),tr(Gu,e.containerInfo),Hd=!!Ku,Gu=Ku=null,e.current=c,il(e,c.alternate,c),oe(),ec=o,$.p=s,R.T=n):e.current=c,xc?(xc=!1,Sc=e,kc=r):eu(e,u),u=e.pendingLanes,0===u&&(_c=null),function(e){if(ye&&"function"===typeof ye.onCommitFiberRoot)try{ye.onCommitFiberRoot(ve,e,void 0,128===(128&e.current.flags))}catch(t){}}(c.stateNode),mu(e),null!==t)for(i=e.onRecoverableError,c=0;c<t.length;c++)u=t[c],i(u.value,{componentStack:u.stack});0!==(3&kc)&&tu(),u=e.pendingLanes,0!==(4194218&r)&&0!==(42&u)?e===Ic?Nc++:(Nc=0,Ic=e):Nc=0,gu(0,!1)}(e,t,n,r,h,i,s,o)}finally{R.T=d,$.p=h}}function eu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,zi(t)))}function tu(){if(null!==Sc){var e=Sc,t=Tc;Tc=0;var n=De(kc),r=R.T,i=$.p;try{if($.p=32>n?32:n,R.T=null,null===Sc)var s=!1;else{n=Cc,Cc=null;var o=Sc,l=kc;if(Sc=null,kc=0,0!==(6&ec))throw Error(a(331));var c=ec;if(ec|=4,Al(o.current),xl(o,o.current,l,n),ec=c,gu(0,!1),ye&&"function"===typeof ye.onPostCommitFiberRoot)try{ye.onPostCommitFiberRoot(ve,o)}catch(u){}s=!0}return s}finally{$.p=i,R.T=r,eu(e,t)}}return!1}function nu(e,t,n){t=jr(n,t),null!==(e=Oo(e,t=Ua(e.stateNode,t,2),2))&&(Oe(e,2),mu(e))}function ru(e,t,n){if(3===e.tag)nu(e,e,n);else for(;null!==t;){if(3===t.tag){nu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===_c||!_c.has(r))){e=jr(n,e),null!==(r=Oo(t,n=Va(2),2))&&(za(n,r,t,e),Oe(r,2),mu(r));break}}t=t.return}}function iu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new Zl;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(lc=!0,i.add(n),e=su.bind(null,e,t,n),t.then(e,e))}function su(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,tc===e&&(rc&n)===n&&(4===uc||3===uc&&(62914560&rc)===rc&&300>le()-bc?0===(2&ec)&&Vc(e,0):fc|=n,mc===rc&&(mc=0)),mu(e)}function au(e,t){0===t&&(t=Re()),null!==(e=Ir(e,t))&&(Oe(e,t),mu(e))}function ou(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),au(e,n)}function lu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(a(314))}null!==r&&r.delete(t),au(e,n)}var cu=null,uu=null,du=!1,hu=!1,fu=!1,pu=0;function mu(e){var t;e!==uu&&null===e.next&&(null===uu?cu=uu=e:uu=uu.next=e),hu=!0,du||(du=!0,t=vu,rd((function(){0!==(6&ec)?ie(ue,t):t()})))}function gu(e,t){if(!fu&&hu){fu=!0;do{for(var n=!1,r=cu;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var s=0;else{var a=r.suspendedLanes,o=r.pingedLanes;s=(1<<31-we(42|e)+1)-1,s=201326677&(s&=i&~(a&~o))?201326677&s|1:s?2|s:0}0!==s&&(n=!0,wu(r,s))}else s=rc,0===(3&(s=Te(r,r===tc?s:0)))||Ce(r,s)||(n=!0,wu(r,s));r=r.next}}while(n);fu=!1}}function vu(){hu=du=!1;var e=0;0!==pu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==Zu&&(Zu=e,!0);return Zu=null,!1}()&&(e=pu),pu=0);for(var t=le(),n=null,r=cu;null!==r;){var i=r.next,s=yu(r,t);0===s?(r.next=null,null===n?cu=i:n.next=i,null===i&&(uu=n)):(n=r,(0!==e||0!==(3&s))&&(hu=!0)),r=i}gu(e,!1)}function yu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var a=31-we(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=Ne(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}if(n=rc,n=Te(e,e===(t=tc)?n:0),r=e.callbackNode,0===n||e===t&&2===ic||null!==e.cancelPendingCommit)return null!==r&&null!==r&&se(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||Ce(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&se(r),De(n)){case 2:case 8:n=de;break;case 32:default:n=he;break;case 268435456:n=pe}return r=bu.bind(null,e),n=ie(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&se(r),e.callbackPriority=2,e.callbackNode=null,2}function bu(e,t){var n=e.callbackNode;if(tu()&&e.callbackNode!==n)return null;var r=rc;return 0===(r=Te(e,e===tc?r:0))?null:(Pc(e,r,t),yu(e,le()),null!=e.callbackNode&&e.callbackNode===n?bu.bind(null,e):null)}function wu(e,t){if(tu())return null;Pc(e,t,!0)}function Eu(){return 0===pu&&(pu=Ie()),pu}function _u(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:It(""+e)}function xu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Su=0;Su<Er.length;Su++){var ku=Er[Su];_r(ku.toLowerCase(),"on"+(ku[0].toUpperCase()+ku.slice(1)))}_r(fr,"onAnimationEnd"),_r(pr,"onAnimationIteration"),_r(mr,"onAnimationStart"),_r("dblclick","onDoubleClick"),_r("focusin","onFocus"),_r("focusout","onBlur"),_r(gr,"onTransitionRun"),_r(vr,"onTransitionStart"),_r(yr,"onTransitionCancel"),_r(br,"onTransitionEnd"),tt("onMouseEnter",["mouseout","mouseover"]),tt("onMouseLeave",["mouseout","mouseover"]),tt("onPointerEnter",["pointerout","pointerover"]),tt("onPointerLeave",["pointerout","pointerover"]),et("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),et("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),et("onBeforeInput",["compositionend","keypress","textInput","paste"]),et("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tu));function Nu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=c;try{s(i)}catch(u){Pa(u)}i.currentTarget=null,s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=c;try{s(i)}catch(u){Pa(u)}i.currentTarget=null,s=l}}}}function Iu(e,t){var n=t[ze];void 0===n&&(n=t[ze]=new Set);var r=e+"__bubble";n.has(r)||(Pu(t,e,2,!1),n.add(r))}function Ru(e,t,n){var r=0;t&&(r|=4),Pu(n,e,r,t)}var Au="_reactListening"+Math.random().toString(36).slice(2);function Ou(e){if(!e[Au]){e[Au]=!0,Xe.forEach((function(t){"selectionchange"!==t&&(Cu.has(t)||Ru(t,!1,e),Ru(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Au]||(t[Au]=!0,Ru("selectionchange",!1,t))}}function Pu(e,t,n,r){switch(Jd(t)){case 2:var i=qd;break;case 8:i=Wd;break;default:i=Kd}n=i.bind(null,t,n,e),i=void 0,!Ft||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function ju(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=Ke(o)))return;if(5===(l=a.tag)||6===l||26===l||27===l){r=s=a;continue e}o=o.parentNode}}r=r.return}Lt((function(){var r=s,i=At(n),a=[];e:{var o=wr.get(e);if(void 0!==o){var l=Xt,c=e;switch(e){case"keypress":if(0===Ht(n))break e;case"keydown":case"keyup":l=pn;break;case"focusin":c="focus",l=sn;break;case"focusout":c="blur",l=sn;break;case"beforeblur":case"afterblur":l=sn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=nn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=rn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=gn;break;case fr:case pr:case mr:l=an;break;case br:l=vn;break;case"scroll":case"scrollend":l=en;break;case"wheel":l=yn;break;case"copy":case"cut":case"paste":l=on;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=mn;break;case"toggle":case"beforetoggle":l=bn}var u=0!==(4&t),d=!u&&("scroll"===e||"scrollend"===e),h=u?null!==o?o+"Capture":null:o;u=[];for(var f,p=r;null!==p;){var m=p;if(f=m.stateNode,5!==(m=m.tag)&&26!==m&&27!==m||null===f||null===h||null!=(m=Mt(p,h))&&u.push(Du(p,m,f)),d)break;p=p.return}0<u.length&&(o=new l(o,c,null,n,i),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===Rt||!(c=n.relatedTarget||n.fromElement)||!Ke(c)&&!c[Ve])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?Ke(c):null)&&(d=M(c),u=c.tag,c!==d||5!==u&&27!==u&&6!==u)&&(c=null)):(l=null,c=r),l!==c)){if(u=nn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=mn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?o:Qe(l),f=null==c?o:Qe(c),(o=new u(m,p+"leave",l,n,i)).target=d,o.relatedTarget=f,m=null,Ke(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Mu(f))p++;for(f=0,m=h;m;m=Mu(m))f++;for(;0<p-f;)u=Mu(u),p--;for(;0<f-p;)h=Mu(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Mu(u),h=Mu(h)}u=null}else u=null;null!==l&&Fu(a,o,l,u,!1),null!==c&&null!==d&&Fu(a,d,c,u,!0)}if("select"===(l=(o=r?Qe(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Mn;else if(An(o))if(Fn)g=Kn;else{g=qn;var v=Hn}else!(l=o.nodeName)||"input"!==l.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?r&&Tt(r.elementType)&&(g=Mn):g=Wn;switch(g&&(g=g(e,r))?On(a,g,n,i):(v&&v(e,o,r),"focusout"===e&&r&&"number"===o.type&&null!=r.memoizedProps.value&&yt(o,"number",o.value)),v=r?Qe(r):window,e){case"focusin":(An(v)||"true"===v.contentEditable)&&(rr=v,ir=r,sr=null);break;case"focusout":sr=ir=rr=null;break;case"mousedown":ar=!0;break;case"contextmenu":case"mouseup":case"dragend":ar=!1,or(a,n,i);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":or(a,n,i)}var y;if(En)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else In?Cn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Sn&&"ko"!==n.locale&&(In||"onCompositionStart"!==b?"onCompositionEnd"===b&&In&&(y=Bt()):(zt="value"in(Vt=i)?Vt.value:Vt.textContent,In=!0)),0<(v=Lu(r,b)).length&&(b=new ln(b,e,null,n,i),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=Nn(n))&&(b.data=y))),(y=xn?function(e,t){switch(e){case"compositionend":return Nn(t);case"keypress":return 32!==t.which?null:(Tn=!0,kn);case"textInput":return(e=t.data)===kn&&Tn?null:e;default:return null}}(e,n):function(e,t){if(In)return"compositionend"===e||!En&&Cn(e,t)?(e=Bt(),$t=zt=Vt=null,In=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Sn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(b=Lu(r,"onBeforeInput")).length&&(v=new ln("onBeforeInput","beforeinput",null,n,i),a.push({event:v,listeners:b}),v.data=y)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var s=_u((i[Ue]||null).action),a=r.submitter;a&&null!==(t=(t=a[Ue]||null)?_u(t.formAction):a.getAttribute("formAction"))&&(s=t,a=null);var o=new Xt("action","action",null,r,i);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==pu){var e=a?xu(i,a):new FormData(i);ua(n,{pending:!0,data:e,method:i.method,action:s},null,e)}}else"function"===typeof s&&(o.preventDefault(),e=a?xu(i,a):new FormData(i),ua(n,{pending:!0,data:e,method:i.method,action:s},s,e))},currentTarget:i}]})}}(a,e,r,n,i)}Nu(a,t)}))}function Du(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Lu(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5!==(i=i.tag)&&26!==i&&27!==i||null===s||(null!=(i=Mt(e,n))&&r.unshift(Du(e,i,s)),null!=(i=Mt(e,t))&&r.push(Du(e,i,s))),e=e.return}return r}function Mu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Fu(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===r)break;5!==o&&26!==o&&27!==o||null===c||(l=c,i?null!=(c=Mt(n,s))&&a.unshift(Du(n,c,l)):i||null!=(c=Mt(n,s))&&a.push(Du(n,c,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Uu=/\r\n?/g,Vu=/\u0000|\uFFFD/g;function zu(e){return("string"===typeof e?e:""+e).replace(Uu,"\n").replace(Vu,"")}function $u(e,t){return t=zu(t),zu(e)===t}function Bu(){}function Hu(e,t,n,r,i,s){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||_t(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&_t(e,""+r);break;case"className":ot(e,"class",r);break;case"tabIndex":ot(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ot(e,n,r);break;case"style":kt(e,r,s);break;case"data":if("object"!==t){ot(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=It(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof s&&("formAction"===n?("input"!==t&&Hu(e,t,"name",i.name,i,null),Hu(e,t,"formEncType",i.formEncType,i,null),Hu(e,t,"formMethod",i.formMethod,i,null),Hu(e,t,"formTarget",i.formTarget,i,null)):(Hu(e,t,"encType",i.encType,i,null),Hu(e,t,"method",i.method,i,null),Hu(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=It(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Bu);break;case"onScroll":null!=r&&Iu("scroll",e);break;case"onScrollEnd":null!=r&&Iu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(a(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=It(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Iu("beforetoggle",e),Iu("toggle",e),at(e,"popover",r);break;case"xlinkActuate":lt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":lt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":lt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":lt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":lt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":lt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":lt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":lt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":lt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":at(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&at(e,n=Ct.get(n)||n,r)}}function qu(e,t,n,r,i,s){switch(n){case"style":kt(e,r,s);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(a(60));e.innerHTML=n}}break;case"children":"string"===typeof r?_t(e,r):("number"===typeof r||"bigint"===typeof r)&&_t(e,""+r);break;case"onScroll":null!=r&&Iu("scroll",e);break;case"onScrollEnd":null!=r&&Iu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Bu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ze.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(s=null!=(s=e[Ue]||null)?s[n]:null)&&e.removeEventListener(t,s,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):at(e,n,r):("function"!==typeof s&&null!==s&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function Wu(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Iu("error",e),Iu("load",e);var r,i=!1,s=!1;for(r in n)if(n.hasOwnProperty(r)){var o=n[r];if(null!=o)switch(r){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Hu(e,t,r,o,n,null)}}return s&&Hu(e,t,"srcSet",n.srcSet,n,null),void(i&&Hu(e,t,"src",n.src,n,null));case"input":Iu("invalid",e);var l=r=o=s=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(null!=d)switch(i){case"name":s=d;break;case"type":o=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(a(137,t));break;default:Hu(e,t,i,d,n,null)}}return vt(e,r,l,c,u,o,s,!1),void dt(e);case"select":for(s in Iu("invalid",e),i=o=r=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":r=l;break;case"defaultValue":o=l;break;case"multiple":i=l;default:Hu(e,t,s,l,n,null)}return t=r,n=o,e.multiple=!!i,void(null!=t?bt(e,!!i,t,!1):null!=n&&bt(e,!!i,n,!0));case"textarea":for(o in Iu("invalid",e),r=s=i=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":i=l;break;case"defaultValue":s=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(a(91));break;default:Hu(e,t,o,l,n,null)}return Et(e,i,s,r),void dt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else Hu(e,t,c,i,n,null);return;case"dialog":Iu("cancel",e),Iu("close",e);break;case"iframe":case"object":Iu("load",e);break;case"video":case"audio":for(i=0;i<Tu.length;i++)Iu(Tu[i],e);break;case"image":Iu("error",e),Iu("load",e);break;case"details":Iu("toggle",e);break;case"embed":case"source":case"link":Iu("error",e),Iu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Hu(e,t,u,i,n,null)}return;default:if(Tt(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(i=n[d])&&qu(e,t,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&Hu(e,t,l,i,n,null))}var Ku=null,Gu=null;function Qu(e){return 9===e.nodeType?e:e.ownerDocument}function Yu(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ju(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function Xu(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Zu=null;var ed="function"===typeof setTimeout?setTimeout:void 0,td="function"===typeof clearTimeout?clearTimeout:void 0,nd="function"===typeof Promise?Promise:void 0,rd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof nd?function(e){return nd.resolve(null).then(e).catch(id)}:ed;function id(e){setTimeout((function(){throw e}))}function sd(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void mh(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);mh(t)}function ad(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":ad(n),We(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function od(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}function ld(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function cd(e,t,n){switch(t=Qu(n),e){case"html":if(!(e=t.documentElement))throw Error(a(452));return e;case"head":if(!(e=t.head))throw Error(a(453));return e;case"body":if(!(e=t.body))throw Error(a(454));return e;default:throw Error(a(451))}}var ud=new Map,dd=new Set;function hd(e){return"function"===typeof e.getRootNode?e.getRootNode():e.ownerDocument}var fd=$.d;$.d={f:function(){var e=fd.f(),t=Fc();return e||t},r:function(e){var t=Ge(e);null!==t&&5===t.tag&&"form"===t.type?ha(t):fd.r(e)},D:function(e){fd.D(e),md("dns-prefetch",e,null)},C:function(e,t){fd.C(e,t),md("preconnect",e,t)},L:function(e,t,n){fd.L(e,t,n);var r=pd;if(r&&e&&t){var i='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+mt(n.imageSizes)+'"]')):i+='[href="'+mt(e)+'"]';var s=i;switch(t){case"style":s=vd(e);break;case"script":s=wd(e)}ud.has(s)||(e=A({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),ud.set(s,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(yd(s))||"script"===t&&r.querySelector(Ed(s))||(Wu(t=r.createElement("link"),"link",e),Je(t),r.head.appendChild(t)))}},m:function(e,t){fd.m(e,t);var n=pd;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+mt(r)+'"][href="'+mt(e)+'"]',s=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=wd(e)}if(!ud.has(s)&&(e=A({rel:"modulepreload",href:e},t),ud.set(s,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ed(s)))return}Wu(r=n.createElement("link"),"link",e),Je(r),n.head.appendChild(r)}}},X:function(e,t){fd.X(e,t);var n=pd;if(n&&e){var r=Ye(n).hoistableScripts,i=wd(e),s=r.get(i);s||((s=n.querySelector(Ed(i)))||(e=A({src:e,async:!0},t),(t=ud.get(i))&&kd(e,t),Je(s=n.createElement("script")),Wu(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}},S:function(e,t,n){fd.S(e,t,n);var r=pd;if(r&&e){var i=Ye(r).hoistableStyles,s=vd(e);t=t||"default";var a=i.get(s);if(!a){var o={loading:0,preload:null};if(a=r.querySelector(yd(s)))o.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":t},n),(n=ud.get(s))&&Sd(e,n);var l=a=r.createElement("link");Je(l),Wu(l,"link",e),l._p=new Promise((function(e,t){l.onload=e,l.onerror=t})),l.addEventListener("load",(function(){o.loading|=1})),l.addEventListener("error",(function(){o.loading|=2})),o.loading|=4,xd(a,t,r)}a={type:"stylesheet",instance:a,count:1,state:o},i.set(s,a)}}},M:function(e,t){fd.M(e,t);var n=pd;if(n&&e){var r=Ye(n).hoistableScripts,i=wd(e),s=r.get(i);s||((s=n.querySelector(Ed(i)))||(e=A({src:e,async:!0,type:"module"},t),(t=ud.get(i))&&kd(e,t),Je(s=n.createElement("script")),Wu(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}};var pd="undefined"===typeof document?null:document;function md(e,t,n){var r=pd;if(r&&"string"===typeof t&&t){var i=mt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),dd.has(i)||(dd.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(Wu(t=r.createElement("link"),"link",e),Je(t),r.head.appendChild(t)))}}function gd(e,t,n,r){var i,s,o,l,c=(c=J.current)?hd(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=vd(n.href),(r=(n=Ye(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=vd(n.href);var u=Ye(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(yd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),ud.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},ud.set(e,n),u||(i=c,s=e,o=n,l=d.state,i.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=i.createElement("link"),l.preload=s,s.addEventListener("load",(function(){return l.loading|=1})),s.addEventListener("error",(function(){return l.loading|=2})),Wu(s,"link",o),Je(s),i.head.appendChild(s))))),t&&null===r)throw Error(a(528,""));return d}if(t&&null!==r)throw Error(a(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=wd(n),(r=(n=Ye(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function vd(e){return'href="'+mt(e)+'"'}function yd(e){return'link[rel="stylesheet"]['+e+"]"}function bd(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function wd(e){return'[src="'+mt(e)+'"]'}function Ed(e){return"script[async]"+e}function _d(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(r)return t.instance=r,Je(r),r;var i=A({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Je(r=(e.ownerDocument||e).createElement("style")),Wu(r,"style",i),xd(r,n.precedence,e),t.instance=r;case"stylesheet":i=vd(n.href);var s=e.querySelector(yd(i));if(s)return t.state.loading|=4,t.instance=s,Je(s),s;r=bd(n),(i=ud.get(i))&&Sd(r,i),Je(s=(e.ownerDocument||e).createElement("link"));var o=s;return o._p=new Promise((function(e,t){o.onload=e,o.onerror=t})),Wu(s,"link",r),t.state.loading|=4,xd(s,n.precedence,e),t.instance=s;case"script":return s=wd(n.src),(i=e.querySelector(Ed(s)))?(t.instance=i,Je(i),i):(r=n,(i=ud.get(s))&&kd(r=A({},n),i),Je(i=(e=e.ownerDocument||e).createElement("script")),Wu(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(a(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,xd(r,n.precedence,e));return t.instance}function xd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,s=i,a=0;a<r.length;a++){var o=r[a];if(o.dataset.precedence===t)s=o;else if(s!==i)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Sd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function kd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Td=null;function Cd(e,t,n){if(null===Td){var r=new Map,i=Td=new Map;i.set(n,r)}else(r=(i=Td).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var s=n[i];if(!(s[qe]||s[Fe]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var a=s.getAttribute(t)||"";a=e+a;var o=r.get(a);o?o.push(s):r.set(a,[s])}}return r}function Nd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Id(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Rd=null;function Ad(){}function Od(){if(this.count--,0===this.count)if(this.stylesheets)jd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Pd=null;function jd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Pd=new Map,t.forEach(Dd,e),Pd=null,Od.call(e))}function Dd(e,t){if(!(4&t.state.loading)){var n=Pd.get(e);if(n)var r=n.get(null);else{n=new Map,Pd.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var a=i[s];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}a=(i=t.instance).getAttribute("data-precedence"),(s=n.get(a)||r)===r&&n.set(null,i),n.set(a,i),this.count++,r=Od.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),s?s.parentNode.insertBefore(i,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var Ld={$$typeof:g,Provider:null,Consumer:null,_currentValue:B,_currentValue2:B,_threadCount:0};function Md(e,t,n,r,i,s,a,o){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ae(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ae(0),this.hiddenUpdates=Ae(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Fd(e,t,n,r,i,s,a,o,l,c,u,d){return e=new Md(e,t,n,a,o,l,c,d),t=1,!0===s&&(t|=24),s=Dl(3,null,null,t),e.current=s,s.stateNode=e,(t=Vi()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:t},Io(s),e}function Ud(e){return e?e=Or:Or}function Vd(e,t,n,r,i,s){i=Ud(i),null===r.context?r.context=i:r.pendingContext=i,(r=Ao(t)).payload={element:n},null!==(s=void 0===s?null:s)&&(r.callback=s),null!==(n=Oo(e,r,t))&&(Oc(n,0,t),Po(n,e,t))}function zd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function $d(e,t){zd(e,t),(e=e.alternate)&&zd(e,t)}function Bd(e){if(13===e.tag){var t=Ir(e,67108864);null!==t&&Oc(t,0,67108864),$d(e,67108864)}}var Hd=!0;function qd(e,t,n,r){var i=R.T;R.T=null;var s=$.p;try{$.p=2,Kd(e,t,n,r)}finally{$.p=s,R.T=i}}function Wd(e,t,n,r){var i=R.T;R.T=null;var s=$.p;try{$.p=8,Kd(e,t,n,r)}finally{$.p=s,R.T=i}}function Kd(e,t,n,r){if(Hd){var i=Gd(r);if(null===i)ju(e,t,r,Qd,n),ah(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Zd=oh(Zd,e,t,n,r,i),!0;case"dragenter":return eh=oh(eh,e,t,n,r,i),!0;case"mouseover":return th=oh(th,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return nh.set(s,oh(nh.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,rh.set(s,oh(rh.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(ah(e,r),4&t&&-1<sh.indexOf(e)){for(;null!==i;){var s=Ge(i);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var a=ke(s.pendingLanes);if(0!==a){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var l=1<<31-we(a);o.entanglements[1]|=l,a&=~l}mu(s),0===(6&ec)&&(wc=le()+500,gu(0,!1))}}break;case 13:null!==(o=Ir(s,2))&&Oc(o,0,2),Fc(),$d(s,2)}if(null===(s=Gd(r))&&ju(e,t,r,Qd,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else ju(e,t,r,null,n)}}function Gd(e){return Yd(e=At(e))}var Qd=null;function Yd(e){if(Qd=null,null!==(e=Ke(e))){var t=M(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=F(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Qd=e,null}function Jd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case ue:return 2;case de:return 8;case he:case fe:return 32;case pe:return 268435456;default:return 32}default:return 32}}var Xd=!1,Zd=null,eh=null,th=null,nh=new Map,rh=new Map,ih=[],sh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ah(e,t){switch(e){case"focusin":case"focusout":Zd=null;break;case"dragenter":case"dragleave":eh=null;break;case"mouseover":case"mouseout":th=null;break;case"pointerover":case"pointerout":nh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":rh.delete(t.pointerId)}}function oh(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=Ge(t))&&Bd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function lh(e){var t=Ke(e.target);if(null!==t){var n=M(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=F(n)))return e.blockedOn=t,void function(e,t){var n=$.p;try{return $.p=e,t()}finally{$.p=n}}(e.priority,(function(){if(13===n.tag){var e=Rc(),t=Ir(n,e);null!==t&&Oc(t,0,e),$d(n,e)}}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function ch(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Gd(e.nativeEvent);if(null!==n)return null!==(t=Ge(n))&&Bd(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Rt=r,n.target.dispatchEvent(r),Rt=null,t.shift()}return!0}function uh(e,t,n){ch(e)&&n.delete(t)}function dh(){Xd=!1,null!==Zd&&ch(Zd)&&(Zd=null),null!==eh&&ch(eh)&&(eh=null),null!==th&&ch(th)&&(th=null),nh.forEach(uh),rh.forEach(uh)}function hh(e,t){e.blockedOn===t&&(e.blockedOn=null,Xd||(Xd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,dh)))}var fh=null;function ph(e){fh!==e&&(fh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,(function(){fh===e&&(fh=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===Yd(r||n))continue;break}var s=Ge(n);null!==s&&(e.splice(t,3),t-=3,ua(s,{pending:!0,data:i,method:n.method,action:r},r,i))}})))}function mh(e){function t(t){return hh(t,e)}null!==Zd&&hh(Zd,e),null!==eh&&hh(eh,e),null!==th&&hh(th,e),nh.forEach(t),rh.forEach(t);for(var n=0;n<ih.length;n++){var r=ih[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<ih.length&&null===(n=ih[0]).blockedOn;)lh(n),null===n.blockedOn&&ih.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],s=n[r+1],a=i[Ue]||null;if("function"===typeof s)a||ph(n);else if(a){var o=null;if(s&&s.hasAttribute("formAction")){if(i=s,a=s[Ue]||null)o=a.formAction;else if(null!==Yd(i))continue}else o=a.action;"function"===typeof o?n[r+1]=o:(n.splice(r,3),r-=3),ph(n)}}}function gh(e){this._internalRoot=e}function vh(e){this._internalRoot=e}vh.prototype.render=gh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Vd(t.current,Rc(),e,t,null,null)},vh.prototype.unmount=gh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;0===e.tag&&tu(),Vd(e.current,2,null,e,null,null),Fc(),t[Ve]=null}},vh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Le();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ih.length&&0!==t&&t<ih[n].priority;n++);ih.splice(n,0,e),0===n&&lh(e)}};var yh=i.version;if("19.0.0"!==yh)throw Error(a(527,yh,"19.0.0"));$.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=M(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return U(i),e;if(s===r)return U(i),t;s=s.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?V(e):null)?null:e.stateNode};var bh={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:R,findFiberByHostInstance:Ke,reconcilerVersion:"19.0.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var wh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wh.isDisabled&&wh.supportsFiber)try{ve=wh.inject(bh),ye=wh}catch(_h){}}t.createRoot=function(e,t){if(!o(e))throw Error(a(299));var n=!1,r="",i=ja,s=Da,l=La;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(s=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Fd(e,1,!1,null,0,n,r,i,s,l,0,null),e[Ve]=t.current,Ou(8===e.nodeType?e.parentNode:e),new gh(t)},t.hydrateRoot=function(e,t,n){if(!o(e))throw Error(a(299));var r=!1,i="",s=ja,l=Da,c=La,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(s=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Fd(e,1,!0,t,0,r,i,s,l,c,0,u)).context=Ud(null),n=t.current,(i=Ao(r=Rc())).callback=null,Oo(n,i,r),t.current.lanes=r,Oe(t,r),mu(t),e[Ve]=t.current,Ou(e),new vh(t)},t.version="19.0.0"},43:(e,t,n)=>{"use strict";e.exports=n(288)},139:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=a(e,s(n)))}return e}function s(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=a(t,n));return t}function a(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},173:(e,t,n)=>{e.exports=n(497)()},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var E=Array.isArray,_={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function S(e,t,r,i,s,a){return r=a.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:a}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(){}function I(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(o){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return I((u=e._init)(e._payload),t,i,s,a)}}if(u)return a=a(e),u=""===s?"."+C(e,0):s,E(a)?(i="",null!=u&&(i=u.replace(T,"$&/")+"/"),I(a,t,i,"",(function(e){return e}))):null!=a&&(k(a)&&(l=a,c=i+(null==a.key||e&&e.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+u,a=S(l.type,c,void 0,0,0,l.props)),t.push(a)),1;u=0;var d,p=""===s?".":s+":";if(E(e))for(var m=0;m<e.length;m++)u+=I(s=e[m],t,i,o=p+C(s,m),a);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=f&&d[f]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(s=e.next()).done;)u+=I(s=s.value,t,i,o=p+C(s,m++),a);else if("object"===o){if("function"===typeof e.then)return I(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(N,N):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,s,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function R(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function P(){}t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_,t.act=function(){throw Error("act(...) is not supported in production builds of React.")},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),i=e.key;if(null!=t)for(s in void 0!==t.ref&&void 0,void 0!==t.key&&(i=""+t.key),t)!x.call(t,s)||"key"===s||"__self"===s||"__source"===s||"ref"===s&&void 0===t.ref||(r[s]=t[s]);var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){for(var a=Array(s),o=0;o<s;o++)a[o]=arguments[o+2];r.children=a}return S(e.type,i,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,n){var r,i={},s=null;if(null!=t)for(r in void 0!==t.key&&(s=""+t.key),t)x.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var a=arguments.length-2;if(1===a)i.children=n;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];i.children=o}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===i[r]&&(i[r]=a[r]);return S(e,s,void 0,0,0,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=_.T,n={};_.T=n;try{var r=e(),i=_.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(P,O)}catch(s){O(s)}finally{_.T=t}},t.unstable_useCacheRefresh=function(){return _.H.useCacheRefresh()},t.use=function(e){return _.H.use(e)},t.useActionState=function(e,t,n){return _.H.useActionState(e,t,n)},t.useCallback=function(e,t){return _.H.useCallback(e,t)},t.useContext=function(e){return _.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return _.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return _.H.useEffect(e,t)},t.useId=function(){return _.H.useId()},t.useImperativeHandle=function(e,t,n){return _.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return _.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return _.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return _.H.useMemo(e,t)},t.useOptimistic=function(e,t){return _.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return _.H.useReducer(e,t,n)},t.useRef=function(e){return _.H.useRef(e)},t.useState=function(e){return _.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return _.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return _.H.useTransition()},t.version="19.0.0"},334:e=>{"use strict";const t=new Set(["ENOTFOUND","ENETUNREACH","UNABLE_TO_GET_ISSUER_CERT","UNABLE_TO_GET_CRL","UNABLE_TO_DECRYPT_CERT_SIGNATURE","UNABLE_TO_DECRYPT_CRL_SIGNATURE","UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY","CERT_SIGNATURE_FAILURE","CRL_SIGNATURE_FAILURE","CERT_NOT_YET_VALID","CERT_HAS_EXPIRED","CRL_NOT_YET_VALID","CRL_HAS_EXPIRED","ERROR_IN_CERT_NOT_BEFORE_FIELD","ERROR_IN_CERT_NOT_AFTER_FIELD","ERROR_IN_CRL_LAST_UPDATE_FIELD","ERROR_IN_CRL_NEXT_UPDATE_FIELD","OUT_OF_MEM","DEPTH_ZERO_SELF_SIGNED_CERT","SELF_SIGNED_CERT_IN_CHAIN","UNABLE_TO_GET_ISSUER_CERT_LOCALLY","UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_CHAIN_TOO_LONG","CERT_REVOKED","INVALID_CA","PATH_LENGTH_EXCEEDED","INVALID_PURPOSE","CERT_UNTRUSTED","CERT_REJECTED","HOSTNAME_MISMATCH"]);e.exports=e=>!t.has(e&&e.code)},358:(e,t)=>{"use strict";const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function l(e,t,n){do{const n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<n);return n}function c(e,t,n){for(;t>n;){const n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return n}function u(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},393:(e,t,n)=>{var r,i=function(){var e=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",r={};function i(e,t){if(!r[e]){r[e]={};for(var n=0;n<e.length;n++)r[e][e.charAt(n)]=n}return r[e][t]}var s={compressToBase64:function(e){if(null==e)return"";var n=s._compress(e,6,(function(e){return t.charAt(e)}));switch(n.length%4){default:case 0:return n;case 1:return n+"===";case 2:return n+"==";case 3:return n+"="}},decompressFromBase64:function(e){return null==e?"":""==e?null:s._decompress(e.length,32,(function(n){return i(t,e.charAt(n))}))},compressToUTF16:function(t){return null==t?"":s._compress(t,15,(function(t){return e(t+32)}))+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:s._decompress(e.length,16384,(function(t){return e.charCodeAt(t)-32}))},compressToUint8Array:function(e){for(var t=s.compress(e),n=new Uint8Array(2*t.length),r=0,i=t.length;r<i;r++){var a=t.charCodeAt(r);n[2*r]=a>>>8,n[2*r+1]=a%256}return n},decompressFromUint8Array:function(t){if(null===t||void 0===t)return s.decompress(t);for(var n=new Array(t.length/2),r=0,i=n.length;r<i;r++)n[r]=256*t[2*r]+t[2*r+1];var a=[];return n.forEach((function(t){a.push(e(t))})),s.decompress(a.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":s._compress(e,6,(function(e){return n.charAt(e)}))},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),s._decompress(e.length,32,(function(t){return i(n,e.charAt(t))})))},compress:function(t){return s._compress(t,16,(function(t){return e(t)}))},_compress:function(e,t,n){if(null==e)return"";var r,i,s,a={},o={},l="",c="",u="",d=2,h=3,f=2,p=[],m=0,g=0;for(s=0;s<e.length;s+=1)if(l=e.charAt(s),Object.prototype.hasOwnProperty.call(a,l)||(a[l]=h++,o[l]=!0),c=u+l,Object.prototype.hasOwnProperty.call(a,c))u=c;else{if(Object.prototype.hasOwnProperty.call(o,u)){if(u.charCodeAt(0)<256){for(r=0;r<f;r++)m<<=1,g==t-1?(g=0,p.push(n(m)),m=0):g++;for(i=u.charCodeAt(0),r=0;r<8;r++)m=m<<1|1&i,g==t-1?(g=0,p.push(n(m)),m=0):g++,i>>=1}else{for(i=1,r=0;r<f;r++)m=m<<1|i,g==t-1?(g=0,p.push(n(m)),m=0):g++,i=0;for(i=u.charCodeAt(0),r=0;r<16;r++)m=m<<1|1&i,g==t-1?(g=0,p.push(n(m)),m=0):g++,i>>=1}0==--d&&(d=Math.pow(2,f),f++),delete o[u]}else for(i=a[u],r=0;r<f;r++)m=m<<1|1&i,g==t-1?(g=0,p.push(n(m)),m=0):g++,i>>=1;0==--d&&(d=Math.pow(2,f),f++),a[c]=h++,u=String(l)}if(""!==u){if(Object.prototype.hasOwnProperty.call(o,u)){if(u.charCodeAt(0)<256){for(r=0;r<f;r++)m<<=1,g==t-1?(g=0,p.push(n(m)),m=0):g++;for(i=u.charCodeAt(0),r=0;r<8;r++)m=m<<1|1&i,g==t-1?(g=0,p.push(n(m)),m=0):g++,i>>=1}else{for(i=1,r=0;r<f;r++)m=m<<1|i,g==t-1?(g=0,p.push(n(m)),m=0):g++,i=0;for(i=u.charCodeAt(0),r=0;r<16;r++)m=m<<1|1&i,g==t-1?(g=0,p.push(n(m)),m=0):g++,i>>=1}0==--d&&(d=Math.pow(2,f),f++),delete o[u]}else for(i=a[u],r=0;r<f;r++)m=m<<1|1&i,g==t-1?(g=0,p.push(n(m)),m=0):g++,i>>=1;0==--d&&(d=Math.pow(2,f),f++)}for(i=2,r=0;r<f;r++)m=m<<1|1&i,g==t-1?(g=0,p.push(n(m)),m=0):g++,i>>=1;for(;;){if(m<<=1,g==t-1){p.push(n(m));break}g++}return p.join("")},decompress:function(e){return null==e?"":""==e?null:s._decompress(e.length,32768,(function(t){return e.charCodeAt(t)}))},_decompress:function(t,n,r){var i,s,a,o,l,c,u,d=[],h=4,f=4,p=3,m="",g=[],v={val:r(0),position:n,index:1};for(i=0;i<3;i+=1)d[i]=i;for(a=0,l=Math.pow(2,2),c=1;c!=l;)o=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),a|=(o>0?1:0)*c,c<<=1;switch(a){case 0:for(a=0,l=Math.pow(2,8),c=1;c!=l;)o=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),a|=(o>0?1:0)*c,c<<=1;u=e(a);break;case 1:for(a=0,l=Math.pow(2,16),c=1;c!=l;)o=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),a|=(o>0?1:0)*c,c<<=1;u=e(a);break;case 2:return""}for(d[3]=u,s=u,g.push(u);;){if(v.index>t)return"";for(a=0,l=Math.pow(2,p),c=1;c!=l;)o=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),a|=(o>0?1:0)*c,c<<=1;switch(u=a){case 0:for(a=0,l=Math.pow(2,8),c=1;c!=l;)o=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),a|=(o>0?1:0)*c,c<<=1;d[f++]=e(a),u=f-1,h--;break;case 1:for(a=0,l=Math.pow(2,16),c=1;c!=l;)o=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),a|=(o>0?1:0)*c,c<<=1;d[f++]=e(a),u=f-1,h--;break;case 2:return g.join("")}if(0==h&&(h=Math.pow(2,p),p++),d[u])m=d[u];else{if(u!==f)return null;m=s+s.charAt(0)}g.push(m),d[f++]=s+m.charAt(0),s=m,0==--h&&(h=Math.pow(2,p),p++)}}};return s}();void 0===(r=function(){return i}.call(t,n,t,e))||(e.exports=r)},440:e=>{"use strict";var t=function(){};e.exports=t},497:(e,t,n)=>{"use strict";var r=n(218);function i(){}function s(){}s.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,s,a){if(a!==r){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:i};return n.PropTypes=n,n}},579:(e,t,n)=>{"use strict";e.exports=n(799)},672:(e,t,n)=>{"use strict";var r=n(43);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var a={d:{f:s,r:function(){throw Error(i(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=a.p;try{if(l.T=null,a.p=2,e)return e()}finally{l.T=t,a.p=n,a.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,a.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&a.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,s="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?a.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:s}):"script"===n&&a.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:s,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);a.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&a.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);a.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);a.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else a.d.m(e)},t.requestFormReset=function(e){a.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.0.0"},740:e=>{"use strict";e.exports=function(e,t,n,r,i,s,a,o){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,s,a,o],u=0;(l=new Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},799:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var s in r={},t)"key"!==s&&(r[s]=t[s]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},853:(e,t,n)=>{"use strict";e.exports=n(896)},896:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function E(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,A();else{var t=r(u);null!==t&&O(E,t.startTime-e)}}var _,x=!1,S=-1,k=5,T=-1;function C(){return!(t.unstable_now()-T<k)}function N(){if(x){var e=t.unstable_now();T=e;var n=!0;try{e:{m=!1,g&&(g=!1,y(S),S=-1),p=!0;var s=f;try{t:{for(w(e),h=r(c);null!==h&&!(h.expirationTime>e&&C());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var o=a(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){h.callback=o,w(e),n=!0;break t}h===r(c)&&i(c),w(e)}else i(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&O(E,l.startTime-e),n=!1}}break e}finally{h=null,f=s,p=!1}n=void 0}}finally{n?_():x=!1}}}if("function"===typeof b)_=function(){b(N)};else if("undefined"!==typeof MessageChannel){var I=new MessageChannel,R=I.port2;I.port1.onmessage=N,_=function(){R.postMessage(null)}}else _=function(){v(N,0)};function A(){x||(x=!0,_())}function O(e,n){S=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,A())},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(y(S),S=-1):g=!0,O(E,s-a))):(e.sortIndex=o,n(c,e),m||p||(m=!0,A())),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>QE,hasStandardBrowserEnv:()=>JE,hasStandardBrowserWebWorkerEnv:()=>XE,navigator:()=>YE,origin:()=>ZE});var t=n(43),r=n(391),i=(n(358),"popstate");function s(){return h((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return c("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:u(t)}),null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function a(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function o(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function l(e,t){return{usr:e.state,key:e.key,idx:t}}function c(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return{pathname:"string"===typeof e?e:e.pathname,search:"",hash:"",..."string"===typeof t?d(t):t,state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)}}function u(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function d(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function h(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:s=document.defaultView,v5Compat:o=!1}=r,d=s.history,h="POP",f=null,p=m();function m(){return(d.state||{idx:null}).idx}function g(){h="POP";let e=m(),t=null==e?null:e-p;p=e,f&&f({action:h,location:y.location,delta:t})}function v(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:u(e);return n=n.replace(/ $/,"%20"),a(t,`No window.location.(origin|href) available to create URL for href: ${n}`),new URL(n,t)}null==p&&(p=0,d.replaceState({...d.state,idx:p},""));let y={get action(){return h},get location(){return e(s,d)},listen(e){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(i,g),f=e,()=>{s.removeEventListener(i,g),f=null}},createHref:e=>t(s,e),createURL:v,encodeLocation(e){let t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){h="PUSH";let r=c(y.location,e,t);n&&n(r,e),p=m()+1;let i=l(r,p),a=y.createHref(r);try{d.pushState(i,"",a)}catch(u){if(u instanceof DOMException&&"DataCloneError"===u.name)throw u;s.location.assign(a)}o&&f&&f({action:h,location:y.location,delta:1})},replace:function(e,t){h="REPLACE";let r=c(y.location,e,t);n&&n(r,e),p=m();let i=l(r,p),s=y.createHref(r);d.replaceState(i,"",s),o&&f&&f({action:h,location:y.location,delta:0})},go:e=>d.go(e)};return y}new WeakMap;function f(e,t){return p(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function p(e,t,n,r){let i=I(("string"===typeof t?d(t):t).pathname||"/",n);if(null==i)return null;let s=m(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(s);let a=null;for(let o=0;null==a&&o<s.length;++o){let e=N(i);a=k(s[o],e,r)}return a}function m(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=(e,i,s)=>{let o={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(a(o.relativePath.startsWith(r),`Absolute route path "${o.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),o.relativePath=o.relativePath.slice(r.length));let l=j([r,o.relativePath]),c=n.concat(o);e.children&&e.children.length>0&&(a(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${l}".`),m(e.children,t,c,l)),(null!=e.path||e.index)&&t.push({path:l,score:S(l,e.index),routesMeta:c})};return e.forEach(((e,t)=>{if(""!==e.path&&e.path?.includes("?"))for(let n of g(e.path))i(e,t,n);else i(e,t)})),t}function g(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let a=g(r.join("/")),o=[];return o.push(...a.map((e=>""===e?s:[s,e].join("/")))),i&&o.push(...a),o.map((t=>e.startsWith("/")&&""===t?"/":t))}var v=/^:[\w-]+$/,y=3,b=2,w=1,E=10,_=-2,x=e=>"*"===e;function S(e,t){let n=e.split("/"),r=n.length;return n.some(x)&&(r+=_),t&&(r+=b),n.filter((e=>!x(e))).reduce(((e,t)=>e+(v.test(t)?y:""===t?w:E)),r)}function k(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=T({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=T({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:j([s,u.pathname]),pathnameBase:D(j([s,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(s=j([s,u.pathnameBase]))}return a}function T(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=C(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:s,pathnameBase:a,pattern:e}}function C(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];o("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));return e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function N(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return o(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function I(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function R(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function A(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function O(e){let t=A(e);return t.map(((e,n)=>n===t.length-1?e.pathname:e.pathnameBase))}function P(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=d(e):(r={...e},a(!r.pathname||!r.pathname.includes("?"),R("?","pathname","search",r)),a(!r.pathname||!r.pathname.includes("#"),R("#","pathname","hash",r)),a(!r.search||!r.search.includes("#"),R("#","search","hash",r)));let s,o=""===e||""===r.pathname,l=o?"/":r.pathname;if(null==l)s=n;else{let e=t.length-1;if(!i&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}s=e>=0?t[e]:"/"}let c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:i=""}="string"===typeof e?d(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:L(r),hash:M(i)}}(r,s),u=l&&"/"!==l&&l.endsWith("/"),h=(o||"."===l)&&n.endsWith("/");return c.pathname.endsWith("/")||!u&&!h||(c.pathname+="/"),c}var j=e=>e.join("/").replace(/\/\/+/g,"/"),D=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),L=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",M=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function F(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var U=["POST","PUT","PATCH","DELETE"],V=(new Set(U),["GET",...U]);new Set(V),Symbol("ResetLoaderData");var z=t.createContext(null);z.displayName="DataRouter";var $=t.createContext(null);$.displayName="DataRouterState";var B=t.createContext({isTransitioning:!1});B.displayName="ViewTransition";var H=t.createContext(new Map);H.displayName="Fetchers";var q=t.createContext(null);q.displayName="Await";var W=t.createContext(null);W.displayName="Navigation";var K=t.createContext(null);K.displayName="Location";var G=t.createContext({outlet:null,matches:[],isDataRoute:!1});G.displayName="Route";var Q=t.createContext(null);Q.displayName="RouteError";function Y(){return null!=t.useContext(K)}function J(){return a(Y(),"useLocation() may be used only in the context of a <Router> component."),t.useContext(K).location}var X="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Z(e){t.useContext(W).static||t.useLayoutEffect(e)}function ee(){let{isDataRoute:e}=t.useContext(G);return e?function(){let{router:e}=ce("useNavigate"),n=de("useNavigate"),r=t.useRef(!1);Z((()=>{r.current=!0}));let i=t.useCallback((async function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(r.current,X),r.current&&("number"===typeof t?e.navigate(t):await e.navigate(t,{fromRouteId:n,...i}))}),[e,n]);return i}():function(){a(Y(),"useNavigate() may be used only in the context of a <Router> component.");let e=t.useContext(z),{basename:n,navigator:r}=t.useContext(W),{matches:i}=t.useContext(G),{pathname:s}=J(),l=JSON.stringify(O(i)),c=t.useRef(!1);Z((()=>{c.current=!0}));let u=t.useCallback((function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(o(c.current,X),!c.current)return;if("number"===typeof t)return void r.go(t);let a=P(t,JSON.parse(l),s,"path"===i.relative);null==e&&"/"!==n&&(a.pathname="/"===a.pathname?n:j([n,a.pathname])),(i.replace?r.replace:r.push)(a,i.state,i)}),[n,r,l,s,e]);return u}()}t.createContext(null);function te(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:r}=t.useContext(G),{pathname:i}=J(),s=JSON.stringify(O(r));return t.useMemo((()=>P(e,JSON.parse(s),i,"path"===n)),[e,s,i,n])}function ne(e,n,r,i){a(Y(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:l}=t.useContext(W),{matches:c}=t.useContext(G),u=c[c.length-1],h=u?u.params:{},p=u?u.pathname:"/",m=u?u.pathnameBase:"/",g=u&&u.route;{let e=g&&g.path||"";pe(p,!g||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let v,y=J();if(n){let e="string"===typeof n?d(n):n;a("/"===m||e.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${e.pathname}" was given in the \`location\` prop.`),v=e}else v=y;let b=v.pathname||"/",w=b;if("/"!==m){let e=m.replace(/^\//,"").split("/");w="/"+b.replace(/^\//,"").split("/").slice(e.length).join("/")}let E=!l&&r&&r.matches&&r.matches.length>0?r.matches:f(e,{pathname:w});o(g||null!=E,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),o(null==E||void 0!==E[E.length-1].route.element||void 0!==E[E.length-1].route.Component||void 0!==E[E.length-1].route.lazy,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=oe(E&&E.map((e=>Object.assign({},e,{params:Object.assign({},h,e.params),pathname:j([m,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?m:j([m,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),c,r,i);return n&&_?t.createElement(K.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},_):_}function re(){let e=he(),n=F(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=t.createElement(t.Fragment,null,t.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",t.createElement("code",{style:a},"ErrorBoundary")," or"," ",t.createElement("code",{style:a},"errorElement")," prop on your route.")),t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:s},r):null,o)}var ie=t.createElement(re,null),se=class extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(G.Provider,{value:this.props.routeContext},t.createElement(Q.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ae(e){let{routeContext:n,match:r,children:i}=e,s=t.useContext(z);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(G.Provider,{value:n},i)}function oe(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!r)return null;if(r.errors)e=r.matches;else{if(0!==n.length||r.initialized||!(r.matches.length>0))return null;e=r.matches}}let i=e,s=r?.errors;if(null!=s){let e=i.findIndex((e=>e.route.id&&void 0!==s?.[e.route.id]));a(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,e+1))}let o=!1,l=-1;if(r)for(let t=0;t<i.length;t++){let e=i[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(l=t),e.route.id){let{loaderData:t,errors:n}=r,s=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!n||void 0===n[e.route.id]);if(e.route.lazy||s){o=!0,i=l>=0?i.slice(0,l+1):[i[0]];break}}}return i.reduceRight(((e,a,c)=>{let u,d=!1,h=null,f=null;r&&(u=s&&a.route.id?s[a.route.id]:void 0,h=a.route.errorElement||ie,o&&(l<0&&0===c?(pe("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,f=null):l===c&&(d=!0,f=a.route.hydrateFallbackElement||null)));let p=n.concat(i.slice(0,c+1)),m=()=>{let n;return n=u?h:d?f:a.route.Component?t.createElement(a.route.Component,null):a.route.element?a.route.element:e,t.createElement(ae,{match:a,routeContext:{outlet:e,matches:p,isDataRoute:null!=r},children:n})};return r&&(a.route.ErrorBoundary||a.route.errorElement||0===c)?t.createElement(se,{location:r.location,revalidation:r.revalidation,component:h,error:u,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()}),null)}function le(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ce(e){let n=t.useContext(z);return a(n,le(e)),n}function ue(e){let n=t.useContext($);return a(n,le(e)),n}function de(e){let n=function(e){let n=t.useContext(G);return a(n,le(e)),n}(e),r=n.matches[n.matches.length-1];return a(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function he(){let e=t.useContext(Q),n=ue("useRouteError"),r=de("useRouteError");return void 0!==e?e:n.errors?.[r]}var fe={};function pe(e,t,n){t||fe[e]||(fe[e]=!0,o(!1,n))}t.memo((function(e){let{routes:t,future:n,state:r}=e;return ne(t,void 0,r,n)}));function me(e){a(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ge(e){let{basename:n="/",children:r=null,location:i,navigationType:s="POP",navigator:l,static:c=!1}=e;a(!Y(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=t.useMemo((()=>({basename:u,navigator:l,static:c,future:{}})),[u,l,c]);"string"===typeof i&&(i=d(i));let{pathname:f="/",search:p="",hash:m="",state:g=null,key:v="default"}=i,y=t.useMemo((()=>{let e=I(f,u);return null==e?null:{location:{pathname:e,search:p,hash:m,state:g,key:v},navigationType:s}}),[u,f,p,m,g,v,s]);return o(null!=y,`<Router basename="${u}"> is not able to match the URL "${f}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),null==y?null:t.createElement(W.Provider,{value:h},t.createElement(K.Provider,{children:r,value:y}))}function ve(e){let{children:t,location:n}=e;return ne(ye(t),n)}t.Component;function ye(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];return t.Children.forEach(e,((e,i)=>{if(!t.isValidElement(e))return;let s=[...n,i];if(e.type===t.Fragment)return void r.push.apply(r,ye(e.props.children,s));a(e.type===me,`[${"string"===typeof e.type?e.type:e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),a(!e.props.index||!e.props.children,"An index route cannot have child routes.");let o={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=ye(e.props.children,s)),r.push(o)})),r}var be="get",we="application/x-www-form-urlencoded";function Ee(e){return null!=e&&"string"===typeof e.tagName}var _e=null;var xe=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Se(e){return null==e||xe.has(e)?e:(o(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${we}"`),null)}function ke(e,t){let n,r,i,s,a;if(Ee(o=e)&&"form"===o.tagName.toLowerCase()){let a=e.getAttribute("action");r=a?I(a,t):null,n=e.getAttribute("method")||be,i=Se(e.getAttribute("enctype"))||we,s=new FormData(e)}else if(function(e){return Ee(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Ee(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let a=e.form;if(null==a)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||a.getAttribute("action");if(r=o?I(o,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||be,i=Se(e.getAttribute("formenctype"))||Se(a.getAttribute("enctype"))||we,s=new FormData(a,e),!function(){if(null===_e)try{new FormData(document.createElement("form"),0),_e=!1}catch(e){_e=!0}return _e}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?`${t}.`:"";s.append(`${e}x`,"0"),s.append(`${e}y`,"0")}else t&&s.append(t,r)}}else{if(Ee(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=be,r=null,i=we,a=e}var o;return s&&"text/plain"===i&&(a=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:a}}function Te(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function Ce(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function Ne(e){return null!=e&&"string"===typeof e.page}function Ie(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Re(e,t,n,r,i,s){let a=(e,t)=>!n[t]||e.route.id!==n[t].route.id,o=(e,t)=>n[t].pathname!==e.pathname||n[t].route.path?.endsWith("*")&&n[t].params["*"]!==e.params["*"];return"assets"===s?t.filter(((e,t)=>a(e,t)||o(e,t))):"data"===s?t.filter(((t,s)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(a(t,s)||o(t,s))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0})):[]}function Ae(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map((e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i})).flat(1),[...new Set(r)];var r}function Oe(e,t){let n=new Set,r=new Set(t);return e.reduce(((e,i)=>{if(t&&!Ne(i)&&"script"===i.as&&i.href&&r.has(i.href))return e;let s=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(i));return n.has(s)||(n.add(s),e.push({key:s,link:i})),e}),[])}function Pe(e){return{__html:e}}Symbol("SingleFetchRedirect");var je=new Set([100,101,204,205]);function De(e,t){let n="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===n.pathname?n.pathname="_root.data":t&&"/"===I(n.pathname,t)?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}t.Component;function Le(e){let{error:n,isOutsideRemixApp:r}=e;console.error(n);let i,s=t.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://remix.run/guides/errors for more information."\n        );\n      '}});if(F(n))return t.createElement(Me,{title:"Unhandled Thrown Response!"},t.createElement("h1",{style:{fontSize:"24px"}},n.status," ",n.statusText),s);if(n instanceof Error)0;else{let e=null==n?"Unknown Error":"object"===typeof n&&"toString"in n?n.toString():JSON.stringify(n);new Error(e)}return t.createElement(Me,{title:"Application Error!",isOutsideRemixApp:r},t.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),t.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},i.stack),s)}function Me(e){let{title:n,renderScripts:r,isOutsideRemixApp:i,children:s}=e,{routeModules:a}=$e();return a.root?.Layout&&!i?s:t.createElement("html",{lang:"en"},t.createElement("head",null,t.createElement("meta",{charSet:"utf-8"}),t.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),t.createElement("title",null,n)),t.createElement("body",null,t.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},s,r?t.createElement(Qe,null):null)))}function Fe(e){return!0===e}function Ue(){let e=t.useContext(z);return Te(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Ve(){let e=t.useContext($);return Te(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var ze=t.createContext(void 0);function $e(){let e=t.useContext(ze);return Te(e,"You must render this element inside a <HydratedRouter> element"),e}function Be(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function He(e,t,n){if(n&&!Ge)return[e[0]];if(t){let n=e.findIndex((e=>void 0!==t[e.route.id]));return e.slice(0,n+1)}return e}function qe(e){let{page:n,...r}=e,{router:i}=Ue(),s=t.useMemo((()=>f(i.routes,n,i.basename)),[i.routes,n,i.basename]);return s?t.createElement(Ke,{page:n,matches:s,...r}):null}function We(e){let{manifest:n,routeModules:r}=$e(),[i,s]=t.useState([]);return t.useEffect((()=>{let t=!1;return async function(e,t,n){return Oe((await Promise.all(e.map((async e=>{let r=t.routes[e.route.id];if(r){let e=await Ce(r,n);return e.links?e.links():[]}return[]})))).flat(1).filter(Ie).filter((e=>"stylesheet"===e.rel||"preload"===e.rel)).map((e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"})))}(e,n,r).then((e=>{t||s(e)})),()=>{t=!0}}),[e,n,r]),i}function Ke(e){let{page:n,matches:r,...i}=e,s=J(),{manifest:a,routeModules:o}=$e(),{basename:l}=Ue(),{loaderData:c,matches:u}=Ve(),d=t.useMemo((()=>Re(n,r,u,a,s,"data")),[n,r,u,a,s]),h=t.useMemo((()=>Re(n,r,u,a,s,"assets")),[n,r,u,a,s]),f=t.useMemo((()=>{if(n===s.pathname+s.search+s.hash)return[];let e=new Set,t=!1;if(r.forEach((n=>{let r=a.routes[n.route.id];r&&r.hasLoader&&(!d.some((e=>e.route.id===n.route.id))&&n.route.id in c&&o[n.route.id]?.shouldRevalidate||r.hasClientLoader?t=!0:e.add(n.route.id))})),0===e.size)return[];let i=De(n,l);return t&&e.size>0&&i.searchParams.set("_routes",r.filter((t=>e.has(t.route.id))).map((e=>e.route.id)).join(",")),[i.pathname+i.search]}),[l,c,s,a,d,r,n,o]),p=t.useMemo((()=>Ae(h,a)),[h,a]),m=We(h);return t.createElement(t.Fragment,null,f.map((e=>t.createElement("link",{key:e,rel:"prefetch",as:"fetch",href:e,...i}))),p.map((e=>t.createElement("link",{key:e,rel:"modulepreload",href:e,...i}))),m.map((e=>{let{key:n,link:r}=e;return t.createElement("link",{key:n,...r})})))}ze.displayName="FrameworkContext";var Ge=!1;function Qe(e){let{manifest:n,serverHandoffString:r,isSpaMode:i,ssr:s,renderMeta:a}=$e(),{router:o,static:l,staticContext:c}=Ue(),{matches:u}=Ve(),d=Fe(s);a&&(a.didRenderScripts=!0);let h=He(u,null,i);t.useEffect((()=>{0}),[]);let p=t.useMemo((()=>{let i=c?`window.__reactRouterContext = ${r};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());`:" ",s=l?`${n.hmr?.runtime?`import ${JSON.stringify(n.hmr.runtime)};`:""}${d?"":`import ${JSON.stringify(n.url)}`};\n${h.map(((e,t)=>{let r=`route${t}`,i=n.routes[e.route.id];Te(i,`Route ${e.route.id} not found in manifest`);let{clientActionModule:s,clientLoaderModule:a,clientMiddlewareModule:o,hydrateFallbackModule:l,module:c}=i,u=[...s?[{module:s,varName:`${r}_clientAction`}]:[],...a?[{module:a,varName:`${r}_clientLoader`}]:[],...o?[{module:o,varName:`${r}_clientMiddleware`}]:[],...l?[{module:l,varName:`${r}_HydrateFallback`}]:[],{module:c,varName:`${r}_main`}];return 1===u.length?`import * as ${r} from ${JSON.stringify(c)};`:[u.map((e=>`import * as ${e.varName} from "${e.module}";`)).join("\n"),`const ${r} = {${u.map((e=>`...${e.varName}`)).join(",")}};`].join("\n")})).join("\n")}\n  ${d?`window.__reactRouterManifest = ${JSON.stringify(function(e,t){let{sri:n,...r}=e,i=new Set(t.state.matches.map((e=>e.route.id))),s=t.state.location.pathname.split("/").filter(Boolean),a=["/"];for(s.pop();s.length>0;)a.push(`/${s.join("/")}`),s.pop();a.forEach((e=>{let n=f(t.routes,e,t.basename);n&&n.forEach((e=>i.add(e.route.id)))}));let o=[...i].reduce(((e,t)=>Object.assign(e,{[t]:r.routes[t]})),{});return{...r,routes:o,sri:!!n||void 0}}(n,o),null,2)};`:""}\n  window.__reactRouterRouteModules = {${h.map(((e,t)=>`${JSON.stringify(e.route.id)}:route${t}`)).join(",")}};\n\nimport(${JSON.stringify(n.entry.module)});`:" ";return t.createElement(t.Fragment,null,t.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Pe(i),type:void 0}),t.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Pe(s),type:"module",async:!0}))}),[]),m=Ge?[]:(n.entry.imports.concat(Ae(h,n,{includeHydrateFallback:!0})),[...new Set(g)]);var g;let v="object"===typeof n.sri?n.sri:{};return Ge?null:t.createElement(t.Fragment,null,"object"===typeof n.sri?t.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:v})}}):null,d?null:t.createElement("link",{rel:"modulepreload",href:n.url,crossOrigin:e.crossOrigin,integrity:v[n.url],suppressHydrationWarning:!0}),t.createElement("link",{rel:"modulepreload",href:n.entry.module,crossOrigin:e.crossOrigin,integrity:v[n.entry.module],suppressHydrationWarning:!0}),m.map((n=>t.createElement("link",{key:n,rel:"modulepreload",href:n,crossOrigin:e.crossOrigin,integrity:v[n],suppressHydrationWarning:!0}))),p)}function Ye(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach((t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)}))}}var Je="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{Je&&(window.__reactRouterVersion="7.5.3")}catch(mN){}function Xe(e){let{basename:n,children:r,window:i}=e,a=t.useRef();null==a.current&&(a.current=s({window:i,v5Compat:!0}));let o=a.current,[l,c]=t.useState({action:o.action,location:o.location}),u=t.useCallback((e=>{t.startTransition((()=>c(e)))}),[c]);return t.useLayoutEffect((()=>o.listen(u)),[o,u]),t.createElement(ge,{basename:n,children:r,location:l.location,navigationType:l.action,navigator:o})}var Ze=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,et=t.forwardRef((function(e,n){let r,{onClick:i,discover:s="render",prefetch:l="none",relative:c,reloadDocument:d,replace:h,state:f,target:p,to:m,preventScrollReset:g,viewTransition:v,...y}=e,{basename:b}=t.useContext(W),w="string"===typeof m&&Ze.test(m),E=!1;if("string"===typeof m&&w&&(r=m,Je))try{let e=new URL(window.location.href),t=m.startsWith("//")?new URL(e.protocol+m):new URL(m),n=I(t.pathname,b);t.origin===e.origin&&null!=n?m=n+t.search+t.hash:E=!0}catch(mN){o(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a(Y(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:i}=t.useContext(W),{hash:s,pathname:o,search:l}=te(e,{relative:n}),c=o;return"/"!==r&&(c="/"===o?r:j([r,o])),i.createHref({pathname:c,search:l,hash:s})}(m,{relative:c}),[x,S,k]=function(e,n){let r=t.useContext(ze),[i,s]=t.useState(!1),[a,o]=t.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=n,f=t.useRef(null);t.useEffect((()=>{if("render"===e&&o(!0),"viewport"===e){let e=new IntersectionObserver((e=>{e.forEach((e=>{o(e.isIntersecting)}))}),{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}}),[e]),t.useEffect((()=>{if(i){let e=setTimeout((()=>{o(!0)}),100);return()=>{clearTimeout(e)}}}),[i]);let p=()=>{s(!0)},m=()=>{s(!1),o(!1)};return r?"intent"!==e?[a,f,{}]:[a,f,{onFocus:Be(l,p),onBlur:Be(c,m),onMouseEnter:Be(u,p),onMouseLeave:Be(d,m),onTouchStart:Be(h,p)}]:[!1,f,{}]}(l,y),T=function(e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,viewTransition:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=ee(),c=J(),d=te(e,{relative:a});return t.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:u(c)===u(d);l(e,{replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:o})}}),[c,l,d,r,i,n,e,s,a,o])}(m,{replace:h,state:f,target:p,preventScrollReset:g,relative:c,viewTransition:v});let C=t.createElement("a",{...y,...k,href:r||_,onClick:E||d?i:function(e){i&&i(e),e.defaultPrevented||T(e)},ref:Ye(n,S),target:p,"data-discover":w||"render"!==s?void 0:"true"});return x&&!w?t.createElement(t.Fragment,null,C,t.createElement(qe,{page:_})):C}));et.displayName="Link";var tt=t.forwardRef((function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:l,to:c,viewTransition:u,children:d,...h}=e,f=te(c,{relative:h.relative}),p=J(),m=t.useContext($),{navigator:g,basename:v}=t.useContext(W),y=null!=m&&function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.useContext(B);a(null!=r,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=it("useViewTransitionState"),s=te(e,{relative:n.relative});if(!r.isTransitioning)return!1;let o=I(r.currentLocation.pathname,i)||r.currentLocation.pathname,l=I(r.nextLocation.pathname,i)||r.nextLocation.pathname;return null!=T(s.pathname,l)||null!=T(s.pathname,o)}(f)&&!0===u,b=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,w=p.pathname,E=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;i||(w=w.toLowerCase(),E=E?E.toLowerCase():null,b=b.toLowerCase()),E&&v&&(E=I(E,v)||E);const _="/"!==b&&b.endsWith("/")?b.length-1:b.length;let x,S=w===b||!o&&w.startsWith(b)&&"/"===w.charAt(_),k=null!=E&&(E===b||!o&&E.startsWith(b)&&"/"===E.charAt(b.length)),C={isActive:S,isPending:k,isTransitioning:y},N=S?r:void 0;x="function"===typeof s?s(C):[s,S?"active":null,k?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let R="function"===typeof l?l(C):l;return t.createElement(et,{...h,"aria-current":N,className:x,ref:n,style:R,to:c,viewTransition:u},"function"===typeof d?d(C):d)}));tt.displayName="NavLink";var nt=t.forwardRef(((e,n)=>{let{discover:r="render",fetcherKey:i,navigate:s,reloadDocument:o,replace:l,state:c,method:d=be,action:h,onSubmit:f,relative:p,preventScrollReset:m,viewTransition:g,...v}=e,y=ot(),b=function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:r}=t.useContext(W),i=t.useContext(G);a(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),o={...te(e||".",{relative:n})},l=J();if(null==e){o.search=l.search;let e=new URLSearchParams(o.search),t=e.getAll("index"),n=t.some((e=>""===e));if(n){e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let n=e.toString();o.search=n?`?${n}`:""}}e&&"."!==e||!s.route.index||(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index");"/"!==r&&(o.pathname="/"===o.pathname?r:j([r,o.pathname]));return u(o)}(h,{relative:p}),w="get"===d.toLowerCase()?"get":"post",E="string"===typeof h&&Ze.test(h);return t.createElement("form",{ref:n,method:w,action:b,onSubmit:o?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=t?.getAttribute("formmethod")||d;y(t||e.currentTarget,{fetcherKey:i,method:n,navigate:s,replace:l,state:c,relative:p,preventScrollReset:m,viewTransition:g})},...v,"data-discover":E||"render"!==r?void 0:"true"})}));function rt(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function it(e){let n=t.useContext(z);return a(n,rt(e)),n}nt.displayName="Form";var st=0,at=()=>`__${String(++st)}__`;function ot(){let{router:e}=it("useSubmit"),{basename:n}=t.useContext(W),r=de("useRouteId");return t.useCallback((async function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:s,method:a,encType:o,formData:l,body:c}=ke(t,n);if(!1===i.navigate){let t=i.fetcherKey||at();await e.fetch(t,r,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||o,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})}),[e,n,r])}new TextEncoder;const lt=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ct={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;o||(h=64,s||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(lt(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==o)throw new ut;const l=t<<2|s>>4;if(r.push(l),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class ut extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dt=function(e){return function(e){const t=lt(e);return ct.encodeByteArray(t,!0)}(e).replace(/\./g,"")},ht=function(e){try{return ct.decodeString(e,!0)}catch(mN){console.error("base64Decode failed: ",mN)}return null};const ft=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,pt=()=>{try{return ft()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyChR_kNrIPsfsx9AgqcYz65ktvbdFXDMD4",REACT_APP_AUTH_DOMAIN:"teleshowfirestore.firebaseapp.com",REACT_APP_ID:"1:690533353464:web:a6e20f269fc2e73b95380d",REACT_APP_MESSAGING_SENDER_ID:"690533353464",REACT_APP_NETWORK_HOST:"http://localhost:5000/",REACT_APP_PROJECT_ID:"teleshowfirestore",REACT_APP_STORAGE_BUCKET:"teleshowfirestore.firebasestorage.app",REACT_APP_TMDB_API_KEY:"42500abbb44c5f65745670bac62ba0f3",REACT_APP_TMDB_READ_ACCESS_TOKEN:"eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI0MjUwMGFiYmI0NGM1ZjY1NzQ1NjcwYmFjNjJiYTBmMyIsIm5iZiI6MTczOTY1NDg0OC45NzEsInN1YiI6IjY3YjEwNmMwNDdkYmZiYTQ2NDZjNjQwNyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.H1gvMOTTjeRQK8AUxv7ARrGLj8htx-lYEVcB8gp0njA"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(mN){return}const t=e&&ht(e[1]);return t&&JSON.parse(t)})()}catch(mN){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${mN}`)}},mt=e=>{var t,n;return null===(n=null===(t=pt())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},gt=e=>{const t=mt(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},vt=()=>{var e;return null===(e=pt())||void 0===e?void 0:e.config},yt=e=>{var t;return null===(t=pt())||void 0===t?void 0:t[`_${e}`]};class bt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function wt(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[dt(JSON.stringify({alg:"none",type:"JWT"})),dt(JSON.stringify(s)),""].join(".")}function Et(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function _t(){return!function(){var e;const t=null===(e=pt())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(mN){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xt(){try{return"object"===typeof indexedDB}catch(mN){return!1}}class St extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,St.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kt.prototype.create)}}class kt{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(Tt,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(r,t):"Error",s=`${this.serviceName}: ${i} (${n}).`;return new St(n,s,t)}}const Tt=/\{\$([^}]+)}/g;function Ct(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(Nt(n)&&Nt(s)){if(!Ct(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Nt(e){return null!==e&&"object"===typeof e}function It(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Rt(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function At(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Ot{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Pt),void 0===r.error&&(r.error=Pt),void 0===r.complete&&(r.complete=Pt);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(mN){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(mN){"undefined"!==typeof console&&console.error&&console.error(mN)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Pt(){}function jt(e){return e&&e._delegate?e._delegate:e}class Dt{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Lt="[DEFAULT]";class Mt{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new bt;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(mN){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(mN){if(r)return null;throw mN}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Lt})}catch(mN){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(mN){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===Lt?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt;return this.component?this.component.multipleInstances?e:Lt:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ft{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Mt(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Ut=[];var Vt;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Vt||(Vt={}));const zt={debug:Vt.DEBUG,verbose:Vt.VERBOSE,info:Vt.INFO,warn:Vt.WARN,error:Vt.ERROR,silent:Vt.SILENT},$t=Vt.INFO,Bt={[Vt.DEBUG]:"log",[Vt.VERBOSE]:"log",[Vt.INFO]:"info",[Vt.WARN]:"warn",[Vt.ERROR]:"error"},Ht=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Bt[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r](`[${n}]  ${e.name}:`,...s)};class qt{constructor(e){this.name=e,this._logLevel=$t,this._logHandler=Ht,this._userLogHandler=null,Ut.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Vt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?zt[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Vt.DEBUG,...t),this._logHandler(this,Vt.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Vt.VERBOSE,...t),this._logHandler(this,Vt.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Vt.INFO,...t),this._logHandler(this,Vt.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Vt.WARN,...t),this._logHandler(this,Vt.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Vt.ERROR,...t),this._logHandler(this,Vt.ERROR,...t)}}let Wt,Kt;const Gt=new WeakMap,Qt=new WeakMap,Yt=new WeakMap,Jt=new WeakMap,Xt=new WeakMap;let Zt={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Qt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Yt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return nn(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function en(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Kt||(Kt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(rn(this),n),nn(Gt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return nn(e.apply(rn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(rn(this),t,...r);return Yt.set(s,t.sort?t.sort():[t]),nn(s)}}function tn(e){return"function"===typeof e?en(e):(e instanceof IDBTransaction&&function(e){if(Qt.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));Qt.set(e,t)}(e),t=e,(Wt||(Wt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,Zt):e);var t}function nn(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(nn(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&Gt.set(t,e)})).catch((()=>{})),Xt.set(t,e),t}(e);if(Jt.has(e))return Jt.get(e);const t=tn(e);return t!==e&&(Jt.set(e,t),Xt.set(t,e)),t}const rn=e=>Xt.get(e);const sn=["get","getKey","getAll","getAllKeys","count"],an=["put","add","delete","clear"],on=new Map;function ln(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(on.get(t))return on.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=an.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!sn.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&t.done]))[0]};return on.set(t,s),s}Zt=(e=>({...e,get:(t,n,r)=>ln(t,n)||e.get(t,n,r),has:(t,n)=>!!ln(t,n)||e.has(t,n)}))(Zt);class cn{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const un="@firebase/app",dn="0.11.1",hn=new qt("@firebase/app"),fn="@firebase/app-compat",pn="@firebase/analytics-compat",mn="@firebase/analytics",gn="@firebase/app-check-compat",vn="@firebase/app-check",yn="@firebase/auth",bn="@firebase/auth-compat",wn="@firebase/database",En="@firebase/data-connect",_n="@firebase/database-compat",xn="@firebase/functions",Sn="@firebase/functions-compat",kn="@firebase/installations",Tn="@firebase/installations-compat",Cn="@firebase/messaging",Nn="@firebase/messaging-compat",In="@firebase/performance",Rn="@firebase/performance-compat",An="@firebase/remote-config",On="@firebase/remote-config-compat",Pn="@firebase/storage",jn="@firebase/storage-compat",Dn="@firebase/firestore",Ln="@firebase/vertexai",Mn="@firebase/firestore-compat",Fn="firebase",Un="[DEFAULT]",Vn={[un]:"fire-core",[fn]:"fire-core-compat",[mn]:"fire-analytics",[pn]:"fire-analytics-compat",[vn]:"fire-app-check",[gn]:"fire-app-check-compat",[yn]:"fire-auth",[bn]:"fire-auth-compat",[wn]:"fire-rtdb",[En]:"fire-data-connect",[_n]:"fire-rtdb-compat",[xn]:"fire-fn",[Sn]:"fire-fn-compat",[kn]:"fire-iid",[Tn]:"fire-iid-compat",[Cn]:"fire-fcm",[Nn]:"fire-fcm-compat",[In]:"fire-perf",[Rn]:"fire-perf-compat",[An]:"fire-rc",[On]:"fire-rc-compat",[Pn]:"fire-gcs",[jn]:"fire-gcs-compat",[Dn]:"fire-fst",[Mn]:"fire-fst-compat",[Ln]:"fire-vertex","fire-js":"fire-js",[Fn]:"fire-js-all"},zn=new Map,$n=new Map,Bn=new Map;function Hn(e,t){try{e.container.addComponent(t)}catch(mN){hn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,mN)}}function qn(e){const t=e.name;if(Bn.has(t))return hn.debug(`There were multiple attempts to register component ${t}.`),!1;Bn.set(t,e);for(const n of zn.values())Hn(n,e);for(const n of $n.values())Hn(n,e);return!0}function Wn(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Kn(e){return null!==e&&void 0!==e&&void 0!==e.settings}const Gn=new kt("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Qn{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Dt("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gn.create("app-deleted",{appName:this._name})}}const Yn="11.3.1";function Jn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Un,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Gn.create("bad-app-name",{appName:String(i)});if(n||(n=vt()),!n)throw Gn.create("no-options");const s=zn.get(i);if(s){if(Ct(n,s.options)&&Ct(r,s.config))return s;throw Gn.create("duplicate-app",{appName:i})}const a=new Ft(i);for(const l of Bn.values())a.addComponent(l);const o=new Qn(n,r,a);return zn.set(i,o),o}function Xn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Un;const t=zn.get(e);if(!t&&e===Un&&vt())return Jn();if(!t)throw Gn.create("no-app",{appName:e});return t}function Zn(e,t,n){var r;let i=null!==(r=Vn[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=[`Unable to register library "${i}" with version "${t}":`];return s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void hn.warn(e.join(" "))}qn(new Dt(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}const er="firebase-heartbeat-store";let tr=null;function nr(){return tr||(tr=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=nn(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(nn(a.result),e.oldVersion,e.newVersion,nn(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),o.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(er)}catch(mN){console.warn(mN)}}}).catch((e=>{throw Gn.create("idb-open",{originalErrorMessage:e.message})}))),tr}async function rr(e,t){try{const n=(await nr()).transaction(er,"readwrite"),r=n.objectStore(er);await r.put(t,ir(e)),await n.done}catch(mN){if(mN instanceof St)hn.warn(mN.message);else{const t=Gn.create("idb-set",{originalErrorMessage:null===mN||void 0===mN?void 0:mN.message});hn.warn(t.message)}}}function ir(e){return`${e.name}!${e.options.appId}`}class sr{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new or(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ar();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(mN){hn.warn(mN)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=ar(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),lr(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),lr(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=dt(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(mN){return hn.warn(mN),""}}}function ar(){return(new Date).toISOString().substring(0,10)}class or{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!xt()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await nr()).transaction(er),n=await t.objectStore(er).get(ir(e));return await t.done,n}catch(mN){if(mN instanceof St)hn.warn(mN.message);else{const t=Gn.create("idb-get",{originalErrorMessage:null===mN||void 0===mN?void 0:mN.message});hn.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return rr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return rr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function lr(e){return dt(JSON.stringify({version:2,heartbeats:e})).length}var cr;cr="",qn(new Dt("platform-logger",(e=>new cn(e)),"PRIVATE")),qn(new Dt("heartbeat",(e=>new sr(e)),"PRIVATE")),Zn(un,dn,cr),Zn(un,dn,"esm2017"),Zn("fire-js","");function ur(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function dr(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hr=dr,fr=new kt("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),pr=new qt("@firebase/auth");function mr(e){if(pr.logLevel<=Vt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];pr.error(`Auth (${Yn}): ${e}`,...n)}}function gr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw wr(e,...n)}function vr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return wr(e,...n)}function yr(e,t,n){const r=Object.assign(Object.assign({},hr()),{[t]:n});return new kt("auth","Firebase",r).create(t,{appName:e.name})}function br(e){return yr(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return fr.create(e,...n)}function Er(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw wr(t,...r)}}function _r(e){const t="INTERNAL ASSERTION FAILED: "+e;throw mr(t),new Error(t)}function xr(e,t){e||_r(t)}function Sr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function kr(){return"http:"===Tr()||"https:"===Tr()}function Tr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Cr(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(kr()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Nr{constructor(e,t){this.shortDelay=e,this.longDelay=t,xr(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Et())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Cr()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ir(e,t){xr(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class Rr{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void _r("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void _r("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void _r("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ar={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Or=new Nr(3e4,6e4);function Pr(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function jr(e,t,n,r){return Dr(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const a=It(Object.assign({key:e.config.apiKey},s)).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:o},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),Rr.fetch()(Mr(e,e.config.apiHost,n,a),l)}))}async function Dr(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Ar),t);try{const t=new Ur(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Vr(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Vr(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Vr(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw Vr(e,"user-disabled",s);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw yr(e,o,a);gr(e,o)}}catch(mN){if(mN instanceof St)throw mN;gr(e,"network-request-failed",{message:String(mN)})}}async function Lr(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await jr(e,t,n,r,i);return"mfaPendingCredential"in s&&gr(e,"multi-factor-auth-required",{_serverResponse:s}),s}function Mr(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?Ir(e.config,i):`${e.config.apiScheme}://${i}`}function Fr(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ur{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(vr(this.auth,"network-request-failed"))),Or.get())}))}}function Vr(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=vr(e,t,r);return i.customData._tokenResponse=n,i}function zr(e){return void 0!==e&&void 0!==e.enterprise}class $r{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Fr(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Br(e,t){return jr(e,"GET","/v2/recaptchaConfig",Pr(e,t))}async function Hr(e,t){return jr(e,"POST","/v1/accounts:lookup",t)}function qr(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(mN){}}function Wr(e){return 1e3*Number(e)}function Kr(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return mr("JWT malformed, contained fewer than 3 sections"),null;try{const e=ht(n);return e?JSON.parse(e):(mr("Failed to decode base64 JWT payload"),null)}catch(mN){return mr("Caught error parsing JWT payload as JSON",null===mN||void 0===mN?void 0:mN.toString()),null}}function Gr(e){const t=Kr(e);return Er(t,"internal-error"),Er("undefined"!==typeof t.exp,"internal-error"),Er("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Qr(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(mN){throw mN instanceof St&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(mN)&&e.auth.currentUser===e&&await e.auth.signOut(),mN}}class Yr{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(mN){return void("auth/network-request-failed"===(null===mN||void 0===mN?void 0:mN.code)&&this.schedule(!0))}this.schedule()}}class Jr{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=qr(this.lastLoginAt),this.creationTime=qr(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Xr(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Qr(e,Hr(n,{idToken:r}));Er(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?Zr(s.providerUserInfo):[],o=(l=e.providerData,c=a,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&s.passwordHash)&&!(null===o||void 0===o?void 0:o.length),h=!!u&&d,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Jr(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function Zr(e){return e.map((e=>{var{providerId:t}=e,n=ur(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class ei{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Er(e.idToken,"internal-error"),Er("undefined"!==typeof e.idToken,"internal-error"),Er("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Gr(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Er(0!==e.length,"internal-error");const t=Gr(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Er(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Dr(e,{},(async()=>{const n=It({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=Mr(e,r,"/v1/token",`key=${i}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Rr.fetch()(s,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new ei;return n&&(Er("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(Er("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(Er("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ei,this.toJSON())}_performRefresh(){return _r("not implemented")}}function ti(e,t){Er("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class ni{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=ur(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Yr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Jr(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Qr(this,this.stsTokenManager.getToken(this.auth,e));return Er(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=jt(e),r=await n.getIdToken(t),i=Kr(r);Er(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,a=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:qr(Wr(i.auth_time)),issuedAtTime:qr(Wr(i.iat)),expirationTime:qr(Wr(i.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=jt(e);await Xr(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Er(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ni(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Er(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Xr(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kn(this.auth.app))return Promise.reject(br(this.auth));const e=await this.getIdToken();return await Qr(this,async function(e,t){return jr(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,a,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:E,stsTokenManager:_}=t;Er(y&&_,e,"internal-error");const x=ei.fromJSON(this.name,_);Er("string"===typeof y,e,"internal-error"),ti(u,e.name),ti(d,e.name),Er("boolean"===typeof b,e,"internal-error"),Er("boolean"===typeof w,e,"internal-error"),ti(h,e.name),ti(f,e.name),ti(p,e.name),ti(m,e.name),ti(g,e.name),ti(v,e.name);const S=new ni({uid:y,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:x,createdAt:g,lastLoginAt:v});return E&&Array.isArray(E)&&(S.providerData=E.map((e=>Object.assign({},e)))),m&&(S._redirectEventId=m),S}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new ei;r.updateFromServerResponse(t);const i=new ni({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Xr(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Er(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Zr(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),a=new ei;a.updateFromIdToken(n);const o=new ni({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Jr(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(o,l),o}}const ri=new Map;function ii(e){xr(e instanceof Function,"Expected a class definition");let t=ri.get(e);return t?(xr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ri.set(e,t),t)}class si{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}si.type="NONE";const ai=si;function oi(e,t,n){return`firebase:${e}:${t}:${n}`}class li{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=oi(this.userKey,r.apiKey,i),this.fullPersistenceKey=oi("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ni._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new li(ii(ai),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||ii(ai);const s=oi(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(s);if(t){const n=ni._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const o=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&o.length?(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(l){}}))),new li(i,e,n)):new li(i,e,n)}}function ci(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(fi(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ui(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(mi(t))return"Blackberry";if(gi(t))return"Webos";if(di(t))return"Safari";if((t.includes("chrome/")||hi(t))&&!t.includes("edge/"))return"Chrome";if(pi(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function ui(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et();return/firefox\//i.test(e)}function di(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function hi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et();return/crios\//i.test(e)}function fi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et();return/iemobile/i.test(e)}function pi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et();return/android/i.test(e)}function mi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et();return/blackberry/i.test(e)}function gi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et();return/webos/i.test(e)}function vi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function yi(){return function(){const e=Et();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function bi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et();return vi(e)||pi(e)||gi(e)||mi(e)||/windows phone/i.test(e)||fi(e)}function wi(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=ci(Et());break;case"Worker":t=`${ci(Et())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${Yn}/${r}`}class Ei{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(mN){r(mN)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(mN){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===mN||void 0===mN?void 0:mN.message})}}}class _i{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(s=o.containsNumericCharacter)||void 0===s||s),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class xi{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ki(this),this.idTokenSubscription=new ki(this),this.beforeStateQueue=new Ei(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fr,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ii(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await li.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(mN){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Hr(this,{idToken:e}),n=await ni._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Kn(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==s||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(mN){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(mN)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Er(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(mN){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Xr(e)}catch(mN){if("auth/network-request-failed"!==(null===mN||void 0===mN?void 0:mN.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Kn(this.app))return Promise.reject(br(this));const t=e?jt(e):null;return t&&Er(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Er(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return Kn(this.app)?Promise.reject(br(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Kn(this.app)?Promise.reject(br(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(ii(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return jr(e,"GET","/v2/passwordPolicy",Pr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new _i(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new kt("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return jr(e,"POST","/v2/accounts:revokeToken",Pr(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ii(e)||this._popupRedirectResolver;Er(t,this,"argument-error"),this.redirectPersistenceManager=await li.create(this,[ii(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Er(a,this,"internal-error"),a.then((()=>{s||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Er(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(pr.logLevel<=Vt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];pr.warn(`Auth (${Yn}): ${e}`,...n)}}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function Si(e){return jt(e)}class ki{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Ot(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return Er(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ti={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ci(e){return Ti.loadJS(e)}function Ni(e){return`__${e}${Math.floor(1e6*Math.random())}`}class Ii{constructor(){this.enterprise=new Ri}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Ri{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Ai="NO_RECAPTCHA";class Oi{constructor(e){this.type="recaptcha-enterprise",this.auth=Si(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;zr(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n(Ai)}))})):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Ii).execute("siteKey",{action:"verify"})}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Br(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new $r(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&zr(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Ti.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Ci(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Pi(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=new Oi(e);let a;if(i)a=Ai;else try{a=await s.verify(n)}catch(l){a=await s.verify(n,!0)}const o=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in o){const e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const e=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function ji(e,t,n,r,i){var s,a;if("EMAIL_PASSWORD_PROVIDER"===i){if(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Pi(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if("auth/missing-recaptcha-token"===i.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await Pi(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}if("PHONE_PROVIDER"===i){if(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.isProviderEnabled("PHONE_PROVIDER")){const i=await Pi(e,t,n);return r(e,i).catch((async i=>{var s;if("AUDIT"===(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===i.code||"auth/invalid-app-credential"===i.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const i=await Pi(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)}))}{const i=await Pi(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function Di(e){const t=Si(e),n=await Br(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new $r(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new Oi(t).verify()}}function Li(e,t,n){const r=Si(e);Er(r._canInitEmulator,r,"emulator-config-failed"),Er(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Mi(t),{host:a,port:o}=function(e){const t=Mi(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Fi(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Fi(t)}}}(t),l=null===o?"":`:${o}`;r.config.emulator={url:`${s}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Mi(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Fi(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Ui{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return _r("not implemented")}_getIdTokenResponse(e){return _r("not implemented")}_linkToIdToken(e,t){return _r("not implemented")}_getReauthenticationResolver(e){return _r("not implemented")}}async function Vi(e,t){return jr(e,"POST","/v1/accounts:signUp",t)}async function zi(e,t){return Lr(e,"POST","/v1/accounts:signInWithPassword",Pr(e,t))}async function $i(e,t){return jr(e,"POST","/v1/accounts:sendOobCode",Pr(e,t))}async function Bi(e,t){return $i(e,t)}class Hi extends Ui{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Hi(e,t,"password")}static _fromEmailAndCode(e,t){return new Hi(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return ji(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",zi,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Lr(e,"POST","/v1/accounts:signInWithEmailLink",Pr(e,t))}(e,{email:this._email,oobCode:this._password});default:gr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return ji(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Vi,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Lr(e,"POST","/v1/accounts:signInWithEmailLink",Pr(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:gr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function qi(e,t){return Lr(e,"POST","/v1/accounts:signInWithIdp",Pr(e,t))}class Wi extends Ui{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Wi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):gr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=ur(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new Wi(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return qi(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,qi(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,qi(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=It(t)}return e}}async function Ki(e,t){return jr(e,"POST","/v1/accounts:sendVerificationCode",Pr(e,t))}const Gi={USER_NOT_FOUND:"user-not-found"};class Qi extends Ui{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Qi({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Qi({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Lr(e,"POST","/v1/accounts:signInWithPhoneNumber",Pr(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Lr(e,"POST","/v1/accounts:signInWithPhoneNumber",Pr(e,t));if(n.temporaryProof)throw Vr(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Lr(e,"POST","/v1/accounts:signInWithPhoneNumber",Pr(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Gi)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Qi({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Yi{constructor(e){var t,n,r,i,s,a;const o=Rt(At(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);Er(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=o.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=Rt(At(e)).link,n=t?Rt(At(t)).deep_link_id:null,r=Rt(At(e)).deep_link_id;return(r?Rt(At(r)).link:null)||r||n||t||e}(e);try{return new Yi(t)}catch(n){return null}}}class Ji{constructor(){this.providerId=Ji.PROVIDER_ID}static credential(e,t){return Hi._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Yi.parseLink(t);return Er(n,"argument-error"),Hi._fromEmailAndCode(e,n.code,n.tenantId)}}Ji.PROVIDER_ID="password",Ji.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ji.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Xi{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Zi extends Xi{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class es extends Zi{constructor(){super("facebook.com")}static credential(e){return Wi._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return es.credential(t.oauthAccessToken)}catch(n){return null}}}es.FACEBOOK_SIGN_IN_METHOD="facebook.com",es.PROVIDER_ID="facebook.com";class ts extends Zi{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Wi._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return ts.credential(n,r)}catch(i){return null}}}ts.GOOGLE_SIGN_IN_METHOD="google.com",ts.PROVIDER_ID="google.com";class ns extends Zi{constructor(){super("github.com")}static credential(e){return Wi._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ns.credential(t.oauthAccessToken)}catch(n){return null}}}ns.GITHUB_SIGN_IN_METHOD="github.com",ns.PROVIDER_ID="github.com";class rs extends Zi{constructor(){super("twitter.com")}static credential(e,t){return Wi._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return rs.credential(n,r)}catch(i){return null}}}async function is(e,t){return Lr(e,"POST","/v1/accounts:signUp",Pr(e,t))}rs.TWITTER_SIGN_IN_METHOD="twitter.com",rs.PROVIDER_ID="twitter.com";class ss{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await ni._fromIdTokenResponse(e,n,r),s=as(n);return new ss({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=as(n);return new ss({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function as(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class os extends St{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,os.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new os(e,t,n,r)}}function ls(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw os._fromErrorAndOperation(e,n,t,r);throw n}))}async function cs(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Qr(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ss._forOperation(e,"link",r)}async function us(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Kn(r.app))return Promise.reject(br(r));const i="reauthenticate";try{const s=await Qr(e,ls(r,i,t,e),n);Er(s.idToken,r,"internal-error");const a=Kr(s.idToken);Er(a,r,"internal-error");const{sub:o}=a;return Er(e.uid===o,r,"user-mismatch"),ss._forOperation(e,i,s)}catch(mN){throw"auth/user-not-found"===(null===mN||void 0===mN?void 0:mN.code)&&gr(r,"user-mismatch"),mN}}async function ds(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Kn(e.app))return Promise.reject(br(e));const r="signIn",i=await ls(e,r,t),s=await ss._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function hs(e,t){return ds(Si(e),t)}function fs(e,t,n){var r;Er((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Er("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),Er("undefined"===typeof n.linkDomain||n.linkDomain.length>0,e,"invalid-hosting-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.linkDomain=n.linkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Er(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Er(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function ps(e){const t=Si(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function ms(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=jt(e),s={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},a=await Qr(i,async function(e,t){return jr(e,"POST","/v1/accounts:update",t)}(i.auth,s));i.displayName=a.displayName||null,i.photoURL=a.photoUrl||null;const o=i.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));o&&(o.displayName=i.displayName,o.photoURL=i.photoURL),await i._updateTokensIfNecessary(a)}function gs(e,t,n,r){return jt(e).onAuthStateChanged(t,n,r)}function vs(e,t){return jr(e,"POST","/v2/accounts/mfaEnrollment:start",Pr(e,t))}new WeakMap;const ys="__sak";class bs{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ys,"1"),this.storage.removeItem(ys),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class ws extends bs{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bi(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);yi()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ws.type="LOCAL";const Es=ws;class _s extends bs{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}_s.type="SESSION";const xs=_s;class Ss{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Ss(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(s).map((async e=>e(t.origin,i))),o=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function ks(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Ss.receivers=[];class Ts{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((a,o)=>{const l=ks("",20);r.port1.start();const c=setTimeout((()=>{o(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{o(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function Cs(){return window}function Ns(){return"undefined"!==typeof Cs().WorkerGlobalScope&&"function"===typeof Cs().importScripts}const Is="firebaseLocalStorageDb",Rs="firebaseLocalStorage",As="fbase_key";class Os{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Ps(e,t){return e.transaction([Rs],t?"readwrite":"readonly").objectStore(Rs)}function js(){const e=indexedDB.open(Is,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Rs,{keyPath:As})}catch(mN){n(mN)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Rs)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Is);return new Os(e).toPromise()}(),t(await js()))}))}))}async function Ds(e,t,n){const r=Ps(e,!0).put({[As]:t,value:n});return new Os(r).toPromise()}function Ls(e,t){const n=Ps(e,!0).delete(t);return new Os(n).toPromise()}class Ms{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await js()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(mN){if(t++>3)throw mN;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ns()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ss._getInstance(Ns()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Ts(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await js();return await Ds(e,ys,"1"),await Ls(e,ys),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Ds(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Ps(e,!1).get(t),r=await new Os(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Ls(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Ps(e,!1).getAll();return new Os(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Ms.type="LOCAL";const Fs=Ms;function Us(e,t){return jr(e,"POST","/v2/accounts/mfaSignIn:start",Pr(e,t))}Ni("rcb"),new Nr(3e4,6e4);const Vs="recaptcha";async function zs(e,t,n){var r;if(!e._getRecaptchaConfig())try{await Di(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){Er("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},s=ji(e,r,"mfaSmsEnrollment",(async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===Ai){Er((null===n||void 0===n?void 0:n.type)===Vs,e,"argument-error");return vs(e,await $s(e,t,n))}return vs(e,t)}),"PHONE_PROVIDER");return(await s.catch((e=>Promise.reject(e)))).phoneSessionInfo.sessionInfo}{Er("signin"===t.type,e,"internal-error");const s=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;Er(s,e,"missing-multi-factor-info");const a={mfaPendingCredential:t.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},o=ji(e,a,"mfaSmsSignIn",(async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===Ai){Er((null===n||void 0===n?void 0:n.type)===Vs,e,"argument-error");return Us(e,await $s(e,t,n))}return Us(e,t)}),"PHONE_PROVIDER");return(await o.catch((e=>Promise.reject(e)))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=ji(e,t,"sendVerificationCode",(async(e,t)=>{if(t.captchaResponse===Ai){Er((null===n||void 0===n?void 0:n.type)===Vs,e,"argument-error");return Ki(e,await $s(e,t,n))}return Ki(e,t)}),"PHONE_PROVIDER");return(await r.catch((e=>Promise.reject(e)))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function $s(e,t,n){Er(n.type===Vs,e,"argument-error");const r=await n.verify();Er("string"===typeof r,e,"argument-error");const i=Object.assign({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,s=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:s}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class Bs{constructor(e){this.providerId=Bs.PROVIDER_ID,this.auth=Si(e)}verifyPhoneNumber(e,t){return zs(this.auth,e,jt(t))}static credential(e,t){return Qi._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Bs.credentialFromTaggedObject(t)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Qi._fromTokenResponse(n,r):null}}function Hs(e,t){return t?ii(t):(Er(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Bs.PROVIDER_ID="phone",Bs.PHONE_SIGN_IN_METHOD="phone";class qs extends Ui{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qi(e,this._buildIdpRequest())}_linkToIdToken(e,t){return qi(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return qi(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Ws(e){return ds(e.auth,new qs(e),e.bypassAuthState)}function Ks(e){const{auth:t,user:n}=e;return Er(n,t,"internal-error"),us(n,new qs(e),e.bypassAuthState)}async function Gs(e){const{auth:t,user:n}=e;return Er(n,t,"internal-error"),cs(n,new qs(e),e.bypassAuthState)}class Qs{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(mN){this.reject(mN)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(mN){this.reject(mN)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ws;case"linkViaPopup":case"linkViaRedirect":return Gs;case"reauthViaPopup":case"reauthViaRedirect":return Ks;default:gr(this.auth,"internal-error")}}resolve(e){xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ys=new Nr(2e3,1e4);class Js extends Qs{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Js.currentPopupAction&&Js.currentPopupAction.cancel(),Js.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Er(e,this.auth,"internal-error"),e}async onExecution(){xr(1===this.filter.length,"Popup operations only handle one event");const e=ks();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(vr(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(vr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Js.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(vr(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Ys.get())};e()}}Js.currentPopupAction=null;const Xs=new Map;class Zs extends Qs{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Xs.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=na(t),r=ta(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(mN){e=()=>Promise.reject(mN)}Xs.set(this.auth._key(),e)}return this.bypassAuthState||Xs.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function ea(e,t){Xs.set(e._key(),t)}function ta(e){return ii(e._redirectPersistence)}function na(e){return oi("pendingRedirect",e.config.apiKey,e.name)}async function ra(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Kn(e.app))return Promise.reject(br(e));const r=Si(e),i=Hs(r,t),s=new Zs(r,i,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class ia{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aa(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!aa(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(vr(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(sa(e))}saveEventToCache(e){this.cachedEventUids.add(sa(e)),this.lastProcessedEventTime=Date.now()}}function sa(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function aa(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===(null===n||void 0===n?void 0:n.code)}const oa=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,la=/^https?/;async function ca(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return jr(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(ua(r))return}catch(n){}gr(e,"unauthorized-domain")}function ua(e){const t=Sr(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!la.test(n))return!1;if(oa.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const da=new Nr(3e4,6e4);function ha(){const e=Cs().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function fa(e){return new Promise(((t,n)=>{var r,i,s;function a(){ha(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ha(),n(vr(e,"network-request-failed"))},timeout:da.get()})}if(null===(i=null===(r=Cs().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=Cs().gapi)||void 0===s?void 0:s.load)){const t=Ni("iframefcb");return Cs()[t]=()=>{gapi.load?a():n(vr(e,"network-request-failed"))},Ci(`${Ti.gapiScript}?onload=${t}`).catch((e=>n(e)))}a()}})).catch((e=>{throw pa=null,e}))}let pa=null;const ma=new Nr(5e3,15e3),ga={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},va=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ya(e){const t=e.config;Er(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Ir(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:Yn},i=va.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${It(r).slice(1)}`}async function ba(e){const t=await function(e){return pa=pa||fa(e),pa}(e),n=Cs().gapi;return Er(n,e,"internal-error"),t.open({where:document.body,url:ya(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ga,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=vr(e,"network-request-failed"),s=Cs().setTimeout((()=>{r(i)}),ma.get());function a(){Cs().clearTimeout(s),n(t)}t.ping(a).then(a,(()=>{r(i)}))}))))}const wa={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ea{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(mN){}}}function _a(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},wa),{width:r.toString(),height:i.toString(),top:s,left:a}),c=Et().toLowerCase();n&&(o=hi(c)?"_blank":n),ui(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`}),"");if(function(){var e;return vi(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new Ea(null);const d=window.open(t||"",o,u);Er(d,e,"popup-blocked");try{d.focus()}catch(mN){}return new Ea(d)}const xa="__/auth/handler",Sa="emulator/auth/handler",ka=encodeURIComponent("fac");async function Ta(e,t,n,r,i,s){Er(e.config.authDomain,e,"auth-domain-config-required"),Er(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Yn,eventId:i};if(t instanceof Xi){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))a[e]=t}if(t instanceof Zi){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?`#${ka}=${encodeURIComponent(l)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${xa}`;return Ir(t,Sa)}(e)}?${It(o).slice(1)}${c}`}const Ca="webStorageSupport";const Na=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xs,this._completeRedirectFn=ra,this._overrideRedirectResult=ea}async _openPopup(e,t,n,r){var i;xr(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return _a(e,await Ta(e,t,n,Sr(),r),ks())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Cs().location.href=e}(await Ta(e,t,n,Sr(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(xr(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await ba(e),n=new ia(e);return t.register("authEvent",(t=>{Er(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ca,{type:Ca},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Ca];void 0!==i&&t(!!i),gr(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=ca(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return bi()||di()||vi()}};var Ia="@firebase/auth",Ra="1.9.0";class Aa{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Er(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Oa=yt("authIdTokenMaxAge")||300;let Pa=null;function ja(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xn();const t=Wn(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Wn(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Ct(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;gr(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Na,persistence:[Fs,Es,xs]}),r=yt("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Oa)return;const r=null===t||void 0===t?void 0:t.token;Pa!==r&&(Pa=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){jt(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){jt(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}var i;const s=mt("auth");return s&&Li(n,`http://${s}`),n}var Da;Ti={loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=vr("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Da="Browser",qn(new Dt("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;Er(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:Da,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wi(Da)},c=new xi(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ii);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),qn(new Dt("auth-internal",(e=>(e=>new Aa(e))(Si(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Zn(Ia,Ra,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Da)),Zn(Ia,Ra,"esm2017");Zn("firebase","11.3.1","app");const La="firebasestorage.googleapis.com",Ma="storageBucket";class Fa extends St{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(za(e),`Firebase Storage: ${t} (${za(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Fa.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return za(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ua,Va;function za(e){return"storage/"+e}function $a(){return new Fa(Ua.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Ba(){return new Fa(Ua.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Ha(){return new Fa(Ua.CANCELED,"User canceled the upload/download.")}function qa(e){return new Fa(Ua.INVALID_ARGUMENT,e)}function Wa(){return new Fa(Ua.APP_DELETED,"The Firebase app was deleted.")}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Ua||(Ua={}));class Ka{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=Ka.makeFromUrl(e,t)}catch(mN){return new Ka(e,"")}if(""===n.path)return n;throw r=e,new Fa(Ua.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}const a=t.replace(/[.]/g,"\\."),o=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${a}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp(`^https?://${t===La?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:s}];for(let l=0;l<o.length;l++){const t=o[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new Ka(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new Fa(Ua.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class Ga{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function Qa(e,t,n,r){if(r<t)throw qa(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw qa(`Invalid value for '${e}'. Expected ${n} or less.`)}function Ya(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function Ja(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Va||(Va={}));class Xa{constructor(e,t,n,r,i,s,a,o,l,c,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=o,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new Za(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===Va.NO_ERROR,i=n.getStatus();if(!t||Ja(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===Va.ABORT;return void e(!1,new Za(!1,null,t))}const s=-1!==this.successCodes_.indexOf(i);e(!0,new Za(s,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(mN){r(mN)}else if(null!==i){const e=$a();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?Wa():Ha())}else{r(Ba())}};this.canceled_?t(0,new Za(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,s=null,a=!1,o=0;function l(){return 2===o}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){i=setTimeout((()=>{i=null,e(f,l())}),t)}function h(){s&&clearTimeout(s)}function f(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void u.call(null,e,...n);if(l()||a)return h(),void u.call(null,e,...n);let s;r<64&&(r*=2),1===o?(o=2,s=0):s=1e3*(r+Math.random()),d(s)}let p=!1;function m(e){p||(p=!0,h(),c||(null!==i?(e||(o=2),clearTimeout(i),d(0)):e||(o=1)))}return d(0),s=setTimeout((()=>{a=!0,m(!0)}),n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Za{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function eo(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}class to{constructor(e,t){this._service=e,this._location=t instanceof Ka?t:Ka.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new to(e,t)}get root(){const e=new Ka(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return eo(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new Ka(this._location.bucket,e);return new to(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new Fa(Ua.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function no(e,t){const n=null===t||void 0===t?void 0:t[Ma];return null==n?null:Ka.makeFromBucketSpec(n,e)}class ro{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=La,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Ka.makeFromBucketSpec(r,this._host):no(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=Ka.makeFromBucketSpec(this._url,e):this._bucket=no(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Qa("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Qa("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new to(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new Ga(Wa());{const s=function(e,t,n,r,i,s){let a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const o=Ya(e.urlParams),l=e.url+o,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,s),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new Xa(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,a)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(s),s.getPromise().then((()=>this._requests.delete(s)),(()=>this._requests.delete(s))),s}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const io="@firebase/storage",so="0.13.6",ao="storage";function oo(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new ro(r,i,s,n,Yn)}qn(new Dt(ao,oo,"PUBLIC").setMultipleInstances(!0)),Zn(io,so,""),Zn(io,so,"esm2017");var lo,co,uo="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},ho={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],a=t+(s^n&(i^s))+r[0]+3614090360&4294967295;a=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(a<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(t=n+((a=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=s+((a=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,s=this.h,a=0;a<t;){if(0==s)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(i[s++]=e.charCodeAt(a++),s==this.blockSize){n(this,i),s=0;break}}else for(;a<t;)if(i[s++]=e[a++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function s(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return o;if(0>e)return h(a(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var o=s(0),l=s(1),c=s(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(o,o);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=v(n),r=v(r);var i=y(n,1),s=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var c=s.add(r);0>=c.l(e)&&(i=i.add(n),s=c),r=y(r,1),n=y(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=o;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(s=a(n)).j(t);d(c)||0<c.l(e);)c=(s=a(n-=r)).j(t);u(s)&&(s=l),i=i.add(s),e=f(e,c)}return new m(i,e)}function v(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function y(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,s=[],a=0;a<i;a++)s[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,s=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,s=0;s<=t;s++){var a=i+(65535&this.i(s))+(65535&e.i(s)),o=(a>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);i=o>>>16,a&=65535,o&=65535,n[s]=o<<16|a}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return o;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<e.g.length;s++){var l=this.i(i)>>>16,f=65535&this.i(i),m=e.i(s)>>>16,g=65535&e.i(s);n[2*i+2*s]+=f*g,p(n,2*i+2*s),n[2*i+2*s+1]+=l*g,p(n,2*i+2*s+1),n[2*i+2*s+1]+=f*m,p(n,2*i+2*s+1),n[2*i+2*s+2]+=l*m,p(n,2*i+2*s+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,co=ho.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),i=o,s=0;s<t.length;s+=8){var l=Math.min(8,t.length-s),c=parseInt(t.substring(s,s+l),n);8>l?(l=a(Math.pow(n,l)),i=i.j(l).add(a(c))):i=(i=i.j(r)).add(a(c))}return i},lo=ho.Integer=r}).apply("undefined"!==typeof uo?uo:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var fo,po,mo,go,vo,yo,bo,wo,Eo="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},_o={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Eo&&Eo];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var a=e[s];if(!(a in i))break e;i=i[a]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(s(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var v=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function y(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function _(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function x(e){i.setTimeout((()=>{throw e}),0)}function S(){var e=I;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var k=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new T),(e=>e.reset()));class T{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let C,N=!1,I=new class{constructor(){this.h=this.g=null}add(e,t){const n=k.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},R=()=>{const e=i.Promise.resolve(void 0);C=()=>{e.then(A)}};var A=()=>{for(var e;e=S();){try{e.h.call(e.g)}catch(n){x(n)}var t=k;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}N=!1};function O(){this.s=this.s,this.C=this.C}function P(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}O.prototype.s=!1,O.prototype.ma=function(){this.s||(this.s=!0,this.N())},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},P.prototype.h=function(){this.defaultPrevented=!0};var j=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function D(e,t){if(P.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(v){e:{try{g(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:L[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&D.aa.h.call(this)}}d(D,P);var L={2:"touch",3:"pen",4:"mouse"};D.prototype.h=function(){D.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var M="closure_listenable_"+(1e6*Math.random()|0),F=0;function U(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++F,this.da=this.fa=!1}function V(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function z(e){this.src=e,this.g={},this.h=0}function $(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(V(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function B(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}z.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=B(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new U(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var H="closure_lm_"+(1e6*Math.random()|0),q={};function W(e,t,n,r,i){if(r&&r.once)return G(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)W(e,t[s],n,r,i);return null}return n=te(n),e&&e[M]?e.K(t,n,a(r)?!!r.capture:!!r,i):K(e,t,n,!1,r,i)}function K(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=a(i)?!!i.capture:!!i,l=Z(e);if(l||(e[H]=l=new z(e)),(n=l.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=X;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)j||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(J(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function G(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)G(e,t[s],n,r,i);return null}return n=te(n),e&&e[M]?e.L(t,n,a(r)?!!r.capture:!!r,i):K(e,t,n,!0,r,i)}function Q(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Q(e,t[s],n,r,i);else r=a(r)?!!r.capture:!!r,n=te(n),e&&e[M]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=B(s=e.g[t],n,r,i))&&(V(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=B(t,n,r,i)),(n=-1<e?t[e]:null)&&Y(n))}function Y(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[M])$(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(J(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?($(n,e),0==n.h&&(n.src=null,t[H]=null)):V(e)}}}function J(e){return e in q?q[e]:q[e]="on"+e}function X(e,t){if(e.da)e=!0;else{t=new D(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&Y(e),e=n.call(r,t)}return e}function Z(e){return(e=e[H])instanceof z?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){O.call(this),this.i=new z(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new P(t,e);else if(t instanceof P)t.target=t.target||e;else{var i=t;E(t=new P(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=ie(a,r,!0,t)&&i}if(i=ie(a=t.g=e,r,!0,t)&&i,i=ie(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=ie(a=t.g=n[s],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.da&&a.capture==n){var o=a.listener,l=a.ha||a.src;a.fa&&$(e.i,a),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}function se(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function ae(e){e.g=se((()=>{e.g=null,e.i&&(e.i=!1,ae(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,O),ne.prototype[M]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Q(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)V(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class oe extends O{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ae(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){O.call(this),this.h=e,this.g={}}d(le,O);var ce=[];function ue(e){y(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Y(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=i.JSON.stringify,he=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ve={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ye(){P.call(this,"d")}function be(){P.call(this,"c")}d(ye,P),d(be,P);var we={},Ee=null;function _e(){return Ee=Ee||new ne}function xe(e){P.call(this,we.La,e)}function Se(e){const t=_e();re(t,new xe(t))}function ke(e,t){P.call(this,we.STAT_EVENT,e),this.stat=t}function Te(e){const t=_e();re(t,new ke(t,e))}function Ce(e,t){P.call(this,we.Ma,e),this.size=t}function Ne(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function Ie(){this.g=!0}function Re(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return de(n)}catch(o){return t}}(e,n)+(r?" "+r:"")}))}we.La="serverreachability",d(xe,P),we.STAT_EVENT="statevent",d(ke,P),we.Ma="timingevent",d(Ce,P),Ie.prototype.xa=function(){this.g=!1},Ie.prototype.info=function(){};var Ae,Oe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function je(){}function De(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Le}function Le(){this.i=null,this.g="",this.h=!1}d(je,pe),je.prototype.g=function(){return new XMLHttpRequest},je.prototype.i=function(){return{}},Ae=new je;var Me={},Fe={};function Ue(e,t,n){e.L=1,e.v=dt(at(t)),e.m=n,e.P=!0,Ve(e,null)}function Ve(e,t){e.F=Date.now(),Be(e),e.A=at(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),kt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Le,e.g=fn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new oe(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var s=0;s<i.length;s++){var a=W(n,i[s],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Se(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function ze(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function $e(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fe:(n=Number(t.substring(n,r)),isNaN(n)?Me:(r+=1)+n>t.length?Fe:(t=t.slice(r,r+n),e.C=r+n,t))}function Be(e){e.S=Date.now()+e.I,He(e,e.I)}function He(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ne(c(e.ba,e),t)}function qe(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function We(e){0==e.j.G||e.J||ln(e.j,e)}function Ke(e){qe(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ge(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;on(n),Yt(n)}rn(n),Te(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ne(c(n.Za,n),6e3));if(1>=Xe(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else un(n,11)}else if((e.K||n.g==e)&&on(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(et(s,s.h),s.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=hn(r,r.J?r.ia:null,r.W),a.K){tt(r.h,a);var o=a,l=r.L;l&&(o.I=l),o.B&&(qe(o),Be(o)),r.g=a}else nn(r);0<n.i.length&&Xt(n)}else"stop"!=c[0]&&"close"!=c[0]||un(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?un(n,7):Qt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Se()}catch(u){}}De.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==qt(e)?t.j():this.Y(e)},De.prototype.Y=function(e){try{if(e==this.g)e:{const h=qt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Wt(this.g)))){this.J||4!=h||7==t||Se(),qe(this);var n=this.g.Z();this.X=n;t:if(ze(this)){var r=Wt(this.g);e="";var s=r.length,a=4==qt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ke(this),We(this);var o="";break t}this.h.i=new i.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==s-1)});r.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,s,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a}))}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Te(12),Ke(this),We(this);break e}Re(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ge(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;){if(e=$e(this,o),e==Fe){4==h&&(this.s=4,Te(14),n=!1),Re(this.i,this.l,null,"[Incomplete Response]");break}if(e==Me){this.s=4,Te(15),Re(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}Re(this.i,this.l,e,null),Ge(this,e)}if(ze(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=o.length||this.h.h||(this.s=1,Te(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),sn(d),d.M=!0,Te(11))}}else Re(this.i,this.l,o,"[Invalid Chunked Response]"),Ke(this),We(this)}else Re(this.i,this.l,o,null),Ge(this,o);4==h&&Ke(this),this.o&&!this.J&&(4==h?ln(this.j,this):(this.o=!1,Be(this)))}else(function(e){const t={};e=(e.g&&2<=qt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=_(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,Te(12)):(this.s=0,Te(13)),Ke(this),We(this)}}}catch(h){}},De.prototype.cancel=function(){this.J=!0,Ke(this)},De.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(Se(),Te(17)),Ke(this),this.s=2,We(this)):He(this,this.S-e)};var Qe=class{constructor(e,t){this.g=e,this.map=t}};function Ye(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Je(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Xe(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(s(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(s(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(s(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}Ye.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function st(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof st){this.h=e.h,ot(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new Et;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,ot(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new Et(null,this.h))}function at(e){return new st(e)}function ot(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof Et?(e.i=t,function(e,t){t&&!e.j&&(_t(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(xt(this,t),kt(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,bt)),e.i=new Et(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}st.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,gt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?yt:vt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,wt)),e.join("")};var mt,gt=/[#\/\?@]/g,vt=/[#\?:]/g,yt=/[#\?]/g,bt=/[#\?@]/g,wt=/#/g;function Et(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function _t(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function xt(e,t){_t(e),t=Tt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function St(e,t){return _t(e),t=Tt(e,t),e.g.has(t)}function kt(e,t,n){xt(e,t),0<n.length&&(e.i=null,e.g.set(Tt(e,t),h(n)),e.h+=n.length)}function Tt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Ct(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(s){}}function Nt(){this.g=new fe}function It(e,t,n){const r=n||"";try{rt(e,(function(e,n){let i=e;a(e)&&(i=de(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(mN){throw t.push(r+"type="+encodeURIComponent("_badmap")),mN}}function Rt(e){this.l=e.Ub||null,this.j=e.eb||!1}function At(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Ot(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Pt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,jt(e)}function jt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Dt(e){let t="";return y(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Lt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Dt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Mt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=Et.prototype).add=function(e,t){_t(this),this.i=null,e=Tt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){_t(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){_t(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){_t(this);let t=[];if("string"===typeof e)St(this,e)&&(t=t.concat(this.g.get(Tt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return _t(this),this.i=null,St(this,e=Tt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")},d(Rt,pe),Rt.prototype.g=function(){return new At(this.l,this.j)},Rt.prototype.i=(mt={},function(){return mt}),d(At,ne),(e=At.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,jt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Pt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,jt(this)),this.g&&(this.readyState=3,jt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ot(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Pt(this):jt(this),3==this.readyState&&Ot(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Pt(this))},e.Qa=function(e){this.g&&(this.response=e,Pt(this))},e.ga=function(){this.g&&Pt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(At.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Mt,ne);var Ft=/^https?$/i,Ut=["POST","PUT"];function Vt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,zt(e),Bt(e)}function zt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function $t(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=qt(e)||2!=e.Z()))if(e.u&&4==qt(e))se(e.Ea,0,e);else if(re(e,"readystatechange"),4==qt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=0===r){var a=String(e.D).match(it)[1]||null;!a&&i.self&&i.self.location&&(a=i.self.location.protocol.slice(0,-1)),s=!Ft.test(a?a.toLowerCase():"")}n=s}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var o=2<qt(e)?e.g.statusText:""}catch(l){o=""}e.l=o+" ["+e.Z()+"]",zt(e)}}finally{Bt(e)}}}function Bt(e,t){if(e.g){Ht(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(mN){}}}function Ht(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function qt(e){return e.g?e.g.readyState:0}function Wt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(So){return null}}function Kt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Gt(e){this.Aa=0,this.i=[],this.j=new Ie,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Kt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Kt("baseRetryDelayMs",5e3,e),this.cb=Kt("retryDelaySeedMs",1e4,e),this.Wa=Kt("forwardChannelMaxRetries",2,e),this.wa=Kt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Ye(e&&e.concurrentRequestLimit),this.Da=new Nt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Qt(e){if(Jt(e),3==e.G){var t=e.U++,n=at(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),en(e,n),(t=new De(e,e.j,t)).L=2,t.v=dt(at(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=fn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),Be(t)}dn(e)}function Yt(e){e.g&&(sn(e),e.g.cancel(),e.g=null)}function Jt(e){Yt(e),e.u&&(i.clearTimeout(e.u),e.u=null),on(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Xt(e){if(!Je(e.h)&&!e.s){e.s=!0;var t=e.Ga;C||R(),N||(C(),N=!0),I.add(t,e),e.B=0}}function Zt(e,t){var n;n=t?t.l:e.U++;const r=at(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),en(e,r),e.m&&e.o&&Lt(r,e.m,e.o),n=new De(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Ue(n,r,t)}function en(e,t){e.H&&y(e.H,(function(e,n){ut(t,n,e)})),e.l&&rt({},(function(e,n){ut(t,n,e)}))}function tn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let o=0;o<n;o++){let n=i[o].g;const l=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),a=!1;else try{It(l,e,"req"+n+"_")}catch(s){r&&r(l)}}if(a){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;C||R(),N||(C(),N=!0),I.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ne(c(e.Fa,e),cn(e,e.v)),e.v++,!0)}function sn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function an(e){e.g=new De(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=at(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&Lt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(at(t)),n.m=null,n.P=!0,Ve(n,e)}function on(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){on(e),sn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=_e(),new Ce(r,n)),Xt(e)}else nn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Xe(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ne(c(e.Ga,e,t),cn(e,e.B)),e.B++,!0))}(e,t)||2==r&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:un(e,5);break;case 4:un(e,10);break;case 3:un(e,6);break;default:un(e,2)}}function cn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function un(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new st(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||ot(r,"https"),dt(r),t?function(e,t){const n=new Ie;if(i.Image){const r=new Image;r.onload=u(Ct,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Ct,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Ct,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Ct,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ie;const n=new AbortController,r=setTimeout((()=>{n.abort(),Ct(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?Ct(0,0,!0,t):Ct(0,0,!1,t)})).catch((()=>{clearTimeout(r),Ct(0,0,!1,t)}))}(r.toString(),n)}else Te(2);e.G=0,e.l&&e.l.sa(t),dn(e),Jt(e)}function dn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function hn(e,t,n){var r=n instanceof st?at(n):new st(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var s=i.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var a=new st(null);r&&ot(a,r),t&&(a.g=t),s&&lt(a,s),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),en(e,r),r}function fn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Mt(new Rt({eb:n})):new Mt(e.pa)).Ha(e.J),t}function pn(){}function mn(){}function gn(e,t){ne.call(this),this.g=new Gt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new bn(this)}function vn(e){ye.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function yn(){be.call(this),this.status=1}function bn(e){this.g=e}(e=Mt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ae.g(),this.v=this.o?me(this.o):me(Ae),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void Vt(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),s=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Ut,t,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ht(this),this.u=!0,this.g.send(e),this.u=!1}catch(a){Vt(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),Bt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bt(this,!0)),Mt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?$t(this):this.bb())},e.bb=function(){$t(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<qt(this)?this.g.status:-1}catch(mt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(mt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Gt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Te(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=hn(this,null,this.W),Xt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new De(this,this.j,e);let s=this.o;if(this.S&&(s?(s=b(s),E(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,i,t),ut(n=at(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),en(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Dt(s)))+"&"+t:this.m&&Lt(n,this.m,s)),et(this.h,i),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),i.T=!0,Ue(i,n,null)):Ue(i,n,t),this.G=2}}else 3==this.G&&(e?Zt(this,e):0==this.i.length||Je(this.h)||Zt(this))},e.Fa=function(){if(this.u=null,an(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ne(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Te(10),Yt(this),an(this))},e.Za=function(){null!=this.C&&(this.C=null,Yt(this),rn(this),Te(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Te(2)):(this.j.info("Failed to ping google.com"),Te(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=pn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},mn.prototype.g=function(e,t){return new gn(e,t)},d(gn,ne),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Qt(this.g)},gn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Qe(t.Ya++,e)),3==t.G&&Xt(t)},gn.prototype.N=function(){this.g.l=null,delete this.j,Qt(this.g),delete this.g,gn.aa.N.call(this)},d(vn,ye),d(yn,be),d(bn,pn),bn.prototype.ua=function(){re(this.g,"a")},bn.prototype.ta=function(e){re(this.g,new vn(e))},bn.prototype.sa=function(e){re(this.g,new yn)},bn.prototype.ra=function(){re(this.g,"b")},mn.prototype.createWebChannel=mn.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,wo=_o.createWebChannelTransport=function(){return new mn},bo=_o.getStatEventTarget=function(){return _e()},yo=_o.Event=we,vo=_o.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Oe.NO_ERROR=0,Oe.TIMEOUT=8,Oe.HTTP_ERROR=6,go=_o.ErrorCode=Oe,Pe.COMPLETE="complete",mo=_o.EventType=Pe,ge.EventType=ve,ve.OPEN="a",ve.CLOSE="b",ve.ERROR="c",ve.MESSAGE="d",ne.prototype.listen=ne.prototype.K,po=_o.WebChannel=ge,_o.FetchXmlHttpFactory=Rt,Mt.prototype.listenOnce=Mt.prototype.L,Mt.prototype.getLastError=Mt.prototype.Ka,Mt.prototype.getLastErrorCode=Mt.prototype.Ba,Mt.prototype.getStatus=Mt.prototype.Z,Mt.prototype.getResponseJson=Mt.prototype.Oa,Mt.prototype.getResponseText=Mt.prototype.oa,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Ha,fo=_o.XhrIo=Mt}).apply("undefined"!==typeof Eo?Eo:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const xo="@firebase/firestore",So="4.7.8";class ko{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ko.UNAUTHENTICATED=new ko(null),ko.GOOGLE_CREDENTIALS=new ko("google-credentials-uid"),ko.FIRST_PARTY=new ko("first-party-uid"),ko.MOCK_USER=new ko("mock-user");let To="11.3.1";const Co=new qt("@firebase/firestore");function No(){return Co.logLevel}function Io(e){if(Co.logLevel<=Vt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Oo);Co.debug(`Firestore (${To}): ${e}`,...i)}}function Ro(e){if(Co.logLevel<=Vt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Oo);Co.error(`Firestore (${To}): ${e}`,...i)}}function Ao(e){if(Co.logLevel<=Vt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Oo);Co.warn(`Firestore (${To}): ${e}`,...i)}}function Oo(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Po(){const e=`FIRESTORE (${To}) INTERNAL ASSERTION FAILED: `+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state");throw Ro(e),new Error(e)}function jo(e,t){e||Po()}function Do(e,t){return e}const Lo={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Mo extends St{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Fo{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Uo{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Vo{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(ko.UNAUTHENTICATED)))}shutdown(){}}class zo{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class $o{constructor(e){this.t=e,this.currentUser=ko.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){jo(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Fo;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Fo,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},a=e=>{Io("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(Io("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Fo)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Io("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(jo("string"==typeof t.accessToken),new Uo(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return jo(null===e||"string"==typeof e),new ko(e)}}class Bo{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=ko.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Ho{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new Bo(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(ko.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class qo{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Wo{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Kn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){jo(void 0===this.o);const n=e=>{null!=e.error&&Io("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.R;return this.R=e.token,Io("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Io("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Io("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.V)return Promise.resolve(new qo(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(jo("string"==typeof e.token),this.R=e.token,new qo(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Ko(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Go{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=Ko(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function Qo(e,t){return e<t?-1:e>t?1:0}function Yo(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}const Jo=-62135596800,Xo=1e6;class Zo{static now(){return Zo.fromMillis(Date.now())}static fromDate(e){return Zo.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*Xo);return new Zo(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Mo(Lo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Mo(Lo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Jo)throw new Mo(Lo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Mo(Lo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Xo}_compareTo(e){return this.seconds===e.seconds?Qo(this.nanoseconds,e.nanoseconds):Qo(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Jo;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class el{static fromTimestamp(e){return new el(e)}static min(){return new el(new Zo(0,0))}static max(){return new el(new Zo(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const tl="__name__";class nl{constructor(e,t,n){void 0===t?t=0:t>e.length&&Po(),void 0===n?n=e.length-t:n>e.length-t&&Po(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===nl.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof nl?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=nl.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return Math.sign(e.length-t.length)}static compareSegments(e,t){const n=nl.isNumericId(e),r=nl.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?nl.extractNumericId(e).compare(nl.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return lo.fromString(e.substring(4,e.length-2))}}class rl extends nl{construct(e,t,n){return new rl(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Mo(Lo.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((e=>e.length>0)))}return new rl(e)}static emptyPath(){return new rl([])}}const il=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sl extends nl{construct(e,t,n){return new sl(e,t,n)}static isValidIdentifier(e){return il.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sl.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===tl}static keyField(){return new sl([tl])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Mo(Lo.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Mo(Lo.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Mo(Lo.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new Mo(Lo.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sl(t)}static emptyPath(){return new sl([])}}class al{constructor(e){this.path=e}static fromPath(e){return new al(rl.fromString(e))}static fromName(e){return new al(rl.fromString(e).popFirst(5))}static empty(){return new al(rl.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===rl.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return rl.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new al(new rl(e.slice()))}}const ol=-1;class ll{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}ll.UNKNOWN_ID=-1;function cl(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=el.fromTimestamp(1e9===r?new Zo(n+1,0):new Zo(n,r));return new dl(i,al.empty(),t)}function ul(e){return new dl(e.readTime,e.key,ol)}class dl{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new dl(el.min(),al.empty(),ol)}static max(){return new dl(el.max(),al.empty(),ol)}}function hl(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=al.comparator(e.documentKey,t.documentKey),0!==n?n:Qo(e.largestBatchId,t.largestBatchId))}const fl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pl{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ml(e){if(e.code!==Lo.FAILED_PRECONDITION||e.message!==fl)throw e;Io("LocalStore","Unexpectedly lost primary lease")}class gl{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Po(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new gl(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof gl?t:gl.resolve(t)}catch(e){return gl.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):gl.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):gl.reject(t)}static resolve(e){return new gl(((t,n)=>{t(e)}))}static reject(e){return new gl(((t,n)=>{n(e)}))}static waitFor(e){return new gl(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=gl.resolve(!1);for(const n of e)t=t.next((e=>e?gl.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new gl(((n,r)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next((e=>{s[l]=e,++a,a===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new gl(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function vl(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function yl(e){return"IndexedDbTransactionError"===e.name}class bl{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.oe(e),this._e=e=>t.writeSequenceNumber(e))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}bl.ae=-1;const wl=-1;function El(e){return null==e}function _l(e){return 0===e&&1/e==-1/0}function xl(e){return"number"==typeof e&&Number.isInteger(e)&&!_l(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const Sl="\x01";function kl(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Cl(t)),t=Tl(e.get(n),t);return Cl(t)}function Tl(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case Sl:n+="\x01\x11";break;default:n+=t}}return n}function Cl(e){return e+Sl+"\x01"}const Nl="remoteDocuments",Il="owner",Rl="mutationQueues",Al="mutations";const Ol="documentMutations",Pl="remoteDocumentsV14",jl="remoteDocumentGlobal",Dl="targets",Ll="targetDocuments",Ml="targetGlobal",Fl="collectionParents",Ul="clientMetadata",Vl="bundles",zl="namedQueries",$l="indexConfiguration",Bl="indexState",Hl="indexEntries",ql="documentOverlays",Wl="globals",Kl=[Rl,Al,Ol,Nl,Dl,Il,Ml,Ll,Ul,jl,Fl,Vl,zl],Gl=[Rl,Al,Ol,Pl,Dl,Il,Ml,Ll,Ul,jl,Fl,Vl,zl,ql],Ql=Gl,Yl=[...Ql,$l,Bl,Hl];function Jl(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Xl(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Zl(e,t){const n=[];for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.push(t(e[r],r,e));return n}function ec(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class tc{constructor(e,t){this.comparator=e,this.root=t||rc.EMPTY}insert(e,t){return new tc(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,rc.BLACK,null,null))}remove(e){return new tc(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rc.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nc(this.root,e,this.comparator,!1)}getReverseIterator(){return new nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nc(this.root,e,this.comparator,!0)}}class nc{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rc{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:rc.RED,this.left=null!=r?r:rc.EMPTY,this.right=null!=i?i:rc.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new rc(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return rc.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return rc.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rc.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rc.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Po();if(this.right.isRed())throw Po();const e=this.left.check();if(e!==this.right.check())throw Po();return e+(this.isRed()?0:1)}}rc.EMPTY=null,rc.RED=!0,rc.BLACK=!1,rc.EMPTY=new class{constructor(){this.size=0}get key(){throw Po()}get value(){throw Po()}get color(){throw Po()}get left(){throw Po()}get right(){throw Po()}copy(e,t,n,r,i){return this}insert(e,t,n){return new rc(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ic{constructor(e){this.comparator=e,this.data=new tc(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new sc(this.data.getIterator())}getIteratorFrom(e){return new sc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof ic))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new ic(this.comparator);return t.data=e,t}}class sc{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ac{constructor(e){this.fields=e,e.sort(sl.comparator)}static empty(){return new ac([])}unionWith(e){let t=new ic(sl.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new ac(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Yo(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class oc extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class lc{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new oc("Invalid base64 string: "+e):e}}(e);return new lc(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new lc(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qo(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}lc.EMPTY_BYTE_STRING=new lc("");const cc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function uc(e){if(jo(!!e),"string"==typeof e){let t=0;const n=cc.exec(e);if(jo(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:dc(e.seconds),nanos:dc(e.nanos)}}function dc(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function hc(e){return"string"==typeof e?lc.fromBase64String(e):lc.fromUint8Array(e)}const fc="server_timestamp",pc="__type__",mc="__previous_value__",gc="__local_write_time__";function vc(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[pc])||void 0===n?void 0:n.stringValue)===fc}function yc(e){const t=e.mapValue.fields[mc];return vc(t)?yc(t):t}function bc(e){const t=uc(e.mapValue.fields[gc].timestampValue);return new Zo(t.seconds,t.nanos)}class wc{constructor(e,t,n,r,i,s,a,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l}}const Ec="(default)";class _c{constructor(e,t){this.projectId=e,this.database=t||Ec}static empty(){return new _c("","")}get isDefaultDatabase(){return this.database===Ec}isEqual(e){return e instanceof _c&&e.projectId===this.projectId&&e.database===this.database}}const xc="__type__",Sc="__max__",kc={mapValue:{fields:{__type__:{stringValue:Sc}}}},Tc="__vector__",Cc="value";function Nc(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?vc(e)?4:qc(e)?9007199254740991:Bc(e)?10:11:Po()}function Ic(e,t){if(e===t)return!0;const n=Nc(e);if(n!==Nc(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return bc(e).isEqual(bc(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=uc(e.timestampValue),r=uc(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return hc(e.bytesValue).isEqual(hc(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return dc(e.geoPointValue.latitude)===dc(t.geoPointValue.latitude)&&dc(e.geoPointValue.longitude)===dc(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return dc(e.integerValue)===dc(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=dc(e.doubleValue),r=dc(t.doubleValue);return n===r?_l(n)===_l(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Yo(e.arrayValue.values||[],t.arrayValue.values||[],Ic);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Jl(n)!==Jl(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ic(n[i],r[i])))return!1;return!0}(e,t);default:return Po()}}function Rc(e,t){return void 0!==(e.values||[]).find((e=>Ic(e,t)))}function Ac(e,t){if(e===t)return 0;const n=Nc(e),r=Nc(t);if(n!==r)return Qo(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qo(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=dc(e.integerValue||e.doubleValue),r=dc(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Oc(e.timestampValue,t.timestampValue);case 4:return Oc(bc(e),bc(t));case 5:return Qo(e.stringValue,t.stringValue);case 6:return function(e,t){const n=hc(e),r=hc(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Qo(n[i],r[i]);if(0!==e)return e}return Qo(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Qo(dc(e.latitude),dc(t.latitude));return 0!==n?n:Qo(dc(e.longitude),dc(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Pc(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,s;const a=e.fields||{},o=t.fields||{},l=null===(n=a[Cc])||void 0===n?void 0:n.arrayValue,c=null===(r=o[Cc])||void 0===r?void 0:r.arrayValue,u=Qo((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(s=null==c?void 0:c.values)||void 0===s?void 0:s.length)||0);return 0!==u?u:Pc(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===kc.mapValue&&t===kc.mapValue)return 0;if(e===kc.mapValue)return 1;if(t===kc.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=Qo(r[a],s[a]);if(0!==e)return e;const t=Ac(n[r[a]],i[s[a]]);if(0!==t)return t}return Qo(r.length,s.length)}(e.mapValue,t.mapValue);default:throw Po()}}function Oc(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Qo(e,t);const n=uc(e),r=uc(t),i=Qo(n.seconds,r.seconds);return 0!==i?i:Qo(n.nanos,r.nanos)}function Pc(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Ac(n[i],r[i]);if(e)return e}return Qo(n.length,r.length)}function jc(e){return Dc(e)}function Dc(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=uc(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return hc(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return al.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Dc(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Dc(e.fields[i])}`;return n+"}"}(e.mapValue):Po()}function Lc(e){switch(Nc(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=yc(e);return t?16+Lc(t):16;case 5:return 2*e.stringValue.length;case 6:return hc(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+Lc(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return Xl(e.fields,((e,n)=>{t+=e.length+Lc(n)})),t}(e.mapValue);default:throw Po()}}function Mc(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Fc(e){return!!e&&"integerValue"in e}function Uc(e){return!!e&&"arrayValue"in e}function Vc(e){return!!e&&"nullValue"in e}function zc(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function $c(e){return!!e&&"mapValue"in e}function Bc(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[xc])||void 0===n?void 0:n.stringValue)===Tc}function Hc(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Xl(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Hc(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Hc(e.arrayValue.values[n]);return t}return Object.assign({},e)}function qc(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Sc}class Wc{constructor(e){this.value=e}static empty(){return new Wc({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!$c(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hc(t)}setAll(e){let t=sl.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Hc(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());$c(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ic(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];$c(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Xl(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Wc(Hc(this.value))}}function Kc(e){const t=[];return Xl(e.fields,((e,n)=>{const r=new sl([e]);if($c(n)){const e=Kc(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new ac(t)}class Gc{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Gc(e,0,el.min(),el.min(),el.min(),Wc.empty(),0)}static newFoundDocument(e,t,n,r){return new Gc(e,1,t,el.min(),n,r,0)}static newNoDocument(e,t){return new Gc(e,2,t,el.min(),el.min(),Wc.empty(),0)}static newUnknownDocument(e,t){return new Gc(e,3,t,el.min(),el.min(),Wc.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(el.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wc.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wc.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=el.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Gc&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gc(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Qc{constructor(e,t){this.position=e,this.inclusive=t}}function Yc(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?al.comparator(al.fromName(a.referenceValue),n.key):Ac(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Jc(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Ic(e.position[n],t.position[n]))return!1;return!0}class Xc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Zc(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class eu{}class tu extends eu{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new cu(e,t,n):"array-contains"===t?new fu(e,n):"in"===t?new pu(e,n):"not-in"===t?new mu(e,n):"array-contains-any"===t?new gu(e,n):new tu(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new uu(e,n):new du(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ac(t,this.value)):null!==t&&Nc(this.value)===Nc(t)&&this.matchesComparison(Ac(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Po()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class nu extends eu{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new nu(e,t)}matches(e){return ru(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ce||(this.ce=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function ru(e){return"and"===e.op}function iu(e){return su(e)&&ru(e)}function su(e){for(const t of e.filters)if(t instanceof nu)return!1;return!0}function au(e){if(e instanceof tu)return e.field.canonicalString()+e.op.toString()+jc(e.value);if(iu(e))return e.filters.map((e=>au(e))).join(",");{const t=e.filters.map((e=>au(e))).join(",");return`${e.op}(${t})`}}function ou(e,t){return e instanceof tu?function(e,t){return t instanceof tu&&e.op===t.op&&e.field.isEqual(t.field)&&Ic(e.value,t.value)}(e,t):e instanceof nu?function(e,t){return t instanceof nu&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&ou(n,t.filters[r])),!0)}(e,t):void Po()}function lu(e){return e instanceof tu?function(e){return`${e.field.canonicalString()} ${e.op} ${jc(e.value)}`}(e):e instanceof nu?function(e){return e.op.toString()+" {"+e.getFilters().map(lu).join(" ,")+"}"}(e):"Filter"}class cu extends tu{constructor(e,t,n){super(e,t,n),this.key=al.fromName(n.referenceValue)}matches(e){const t=al.comparator(e.key,this.key);return this.matchesComparison(t)}}class uu extends tu{constructor(e,t){super(e,"in",t),this.keys=hu("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class du extends tu{constructor(e,t){super(e,"not-in",t),this.keys=hu("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function hu(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>al.fromName(e.referenceValue)))}class fu extends tu{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Uc(t)&&Rc(t.arrayValue,this.value)}}class pu extends tu{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Rc(this.value.arrayValue,t)}}class mu extends tu{constructor(e,t){super(e,"not-in",t)}matches(e){if(Rc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Rc(this.value.arrayValue,t)}}class gu extends tu{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Uc(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Rc(this.value.arrayValue,e)))}}class vu{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.le=null}}function yu(e){return new vu(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function bu(e){const t=Do(e);if(null===t.le){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>au(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),El(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>jc(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>jc(e))).join(",")),t.le=e}return t.le}function wu(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Zc(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!ou(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Jc(e.startAt,t.startAt)&&Jc(e.endAt,t.endAt)}function Eu(e){return al.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class _u{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function xu(e,t,n,r,i,s,a,o){return new _u(e,t,n,r,i,s,a,o)}function Su(e){return new _u(e)}function ku(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Tu(e){return null!==e.collectionGroup}function Cu(e){const t=Do(e);if(null===t.he){t.he=[];const e=new Set;for(const i of t.explicitOrderBy)t.he.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new ic(sl.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.he.push(new Xc(r,n))})),e.has(sl.keyField().canonicalString())||t.he.push(new Xc(sl.keyField(),n))}return t.he}function Nu(e){const t=Do(e);return t.Pe||(t.Pe=Ru(t,Cu(e))),t.Pe}function Iu(e){const t=Do(e);return t.Te||(t.Te=Ru(t,e.explicitOrderBy)),t.Te}function Ru(e,t){if("F"===e.limitType)return yu(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Xc(e.field,t)}));const n=e.endAt?new Qc(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Qc(e.startAt.position,e.startAt.inclusive):null;return yu(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Au(e,t){const n=e.filters.concat([t]);return new _u(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Ou(e,t,n){return new _u(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Pu(e,t){return wu(Nu(e),Nu(t))&&e.limitType===t.limitType}function ju(e){return`${bu(Nu(e))}|lt:${e.limitType}`}function Du(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>lu(e))).join(", ")}]`),El(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>jc(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>jc(e))).join(",")),`Target(${t})`}(Nu(e))}; limitType=${e.limitType})`}function Lu(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):al.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Cu(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Yc(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Cu(e),t))&&!(e.endAt&&!function(e,t,n){const r=Yc(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Cu(e),t))}(e,t)}function Mu(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Fu(e){return(t,n)=>{let r=!1;for(const i of Cu(e)){const e=Uu(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Uu(e,t,n){const r=e.field.isKeyField()?al.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Ac(r,i):Po()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Po()}}class Vu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Xl(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return ec(this.inner)}size(){return this.innerSize}}const zu=new tc(al.comparator);function $u(){return zu}const Bu=new tc(al.comparator);function Hu(){let e=Bu;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function qu(e){let t=Bu;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Wu(){return Gu()}function Ku(){return Gu()}function Gu(){return new Vu((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Qu=new tc(al.comparator),Yu=new ic(al.comparator);function Ju(){let e=Yu;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Xu=new ic(Qo);function Zu(){return Xu}function ed(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_l(t)?"-0":t}}function td(e){return{integerValue:""+e}}function nd(e,t){return xl(t)?td(t):ed(e,t)}class rd{constructor(){this._=void 0}}function id(e,t,n){return e instanceof od?function(e,t){const n={fields:{[pc]:{stringValue:fc},[gc]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&vc(t)&&(t=yc(t)),t&&(n.fields[mc]=t),{mapValue:n}}(n,t):e instanceof ld?cd(e,t):e instanceof ud?dd(e,t):function(e,t){const n=ad(e,t),r=fd(n)+fd(e.Ie);return Fc(n)&&Fc(e.Ie)?td(r):ed(e.serializer,r)}(e,t)}function sd(e,t,n){return e instanceof ld?cd(e,t):e instanceof ud?dd(e,t):n}function ad(e,t){return e instanceof hd?function(e){return Fc(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class od extends rd{}class ld extends rd{constructor(e){super(),this.elements=e}}function cd(e,t){const n=pd(t);for(const r of e.elements)n.some((e=>Ic(e,r)))||n.push(r);return{arrayValue:{values:n}}}class ud extends rd{constructor(e){super(),this.elements=e}}function dd(e,t){let n=pd(t);for(const r of e.elements)n=n.filter((e=>!Ic(e,r)));return{arrayValue:{values:n}}}class hd extends rd{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function fd(e){return dc(e.integerValue||e.doubleValue)}function pd(e){return Uc(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class md{constructor(e,t){this.field=e,this.transform=t}}class gd{constructor(e,t){this.version=e,this.transformResults=t}}class vd{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new vd}static exists(e){return new vd(void 0,e)}static updateTime(e){return new vd(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yd(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class bd{}function wd(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Rd(e.key,vd.none()):new kd(e.key,e.data,vd.none());{const n=e.data,r=Wc.empty();let i=new ic(sl.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Td(e.key,r,new ac(i.toArray()),vd.none())}}function Ed(e,t,n){e instanceof kd?function(e,t,n){const r=e.value.clone(),i=Nd(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Td?function(e,t,n){if(!yd(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Nd(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Cd(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function _d(e,t,n,r){return e instanceof kd?function(e,t,n,r){if(!yd(e.precondition,t))return n;const i=e.value.clone(),s=Id(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Td?function(e,t,n,r){if(!yd(e.precondition,t))return n;const i=Id(e.fieldTransforms,r,t),s=t.data;return s.setAll(Cd(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return yd(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function xd(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=ad(r.transform,e||null);null!=i&&(null===n&&(n=Wc.empty()),n.set(r.field,i))}return n||null}function Sd(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Yo(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof ld&&t instanceof ld||e instanceof ud&&t instanceof ud?Yo(e.elements,t.elements,Ic):e instanceof hd&&t instanceof hd?Ic(e.Ie,t.Ie):e instanceof od&&t instanceof od}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class kd extends bd{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Td extends bd{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Cd(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Nd(e,t,n){const r=new Map;jo(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,sd(a,o,n[i]))}return r}function Id(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,id(e,s,t))}return r}class Rd extends bd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ad extends bd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Od{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Ed(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=_d(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=_d(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Ku();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;const o=wd(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(el.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ju())}isEqual(e){return this.batchId===e.batchId&&Yo(this.mutations,e.mutations,((e,t)=>Sd(e,t)))&&Yo(this.baseMutations,e.baseMutations,((e,t)=>Sd(e,t)))}}class Pd{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){jo(e.mutations.length===n.length);let r=Qu;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Pd(e,t,n,r)}}class jd{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Dd{constructor(e,t,n){this.alias=e,this.aggregateType=t,this.fieldPath=n}}class Ld{constructor(e,t){this.count=e,this.unchangedNames=t}}var Md,Fd;function Ud(e){switch(e){case Lo.OK:return Po();case Lo.CANCELLED:case Lo.UNKNOWN:case Lo.DEADLINE_EXCEEDED:case Lo.RESOURCE_EXHAUSTED:case Lo.INTERNAL:case Lo.UNAVAILABLE:case Lo.UNAUTHENTICATED:return!1;case Lo.INVALID_ARGUMENT:case Lo.NOT_FOUND:case Lo.ALREADY_EXISTS:case Lo.PERMISSION_DENIED:case Lo.FAILED_PRECONDITION:case Lo.ABORTED:case Lo.OUT_OF_RANGE:case Lo.UNIMPLEMENTED:case Lo.DATA_LOSS:return!0;default:return Po()}}function Vd(e){if(void 0===e)return Ro("GRPC error has no .code"),Lo.UNKNOWN;switch(e){case Md.OK:return Lo.OK;case Md.CANCELLED:return Lo.CANCELLED;case Md.UNKNOWN:return Lo.UNKNOWN;case Md.DEADLINE_EXCEEDED:return Lo.DEADLINE_EXCEEDED;case Md.RESOURCE_EXHAUSTED:return Lo.RESOURCE_EXHAUSTED;case Md.INTERNAL:return Lo.INTERNAL;case Md.UNAVAILABLE:return Lo.UNAVAILABLE;case Md.UNAUTHENTICATED:return Lo.UNAUTHENTICATED;case Md.INVALID_ARGUMENT:return Lo.INVALID_ARGUMENT;case Md.NOT_FOUND:return Lo.NOT_FOUND;case Md.ALREADY_EXISTS:return Lo.ALREADY_EXISTS;case Md.PERMISSION_DENIED:return Lo.PERMISSION_DENIED;case Md.FAILED_PRECONDITION:return Lo.FAILED_PRECONDITION;case Md.ABORTED:return Lo.ABORTED;case Md.OUT_OF_RANGE:return Lo.OUT_OF_RANGE;case Md.UNIMPLEMENTED:return Lo.UNIMPLEMENTED;case Md.DATA_LOSS:return Lo.DATA_LOSS;default:return Po()}}(Fd=Md||(Md={}))[Fd.OK=0]="OK",Fd[Fd.CANCELLED=1]="CANCELLED",Fd[Fd.UNKNOWN=2]="UNKNOWN",Fd[Fd.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fd[Fd.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fd[Fd.NOT_FOUND=5]="NOT_FOUND",Fd[Fd.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fd[Fd.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fd[Fd.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fd[Fd.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fd[Fd.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fd[Fd.ABORTED=10]="ABORTED",Fd[Fd.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fd[Fd.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fd[Fd.INTERNAL=13]="INTERNAL",Fd[Fd.UNAVAILABLE=14]="UNAVAILABLE",Fd[Fd.DATA_LOSS=15]="DATA_LOSS";let zd=null;function $d(){return new TextEncoder}const Bd=new lo([4294967295,4294967295],0);function Hd(e){const t=$d().encode(e),n=new co;return n.update(t),new Uint8Array(n.digest())}function qd(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new lo([n,r],0),new lo([i,s],0)]}class Wd{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Kd(`Invalid padding: ${t}`);if(n<0)throw new Kd(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new Kd(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new Kd(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=lo.fromNumber(this.Ee)}Ae(e,t,n){let r=e.add(t.multiply(lo.fromNumber(n)));return 1===r.compare(Bd)&&(r=new lo([r.getBits(0),r.getBits(1)],0)),r.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ee)return!1;const t=Hd(e),[n,r]=qd(t);for(let i=0;i<this.hashCount;i++){const e=this.Ae(n,r,i);if(!this.Re(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Wd(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Ee)return;const t=Hd(e),[n,r]=qd(t);for(let i=0;i<this.hashCount;i++){const e=this.Ae(n,r,i);this.Ve(e)}}Ve(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Kd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Gd{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Qd.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Gd(el.min(),r,new tc(Qo),$u(),Ju())}}class Qd{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Qd(n,t,Ju(),Ju(),Ju())}}class Yd{constructor(e,t,n,r){this.me=e,this.removedTargetIds=t,this.key=n,this.fe=r}}class Jd{constructor(e,t){this.targetId=e,this.ge=t}}class Xd{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:lc.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Zd{constructor(){this.pe=0,this.ye=nh(),this.we=lc.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return 0!==this.pe}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Ju(),t=Ju(),n=Ju();return this.ye.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Po()}})),new Qd(this.we,this.Se,e,t,n)}Me(){this.be=!1,this.ye=nh()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,jo(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class eh{constructor(e){this.ke=e,this.qe=new Map,this.Qe=$u(),this.$e=th(),this.Ke=th(),this.Ue=new tc(Qo)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,(t=>{const n=this.He(t);switch(e.state){case 0:this.Je(t)&&n.Ce(e.resumeToken);break;case 1:n.Be(),n.De||n.Me(),n.Ce(e.resumeToken);break;case 2:n.Be(),n.De||this.removeTarget(t);break;case 3:this.Je(t)&&(n.Le(),n.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),n.Ce(e.resumeToken));break;default:Po()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach(((e,n)=>{this.Je(n)&&t(n)}))}Ze(e){const t=e.targetId,n=e.ge.count,r=this.Xe(t);if(r){const i=r.target;if(Eu(i))if(0===n){const e=new al(i.path);this.ze(t,e,Gc.newNoDocument(e,el.min()))}else jo(1===n);else{const r=this.et(t);if(r!==n){const n=this.tt(e),i=n?this.nt(n,e,r):1;if(0!==i){this.Ye(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,e)}null==zd||zd.rt(function(e,t,n,r,i){var s,a,o,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(s=null==h?void 0:h.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(o=null===(a=null==h?void 0:h.bits)||void 0===a?void 0:a.bitmap)||void 0===o?void 0:o.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.ge,this.ke.it(),n,i))}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,a;try{s=hc(n).toUint8Array()}catch(e){if(e instanceof oc)return Ao("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new Wd(s,r,i)}catch(e){return Ao(e instanceof Kd?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.Ee?null:a}nt(e,t,n){return t.ge.count===n-this.st(e,t.targetId)?0:2}st(e,t){const n=this.ke.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.ke.it(),s=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(s)||(this.ze(t,n,null),r++)})),r}ot(e){const t=new Map;this.qe.forEach(((n,r)=>{const i=this.Xe(r);if(i){if(n.current&&Eu(i.target)){const t=new al(i.target.path);this._t(t).has(r)||this.ut(r,t)||this.ze(r,t,Gc.newNoDocument(t,e))}n.ve&&(t.set(r,n.Fe()),n.Me())}}));let n=Ju();this.Ke.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Xe(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.Qe.forEach(((t,n)=>n.setReadTime(e)));const r=new Gd(e,t,this.Ue,this.Qe,n);return this.Qe=$u(),this.$e=th(),this.Ke=th(),this.Ue=new tc(Qo),r}Ge(e,t){if(!this.Je(e))return;const n=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,n),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,n){if(!this.Je(e))return;const r=this.He(e);this.ut(e,t)?r.xe(t,1):r.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),n&&(this.Qe=this.Qe.insert(t,n))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new Zd,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new ic(Qo),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new ic(Qo),this.$e=this.$e.insert(e,t)),t}Je(e){const t=null!==this.Xe(e);return t||Io("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Zd),this.ke.getRemoteKeysForTarget(e).forEach((t=>{this.ze(e,t,null)}))}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function th(){return new tc(al.comparator)}function nh(){return new tc(al.comparator)}const rh={asc:"ASCENDING",desc:"DESCENDING"},ih={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sh={and:"AND",or:"OR"};class ah{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function oh(e,t){return e.useProto3Json||El(t)?t:{value:t}}function lh(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function ch(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function uh(e,t){return lh(e,t.toTimestamp())}function dh(e){return jo(!!e),el.fromTimestamp(function(e){const t=uc(e);return new Zo(t.seconds,t.nanos)}(e))}function hh(e,t){return fh(e,t).canonicalString()}function fh(e,t){const n=function(e){return new rl(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function ph(e){const t=rl.fromString(e);return jo(Dh(t)),t}function mh(e,t){return hh(e.databaseId,t.path)}function gh(e,t){const n=ph(t);if(n.get(1)!==e.databaseId.projectId)throw new Mo(Lo.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Mo(Lo.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new al(wh(n))}function vh(e,t){return hh(e.databaseId,t)}function yh(e){const t=ph(e);return 4===t.length?rl.emptyPath():wh(t)}function bh(e){return new rl(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function wh(e){return jo(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Eh(e,t,n){return{name:mh(e,t),fields:n.value.mapValue.fields}}function _h(e,t){let n;if(t instanceof kd)n={update:Eh(e,t.key,t.value)};else if(t instanceof Rd)n={delete:mh(e,t.key)};else if(t instanceof Td)n={update:Eh(e,t.key,t.data),updateMask:jh(t.fieldMask)};else{if(!(t instanceof Ad))return Po();n={verify:mh(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof od)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ld)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ud)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof hd)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw Po()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:uh(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Po()}(e,t.precondition)),n}function xh(e,t){return{documents:[vh(e,t.path)]}}function Sh(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=vh(e,i);const s=function(e){if(0!==e.length)return Ph(nu.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Ah(e.field),direction:Nh(e.dir)}}(e)))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=oh(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ht:n,parent:i}}function kh(e,t,n,r){const{ht:i,parent:s}=Sh(e,t),a={},o=[];let l=0;return n.forEach((e=>{const t=r?e.alias:"aggregate_"+l++;a[t]=e.alias,"count"===e.aggregateType?o.push({alias:t,count:{}}):"avg"===e.aggregateType?o.push({alias:t,avg:{field:Ah(e.fieldPath)}}):"sum"===e.aggregateType&&o.push({alias:t,sum:{field:Ah(e.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:o,structuredQuery:i.structuredQuery},parent:i.parent},Pt:a,parent:s}}function Th(e){let t=yh(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){jo(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=Ch(e);return t instanceof nu&&iu(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map((e=>function(e){return new Xc(Oh(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,El(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Qc(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Qc(n,t)}(n.endAt)),xu(t,i,a,s,o,"F",l,c)}function Ch(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Oh(e.unaryFilter.field);return tu.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Oh(e.unaryFilter.field);return tu.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Oh(e.unaryFilter.field);return tu.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Oh(e.unaryFilter.field);return tu.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Po()}}(e):void 0!==e.fieldFilter?function(e){return tu.create(Oh(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Po()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return nu.create(e.compositeFilter.filters.map((e=>Ch(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Po()}}(e.compositeFilter.op))}(e):Po()}function Nh(e){return rh[e]}function Ih(e){return ih[e]}function Rh(e){return sh[e]}function Ah(e){return{fieldPath:e.canonicalString()}}function Oh(e){return sl.fromServerFormat(e.fieldPath)}function Ph(e){return e instanceof tu?function(e){if("=="===e.op){if(zc(e.value))return{unaryFilter:{field:Ah(e.field),op:"IS_NAN"}};if(Vc(e.value))return{unaryFilter:{field:Ah(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(zc(e.value))return{unaryFilter:{field:Ah(e.field),op:"IS_NOT_NAN"}};if(Vc(e.value))return{unaryFilter:{field:Ah(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ah(e.field),op:Ih(e.op),value:e.value}}}(e):e instanceof nu?function(e){const t=e.getFilters().map((e=>Ph(e)));return 1===t.length?t[0]:{compositeFilter:{op:Rh(e.op),filters:t}}}(e):Po()}function jh(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Dh(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Lh{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:el.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:el.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:lc.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new Lh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Lh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Lh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Lh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Mh{constructor(e){this.Tt=e}}function Fh(e){const t=Th({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Ou(t,t.limit,"L"):t}class Uh{constructor(){}At(e,t){this.Rt(e,t),t.Vt()}Rt(e,t){if("nullValue"in e)this.ft(t,5);else if("booleanValue"in e)this.ft(t,10),t.gt(e.booleanValue?1:0);else if("integerValue"in e)this.ft(t,15),t.gt(dc(e.integerValue));else if("doubleValue"in e){const n=dc(e.doubleValue);isNaN(n)?this.ft(t,13):(this.ft(t,15),_l(n)?t.gt(0):t.gt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.ft(t,20),"string"==typeof n&&(n=uc(n)),t.yt(`${n.seconds||""}`),t.gt(n.nanos||0)}else if("stringValue"in e)this.wt(e.stringValue,t),this.St(t);else if("bytesValue"in e)this.ft(t,30),t.bt(hc(e.bytesValue)),this.St(t);else if("referenceValue"in e)this.Dt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ft(t,45),t.gt(n.latitude||0),t.gt(n.longitude||0)}else"mapValue"in e?qc(e)?this.ft(t,Number.MAX_SAFE_INTEGER):Bc(e)?this.vt(e.mapValue,t):(this.Ct(e.mapValue,t),this.St(t)):"arrayValue"in e?(this.Ft(e.arrayValue,t),this.St(t)):Po()}wt(e,t){this.ft(t,25),this.Mt(e,t)}Mt(e,t){t.yt(e)}Ct(e,t){const n=e.fields||{};this.ft(t,55);for(const r of Object.keys(n))this.wt(r,t),this.Rt(n[r],t)}vt(e,t){var n,r;const i=e.fields||{};this.ft(t,53);const s=Cc,a=(null===(r=null===(n=i[s].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.ft(t,15),t.gt(dc(a)),this.wt(s,t),this.Rt(i[s],t)}Ft(e,t){const n=e.values||[];this.ft(t,50);for(const r of n)this.Rt(r,t)}Dt(e,t){this.ft(t,37),al.fromName(e).path.forEach((e=>{this.ft(t,60),this.Mt(e,t)}))}ft(e,t){e.gt(t)}St(e){e.gt(2)}}Uh.xt=new Uh;class Vh{constructor(){this.Tn=new zh}addToCollectionParentIndex(e,t){return this.Tn.add(t),gl.resolve()}getCollectionParents(e,t){return gl.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return gl.resolve()}deleteFieldIndex(e,t){return gl.resolve()}deleteAllFieldIndexes(e){return gl.resolve()}createTargetIndexes(e,t){return gl.resolve()}getDocumentsMatchingTarget(e,t){return gl.resolve(null)}getIndexType(e,t){return gl.resolve(0)}getFieldIndexes(e,t){return gl.resolve([])}getNextCollectionGroupToUpdate(e){return gl.resolve(null)}getMinOffset(e,t){return gl.resolve(dl.min())}getMinOffsetFromCollectionGroup(e,t){return gl.resolve(dl.min())}updateCollectionGroup(e,t,n){return gl.resolve()}updateIndexEntries(e,t){return gl.resolve()}}class zh{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ic(rl.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new ic(rl.comparator)).toArray()}}new Uint8Array(0);const $h={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Bh=41943040;class Hh{static withCacheSize(e){return new Hh(e,Hh.DEFAULT_COLLECTION_PERCENTILE,Hh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}Hh.DEFAULT_COLLECTION_PERCENTILE=10,Hh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hh.DEFAULT=new Hh(Bh,Hh.DEFAULT_COLLECTION_PERCENTILE,Hh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hh.DISABLED=new Hh(-1,0,0);class qh{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new qh(0)}static Un(){return new qh(-1)}}const Wh="LruGarbageCollector",Kh=1048576;function Gh(e,t){let[n,r]=e,[i,s]=t;const a=Qo(n,i);return 0===a?Qo(r,s):a}class Qh{constructor(e){this.Hn=e,this.buffer=new ic(Gh),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Gh(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Yh{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Xn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return null!==this.Xn}er(e){Io(Wh,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){yl(e)?Io(Wh,"Ignoring IndexedDB error during garbage collection: ",e):await ml(e)}await this.er(3e5)}))}}class Jh{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return gl.resolve(bl.ae);const n=new Qh(t);return this.tr.forEachTarget(e,(e=>n.Zn(e.sequenceNumber))).next((()=>this.tr.rr(e,(e=>n.Zn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.tr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Io("LruGarbageCollector","Garbage collection skipped; disabled"),gl.resolve($h)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Io("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$h):this.ir(e,t)))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let n,r,i,s,a,o,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Io("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,a=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,o=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),No()<=Vt.DEBUG&&Io("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-c}ms\n\tDetermined least recently used ${r} in `+(a-s)+"ms\n"+`\tRemoved ${i} targets in `+(o-a)+"ms\n"+`\tRemoved ${e} documents in `+(l-o)+"ms\n"+`Total Duration: ${l-c}ms`),gl.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function Xh(e,t){return new Jh(e,t)}class Zh{constructor(){this.changes=new Vu((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Gc.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?gl.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ef{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class tf{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&_d(n.mutation,e,ac.empty(),Zo.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Ju()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ju();const r=Wu();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Hu();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Wu();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Ju())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=$u();const s=Gu(),a=Gu();return t.forEach(((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof Td)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),_d(a.mutation,t,a.mutation.getFieldMask(),Zo.now())):s.set(t.key,ac.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return a.set(e,new ef(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=Gu();let r=new tc(((e,t)=>e-t)),i=Ju();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||ac.empty();a=i.applyToLocalView(s,a),n.set(e,a);const o=(r.get(i.batchId)||Ju()).add(e);r=r.insert(i.batchId,o)}))})).next((()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=Ku();l.forEach((e=>{if(!i.has(e)){const r=wd(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,o,c))}return gl.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return al.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Tu(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):gl.resolve(Wu());let a=ol,o=i;return s.next((t=>gl.forEach(t,((t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?gl.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{o=o.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,o,t,Ju()))).next((e=>({batchId:a,changes:qu(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new al(t)).next((e=>{let t=Hu();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=Hu();return this.indexManager.getCollectionParents(e,i).next((a=>gl.forEach(a,(a=>{const o=function(e,t){return new _u(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Gc.newInvalidDocument(r)))}));let n=Hu();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&_d(s.mutation,r,ac.empty(),Zo.now()),Lu(t,r)&&(n=n.insert(e,r))})),n}))}}class nf{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return gl.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:dh(e.createTime)}}(t)),gl.resolve()}getNamedQuery(e,t){return gl.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(e){return{name:e.name,query:Fh(e.bundledQuery),readTime:dh(e.readTime)}}(t)),gl.resolve()}}class rf{constructor(){this.overlays=new tc(al.comparator),this.Rr=new Map}getOverlay(e,t){return gl.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Wu();return gl.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.Et(e,t,r)})),gl.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Rr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Rr.delete(n)),gl.resolve()}getOverlaysForCollection(e,t,n){const r=Wu(),i=t.length+1,s=new al(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return gl.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new tc(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Wu(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=Wu(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=r)););return gl.resolve(a)}Et(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Rr.get(r.largestBatchId).delete(n.key);this.Rr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new jd(t,n));let i=this.Rr.get(t);void 0===i&&(i=Ju(),this.Rr.set(t,i)),this.Rr.set(t,i.add(n.key))}}class sf{constructor(){this.sessionToken=lc.EMPTY_BYTE_STRING}getSessionToken(e){return gl.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,gl.resolve()}}class af{constructor(){this.Vr=new ic(of.mr),this.gr=new ic(of.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const n=new of(e,t);this.Vr=this.Vr.add(n),this.gr=this.gr.add(n)}yr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.wr(new of(e,t))}Sr(e,t){e.forEach((e=>this.removeReference(e,t)))}br(e){const t=new al(new rl([])),n=new of(t,e),r=new of(t,e+1),i=[];return this.gr.forEachInRange([n,r],(e=>{this.wr(e),i.push(e.key)})),i}Dr(){this.Vr.forEach((e=>this.wr(e)))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new al(new rl([])),n=new of(t,e),r=new of(t,e+1);let i=Ju();return this.gr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new of(e,0),n=this.Vr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class of{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return al.comparator(e.key,t.key)||Qo(e.Cr,t.Cr)}static pr(e,t){return Qo(e.Cr,t.Cr)||al.comparator(e.key,t.key)}}class lf{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new ic(of.mr)}checkEmpty(e){return gl.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Od(i,t,n,r);this.mutationQueue.push(s);for(const a of r)this.Mr=this.Mr.add(new of(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return gl.resolve(s)}lookupMutationBatch(e,t){return gl.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Nr(n),i=r<0?0:r;return gl.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return gl.resolve(0===this.mutationQueue.length?wl:this.Fr-1)}getAllMutationBatches(e){return gl.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new of(t,0),r=new of(t,Number.POSITIVE_INFINITY),i=[];return this.Mr.forEachInRange([n,r],(e=>{const t=this.Or(e.Cr);i.push(t)})),gl.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new ic(Qo);return t.forEach((e=>{const t=new of(e,0),r=new of(e,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([t,r],(e=>{n=n.add(e.Cr)}))})),gl.resolve(this.Br(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;al.isDocumentKey(i)||(i=i.child(""));const s=new of(new al(i),0);let a=new ic(Qo);return this.Mr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.Cr)),!0)}),s),gl.resolve(this.Br(a))}Br(e){const t=[];return e.forEach((e=>{const n=this.Or(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){jo(0===this.Lr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Mr;return gl.forEach(t.mutations,(r=>{const i=new of(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Mr=n}))}qn(e){}containsKey(e,t){const n=new of(t,0),r=this.Mr.firstAfterOrEqual(n);return gl.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,gl.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class cf{constructor(e){this.kr=e,this.docs=new tc(al.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.kr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return gl.resolve(n?n.document.mutableCopy():Gc.newInvalidDocument(t))}getEntries(e,t){let n=$u();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Gc.newInvalidDocument(e))})),gl.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=$u();const s=t.path,a=new al(s.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||hl(ul(a),n)<=0||(r.has(a.key)||Lu(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return gl.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Po()}qr(e,t){return gl.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new uf(this)}getSize(e){return gl.resolve(this.size)}}class uf extends Zh{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.Ir.addEntry(e,r)):this.Ir.removeEntry(n)})),gl.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}class df{constructor(e){this.persistence=e,this.Qr=new Vu((e=>bu(e)),wu),this.lastRemoteSnapshotVersion=el.min(),this.highestTargetId=0,this.$r=0,this.Kr=new af,this.targetCount=0,this.Ur=qh.Kn()}forEachTarget(e,t){return this.Qr.forEach(((e,n)=>t(n))),gl.resolve()}getLastRemoteSnapshotVersion(e){return gl.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return gl.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),gl.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.$r&&(this.$r=t),gl.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new qh(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,gl.resolve()}updateTargetData(e,t){return this.zn(t),gl.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,gl.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Qr.forEach(((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Qr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)})),gl.waitFor(i).next((()=>r))}getTargetCount(e){return gl.resolve(this.targetCount)}getTargetData(e,t){const n=this.Qr.get(t)||null;return gl.resolve(n)}addMatchingKeys(e,t,n){return this.Kr.yr(t,n),gl.resolve()}removeMatchingKeys(e,t,n){this.Kr.Sr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),gl.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),gl.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Kr.vr(t);return gl.resolve(n)}containsKey(e,t){return gl.resolve(this.Kr.containsKey(t))}}class hf{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new bl(0),this.zr=!1,this.zr=!0,this.jr=new sf,this.referenceDelegate=e(this),this.Hr=new df(this),this.indexManager=new Vh,this.remoteDocumentCache=function(e){return new cf(e)}((e=>this.referenceDelegate.Jr(e))),this.serializer=new Mh(t),this.Yr=new nf(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new rf,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Wr[e.toKey()];return n||(n=new lf(t,this.referenceDelegate),this.Wr[e.toKey()]=n),n}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,n){Io("MemoryPersistence","Starting transaction:",e);const r=new ff(this.Gr.next());return this.referenceDelegate.Zr(),n(r).next((e=>this.referenceDelegate.Xr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}ei(e,t){return gl.or(Object.values(this.Wr).map((n=>()=>n.containsKey(e,t))))}}class ff extends pl{constructor(e){super(),this.currentSequenceNumber=e}}class pf{constructor(e){this.persistence=e,this.ti=new af,this.ni=null}static ri(e){return new pf(e)}get ii(){if(this.ni)return this.ni;throw Po()}addReference(e,t,n){return this.ti.addReference(n,t),this.ii.delete(n.toString()),gl.resolve()}removeReference(e,t,n){return this.ti.removeReference(n,t),this.ii.add(n.toString()),gl.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),gl.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach((e=>this.ii.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.ii.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return gl.forEach(this.ii,(n=>{const r=al.fromPath(n);return this.si(e,r).next((e=>{e||t.removeEntry(r,el.min())}))})).next((()=>(this.ni=null,t.apply(e))))}updateLimboDocument(e,t){return this.si(e,t).next((e=>{e?this.ii.delete(t.toString()):this.ii.add(t.toString())}))}Jr(e){return 0}si(e,t){return gl.or([()=>gl.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class mf{constructor(e,t){this.persistence=e,this.oi=new Vu((e=>kl(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=Xh(this,t)}static ri(e,t){return new mf(e,t)}Zr(){}Xr(e){return gl.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}sr(e){let t=0;return this.rr(e,(e=>{t++})).next((()=>t))}rr(e,t){return gl.forEach(this.oi,((n,r)=>this.ar(e,n,r).next((e=>e?gl.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.qr(e,(r=>this.ar(e,r,t).next((e=>{e||(n++,i.removeEntry(r,el.min()))})))).next((()=>i.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),gl.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.oi.set(n,e.currentSequenceNumber),gl.resolve()}removeReference(e,t,n){return this.oi.set(n,e.currentSequenceNumber),gl.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),gl.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Lc(e.data.value)),t}ar(e,t,n){return gl.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.oi.get(t);return gl.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class gf{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Hi=n,this.Ji=r}static Yi(e,t){let n=Ju(),r=Ju();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new gf(e,t.fromCache,n,r)}}class vf{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class yf{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=_t()?8:vl(Et())>0?6:4}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.rs(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.ss(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new vf;return this._s(e,t,n).next((r=>{if(i.result=r,this.Xi)return this.us(e,t,n,r.size)}))})).next((()=>i.result))}us(e,t,n,r){return n.documentReadCount<this.es?(No()<=Vt.DEBUG&&Io("QueryEngine","SDK will not create cache indexes for query:",Du(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),gl.resolve()):(No()<=Vt.DEBUG&&Io("QueryEngine","Query:",Du(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.ts*r?(No()<=Vt.DEBUG&&Io("QueryEngine","The SDK decides to create cache indexes for query:",Du(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Nu(t))):gl.resolve())}rs(e,t){if(ku(t))return gl.resolve(null);let n=Nu(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Ou(t,null,"F"),n=Nu(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Ju(...r);return this.ns.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.cs(t,r);return this.ls(t,s,i,n.readTime)?this.rs(e,Ou(t,null,"F")):this.hs(e,s,t,n)}))))})))))}ss(e,t,n,r){return ku(t)||r.isEqual(el.min())?gl.resolve(null):this.ns.getDocuments(e,n).next((i=>{const s=this.cs(t,i);return this.ls(t,s,n,r)?gl.resolve(null):(No()<=Vt.DEBUG&&Io("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Du(t)),this.hs(e,s,t,cl(r,ol)).next((e=>e)))}))}cs(e,t){let n=new ic(Fu(e));return t.forEach(((t,r)=>{Lu(e,r)&&(n=n.add(r))})),n}ls(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}_s(e,t,n){return No()<=Vt.DEBUG&&Io("QueryEngine","Using full collection scan to execute query:",Du(t)),this.ns.getDocumentsMatchingQuery(e,t,dl.min(),n)}hs(e,t,n,r){return this.ns.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}const bf="LocalStore";class wf{constructor(e,t,n,r){this.persistence=e,this.Ps=t,this.serializer=r,this.Ts=new tc(Qo),this.Is=new Vu((e=>bu(e)),wu),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(n)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tf(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ts)))}}function Ef(e,t,n,r){return new wf(e,t,n,r)}async function _f(e,t){const n=Do(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.As(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let a=Ju();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next((e=>({Rs:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function xf(e){const t=Do(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Hr.getLastRemoteSnapshotVersion(e)))}function Sf(e,t,n){let r=Ju(),i=Ju();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=$u();return n.forEach(((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(el.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):Io(bf,"Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),{Vs:r,fs:i}}))}function kf(e,t){const n=Do(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=wl),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Tf(e,t){const n=Do(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Hr.getTargetData(e,t).next((i=>i?(r=i,gl.resolve(r)):n.Hr.allocateTargetId(e).next((i=>(r=new Lh(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Hr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Ts.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(e.targetId,e),n.Is.set(t,e.targetId)),e}))}async function Cf(e,t,n){const r=Do(e),i=r.Ts.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!yl(e))throw e;Io(bf,`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ts=r.Ts.remove(t),r.Is.delete(i.target)}function Nf(e,t,n){const r=Do(e);let i=el.min(),s=Ju();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=Do(e),i=r.Is.get(n);return void 0!==i?gl.resolve(r.Ts.get(i)):r.Hr.getTargetData(t,n)}(r,e,Nu(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.Ps.getDocumentsMatchingQuery(e,t,n?i:el.min(),n?s:Ju()))).next((e=>(If(r,Mu(t),e),{documents:e,gs:s})))))}function If(e,t,n){let r=e.Es.get(t)||el.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Es.set(t,r)}class Rf{constructor(){this.activeTargetIds=Zu()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Af{constructor(){this.ho=new Rf,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,n){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Rf,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Of{To(e){}shutdown(){}}const Pf="ConnectivityMonitor";class jf{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Io(Pf,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Io(Pf,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Df=null;function Lf(){return null===Df?Df=268435456+Math.round(2147483648*Math.random()):Df++,"0x"+Df.toString(16)}const Mf="RestConnection",Ff={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Uf{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${n}/databases/${r}`,this.wo=this.databaseId.database===Ec?`project_id=${n}`:`project_id=${n}&database_id=${r}`}So(e,t,n,r,i){const s=Lf(),a=this.bo(e,t.toUriEncodedString());Io(Mf,`Sending RPC '${e}' ${s}:`,a,n);const o={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(o,r,i),this.vo(e,a,o,n).then((t=>(Io(Mf,`Received RPC '${e}' ${s}: `,t),t)),(t=>{throw Ao(Mf,`RPC '${e}' ${s} failed with error: `,t,"url: ",a,"request:",n),t}))}Co(e,t,n,r,i,s){return this.So(e,t,n,r,i)}Do(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+To,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}bo(e,t){const n=Ff[e];return`${this.po}/v1/${t}:${n}`}terminate(){}}class Vf{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}const zf="WebChannelConnection";class $f extends Uf{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,n,r){const i=Lf();return new Promise(((s,a)=>{const o=new fo;o.setWithCredentials(!0),o.listenOnce(mo.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case go.NO_ERROR:const t=o.getResponseJson();Io(zf,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),s(t);break;case go.TIMEOUT:Io(zf,`RPC '${e}' ${i} timed out`),a(new Mo(Lo.DEADLINE_EXCEEDED,"Request time out"));break;case go.HTTP_ERROR:const n=o.getStatus();if(Io(zf,`RPC '${e}' ${i} failed with status:`,n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Lo).indexOf(t)>=0?t:Lo.UNKNOWN}(t.status);a(new Mo(e,t.message))}else a(new Mo(Lo.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Mo(Lo.UNAVAILABLE,"Connection failed."));break;default:Po()}}finally{Io(zf,`RPC '${e}' ${i} completed.`)}}));const l=JSON.stringify(r);Io(zf,`RPC '${e}' ${i} sending request:`,r),o.send(t,"POST",l,n,15)}))}Wo(e,t,n){const r=Lf(),i=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=wo(),a=bo(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Do(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");Io(zf,`Creating RPC '${e}' stream ${r}: ${c}`,o);const u=s.createWebChannel(c,o);let d=!1,h=!1;const f=new Vf({Fo:t=>{h?Io(zf,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(Io(zf,`Opening RPC '${e}' stream ${r} transport.`),u.open(),d=!0),Io(zf,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},Mo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,po.EventType.OPEN,(()=>{h||(Io(zf,`RPC '${e}' stream ${r} transport opened.`),f.Qo())})),p(u,po.EventType.CLOSE,(()=>{h||(h=!0,Io(zf,`RPC '${e}' stream ${r} transport closed`),f.Ko())})),p(u,po.EventType.ERROR,(t=>{h||(h=!0,Ao(zf,`RPC '${e}' stream ${r} transport errored:`,t),f.Ko(new Mo(Lo.UNAVAILABLE,"The operation could not be completed")))})),p(u,po.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];jo(!!i);const s=i,a=(null==s?void 0:s.error)||(null===(n=s[0])||void 0===n?void 0:n.error);if(a){Io(zf,`RPC '${e}' stream ${r} received error:`,a);const t=a.status;let n=function(e){const t=Md[e];if(void 0!==t)return Vd(t)}(t),i=a.message;void 0===n&&(n=Lo.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),h=!0,f.Ko(new Mo(n,i)),u.close()}else Io(zf,`RPC '${e}' stream ${r} received:`,i),f.Uo(i)}})),p(a,yo.STAT_EVENT,(t=>{t.stat===vo.PROXY?Io(zf,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===vo.NOPROXY&&Io(zf,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{f.$o()}),0),f}}function Bf(){return"undefined"!=typeof document?document:null}function Hf(e){return new ah(e,!0)}class qf{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Ti=e,this.timerId=t,this.Go=n,this.zo=r,this.jo=i,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),n=Math.max(0,Date.now()-this.Yo),r=Math.max(0,t-n);r>0&&Io("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,r,(()=>(this.Yo=Date.now(),e()))),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){null!==this.Jo&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){null!==this.Jo&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}const Wf="PersistentStream";class Kf{constructor(e,t,n,r,i,s,a,o){this.Ti=e,this.n_=n,this.r_=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new qf(e,t)}u_(){return 1===this.state||5===this.state||this.c_()}c_(){return 2===this.state||3===this.state}start(){this.__=0,4!==this.state?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&null===this.s_&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,(()=>this.T_())))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,4!==e?this.a_.reset():t&&t.code===Lo.RESOURCE_EXHAUSTED?(Ro(t.toString()),Ro("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===Lo.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.i_===t&&this.V_(n,r)}),(t=>{e((()=>{const e=new Mo(Lo.UNKNOWN,"Fetching auth token failed: "+t.message);return this.m_(e)}))}))}V_(e,t){const n=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo((()=>{n((()=>this.listener.xo()))})),this.stream.No((()=>{n((()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,(()=>(this.c_()&&(this.state=3),Promise.resolve()))),this.listener.No())))})),this.stream.Lo((e=>{n((()=>this.m_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.__?this.g_(e):this.onNext(e)))}))}l_(){this.state=5,this.a_.Xo((async()=>{this.state=0,this.start()}))}m_(e){return Io(Wf,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget((()=>this.i_===e?t():(Io(Wf,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Gf extends Kf{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Po()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(jo(void 0===t||"string"==typeof t),lc.fromBase64String(t||"")):(jo(void 0===t||t instanceof Buffer||t instanceof Uint8Array),lc.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?Lo.UNKNOWN:Vd(e.code);return new Mo(t,e.message||"")}(a);n=new Xd(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=gh(e,r.document.name),s=dh(r.document.updateTime),a=r.document.createTime?dh(r.document.createTime):el.min(),o=new Wc({mapValue:{fields:r.document.fields}}),l=Gc.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Yd(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=gh(e,r.document),s=r.readTime?dh(r.readTime):el.min(),a=Gc.newNoDocument(i,s),o=r.removedTargetIds||[];n=new Yd([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=gh(e,r.document),s=r.removedTargetIds||[];n=new Yd([],s,i,null)}else{if(!("filter"in t))return Po();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new Ld(r,i),a=e.targetId;n=new Jd(a,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return el.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?el.min():t.readTime?dh(t.readTime):el.min()}(e);return this.listener.p_(t,n)}y_(e){const t={};t.database=bh(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Eu(r)?{documents:xh(e,r)}:{query:Sh(e,r).ht},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=ch(e,t.resumeToken);const r=oh(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(el.min())>0){n.readTime=lh(e,t.snapshotVersion.toTimestamp());const r=oh(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Po()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.I_(t)}w_(e){const t={};t.database=bh(this.serializer),t.removeTarget=e,this.I_(t)}}class Qf extends Kf{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return jo(!!e.streamToken),this.lastStreamToken=e.streamToken,jo(!e.writeResults||0===e.writeResults.length),this.listener.D_()}onNext(e){jo(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=function(e,t){return e&&e.length>0?(jo(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?dh(e.updateTime):dh(t);return n.isEqual(el.min())&&(n=dh(t)),new gd(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=dh(e.commitTime);return this.listener.v_(n,t)}C_(){const e={};e.database=bh(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>_h(this.serializer,e)))};this.I_(t)}}class Yf{}class Jf extends Yf{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.F_=!1}M_(){if(this.F_)throw new Mo(Lo.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,n,r){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,a]=i;return this.connection.So(e,fh(t,n),r,s,a)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Lo.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Mo(Lo.UNKNOWN,e.toString())}))}Co(e,t,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[a,o]=s;return this.connection.Co(e,fh(t,n),r,a,o,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Lo.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Mo(Lo.UNKNOWN,e.toString())}))}terminate(){this.F_=!0,this.connection.terminate()}}class Xf{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){0===this.x_&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve()))))}q_(e){"Online"===this.state?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,"Online"===e&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ro(t),this.N_=!1):Io("OnlineStateTracker",t)}Q_(){null!==this.O_&&(this.O_.cancel(),this.O_=null)}}const Zf="RemoteStore";class ep{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=i,this.z_.To((e=>{n.enqueueAndForget((async()=>{cp(this)&&(Io(Zf,"Restarting streams for network reachability change."),await async function(e){const t=Do(e);t.W_.add(4),await np(t),t.j_.set("Unknown"),t.W_.delete(4),await tp(t)}(this))}))})),this.j_=new Xf(n,r)}}async function tp(e){if(cp(e))for(const t of e.G_)await t(!0)}async function np(e){for(const t of e.G_)await t(!1)}function rp(e,t){const n=Do(e);n.U_.has(t.targetId)||(n.U_.set(t.targetId,t),lp(n)?op(n):Np(n).c_()&&sp(n,t))}function ip(e,t){const n=Do(e),r=Np(n);n.U_.delete(t),r.c_()&&ap(n,t),0===n.U_.size&&(r.c_()?r.P_():cp(n)&&n.j_.set("Unknown"))}function sp(e,t){if(e.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(el.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Np(e).y_(t)}function ap(e,t){e.H_.Ne(t),Np(e).w_(t)}function op(e){e.H_=new eh({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>e.U_.get(t)||null,it:()=>e.datastore.serializer.databaseId}),Np(e).start(),e.j_.B_()}function lp(e){return cp(e)&&!Np(e).u_()&&e.U_.size>0}function cp(e){return 0===Do(e).W_.size}function up(e){e.H_=void 0}async function dp(e){e.j_.set("Online")}async function hp(e){e.U_.forEach(((t,n)=>{sp(e,t)}))}async function fp(e,t){up(e),lp(e)?(e.j_.q_(t),op(e)):e.j_.set("Unknown")}async function pp(e,t,n){if(e.j_.set("Online"),t instanceof Xd&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.U_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.U_.delete(r),e.H_.removeTarget(r))}(e,t)}catch(n){Io(Zf,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await mp(e,n)}else if(t instanceof Yd?e.H_.We(t):t instanceof Jd?e.H_.Ze(t):e.H_.je(t),!n.isEqual(el.min()))try{const t=await xf(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.H_.ot(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.U_.get(r);i&&e.U_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.U_.get(t);if(!r)return;e.U_.set(t,r.withResumeToken(lc.EMPTY_BYTE_STRING,r.snapshotVersion)),ap(e,t);const i=new Lh(r.target,t,n,r.sequenceNumber);sp(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Io(Zf,"Failed to raise snapshot:",t),await mp(e,t)}}async function mp(e,t,n){if(!yl(t))throw t;e.W_.add(1),await np(e),e.j_.set("Offline"),n||(n=()=>xf(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Io(Zf,"Retrying IndexedDB access"),await n(),e.W_.delete(1),await tp(e)}))}function gp(e,t){return t().catch((n=>mp(e,n,t)))}async function vp(e){const t=Do(e),n=Ip(t);let r=t.K_.length>0?t.K_[t.K_.length-1].batchId:wl;for(;yp(t);)try{const e=await kf(t.localStore,r);if(null===e){0===t.K_.length&&n.P_();break}r=e.batchId,bp(t,e)}catch(e){await mp(t,e)}wp(t)&&Ep(t)}function yp(e){return cp(e)&&e.K_.length<10}function bp(e,t){e.K_.push(t);const n=Ip(e);n.c_()&&n.S_&&n.b_(t.mutations)}function wp(e){return cp(e)&&!Ip(e).u_()&&e.K_.length>0}function Ep(e){Ip(e).start()}async function _p(e){Ip(e).C_()}async function xp(e){const t=Ip(e);for(const n of e.K_)t.b_(n.mutations)}async function Sp(e,t,n){const r=e.K_.shift(),i=Pd.from(r,t,n);await gp(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await vp(e)}async function kp(e,t){t&&Ip(e).S_&&await async function(e,t){if(function(e){return Ud(e)&&e!==Lo.ABORTED}(t.code)){const n=e.K_.shift();Ip(e).h_(),await gp(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await vp(e)}}(e,t),wp(e)&&Ep(e)}async function Tp(e,t){const n=Do(e);n.asyncQueue.verifyOperationInProgress(),Io(Zf,"RemoteStore received new credentials");const r=cp(n);n.W_.add(3),await np(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await tp(n)}async function Cp(e,t){const n=Do(e);t?(n.W_.delete(2),await tp(n)):t||(n.W_.add(2),await np(n),n.j_.set("Unknown"))}function Np(e){return e.J_||(e.J_=function(e,t,n){const r=Do(e);return r.M_(),new Gf(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{xo:dp.bind(null,e),No:hp.bind(null,e),Lo:fp.bind(null,e),p_:pp.bind(null,e)}),e.G_.push((async t=>{t?(e.J_.h_(),lp(e)?op(e):e.j_.set("Unknown")):(await e.J_.stop(),up(e))}))),e.J_}function Ip(e){return e.Y_||(e.Y_=function(e,t,n){const r=Do(e);return r.M_(),new Qf(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{xo:()=>Promise.resolve(),No:_p.bind(null,e),Lo:kp.bind(null,e),D_:xp.bind(null,e),v_:Sp.bind(null,e)}),e.G_.push((async t=>{t?(e.Y_.h_(),await vp(e)):(await e.Y_.stop(),e.K_.length>0&&(Io(Zf,`Stopping write stream with ${e.K_.length} pending writes`),e.K_=[]))}))),e.Y_}class Rp{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Fo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new Rp(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Mo(Lo.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ap(e,t){if(Ro("AsyncQueue",`${t}: ${e}`),yl(e))return new Mo(Lo.UNAVAILABLE,`${t}: ${e}`);throw e}class Op{static emptySet(e){return new Op(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||al.comparator(t.key,n.key):(e,t)=>al.comparator(e.key,t.key),this.keyedMap=Hu(),this.sortedSet=new tc(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Op))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Op;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Pp{constructor(){this.Z_=new tc(al.comparator)}track(e){const t=e.doc.key,n=this.Z_.get(t);n?0!==e.type&&3===n.type?this.Z_=this.Z_.insert(t,e):3===e.type&&1!==n.type?this.Z_=this.Z_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Z_=this.Z_.remove(t):1===e.type&&2===n.type?this.Z_=this.Z_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Po():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class jp{constructor(e,t,n,r,i,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new jp(e,t,Op.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Pu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Dp{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some((e=>e.ra()))}}class Lp{constructor(){this.queries=Mp(),this.onlineState="Unknown",this.ia=new Set}terminate(){!function(e,t){const n=Do(e),r=n.queries;n.queries=Mp(),r.forEach(((e,n)=>{for(const r of n.ta)r.onError(t)}))}(this,new Mo(Lo.ABORTED,"Firestore shutting down"))}}function Mp(){return new Vu((e=>ju(e)),Pu)}async function Fp(e,t){const n=Do(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.na()&&t.ra()&&(r=2):(s=new Dp,r=t.ra()?0:1);try{switch(r){case 0:s.ea=await n.onListen(i,!0);break;case 1:s.ea=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=Ap(e,`Initialization of query '${Du(t.query)}' failed`);return void t.onError(n)}n.queries.set(i,s),s.ta.push(t),t.sa(n.onlineState),s.ea&&t.oa(s.ea)&&$p(n)}async function Up(e,t){const n=Do(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.ta.indexOf(t);e>=0&&(s.ta.splice(e,1),0===s.ta.length?i=t.ra()?0:1:!s.na()&&t.ra()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Vp(e,t){const n=Do(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.ta)e.oa(i)&&(r=!0);t.ea=i}}r&&$p(n)}function zp(e,t,n){const r=Do(e),i=r.queries.get(t);if(i)for(const s of i.ta)s.onError(n);r.queries.delete(t)}function $p(e){e.ia.forEach((e=>{e.next()}))}var Bp,Hp;(Hp=Bp||(Bp={}))._a="default",Hp.Cache="cache";class qp{constructor(e,t,n){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=n||{}}oa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new jp(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache)return!0;if(!this.ra())return!0;const n="Offline"!==t;return(!this.options.Ta||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Pa(e){e=jp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Bp.Cache}}class Wp{constructor(e){this.key=e}}class Kp{constructor(e){this.key=e}}class Gp{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ju(),this.mutatedKeys=Ju(),this.ya=Fu(e),this.wa=new Op(this.ya)}get Sa(){return this.fa}ba(e,t){const n=t?t.Da:new Pp,r=t?t.wa:this.wa;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=Lu(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.va(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.ya(u,o)>0||l&&this.ya(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(u?(s=s.add(u),i=h?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{wa:s,Da:n,ls:a,mutatedKeys:i}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const s=e.Da.X_();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Po()}};return n(e)-n(t)}(e.type,t.type)||this.ya(e.doc,t.doc))),this.Ca(n),r=null!=r&&r;const a=t&&!r?this.Fa():[],o=0===this.pa.size&&this.current&&!r?1:0,l=o!==this.ga;return this.ga=o,0!==s.length||l?{snapshot:new jp(this.query,e.wa,i,s,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Pp,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach((e=>this.fa=this.fa.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.fa=this.fa.delete(e))),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ju(),this.wa.forEach((e=>{this.xa(e.key)&&(this.pa=this.pa.add(e.key))}));const t=[];return e.forEach((e=>{this.pa.has(e)||t.push(new Kp(e))})),this.pa.forEach((n=>{e.has(n)||t.push(new Wp(n))})),t}Oa(e){this.fa=e.gs,this.pa=Ju();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return jp.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,0===this.ga,this.hasCachedResults)}}const Qp="SyncEngine";class Yp{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Jp{constructor(e){this.key=e,this.Ba=!1}}class Xp{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.La={},this.ka=new Vu((e=>ju(e)),Pu),this.qa=new Map,this.Qa=new Set,this.$a=new tc(al.comparator),this.Ka=new Map,this.Ua=new af,this.Wa={},this.Ga=new Map,this.za=qh.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return!0===this.ja}}async function Zp(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=wm(e);let i;const s=r.ka.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Na()):i=await tm(r,t,n,!0),i}async function em(e,t){const n=wm(e);await tm(n,t,!0,!1)}async function tm(e,t,n,r){const i=await Tf(e.localStore,Nu(t)),s=i.targetId,a=e.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await nm(e,t,s,"current"===a,i.resumeToken)),e.isPrimaryClient&&n&&rp(e.remoteStore,i),o}async function nm(e,t,n,r,i){e.Ha=(t,n,r)=>async function(e,t,n,r){let i=t.view.ba(n);i.ls&&(i=await Nf(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ba(n,i)})));const s=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s,a);return pm(e,t.targetId,o.Ma),o.snapshot}(e,t,n,r);const s=await Nf(e.localStore,t,!0),a=new Gp(t,s.gs),o=a.ba(s.documents),l=Qd.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(o,e.isPrimaryClient,l);pm(e,n,c.Ma);const u=new Yp(t,n,a);return e.ka.set(t,u),e.qa.has(n)?e.qa.get(n).push(t):e.qa.set(n,[t]),c.snapshot}async function rm(e,t,n){const r=Do(e),i=r.ka.get(t),s=r.qa.get(i.targetId);if(s.length>1)return r.qa.set(i.targetId,s.filter((e=>!Pu(e,t)))),void r.ka.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Cf(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&ip(r.remoteStore,i.targetId),hm(r,i.targetId)})).catch(ml)):(hm(r,i.targetId),await Cf(r.localStore,i.targetId,!0))}async function im(e,t){const n=Do(e),r=n.ka.get(t),i=n.qa.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ip(n.remoteStore,r.targetId))}async function sm(e,t){const n=Do(e);try{const e=await function(e,t){const n=Do(e),r=t.snapshotVersion;let i=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.ds.newChangeBuffer({trackRemovals:!0});i=n.Ts;const a=[];t.targetChanges.forEach(((s,o)=>{const l=i.get(o);if(!l)return;a.push(n.Hr.removeMatchingKeys(e,s.removedDocuments,o).next((()=>n.Hr.addMatchingKeys(e,s.addedDocuments,o))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(lc.EMPTY_BYTE_STRING,el.min()).withLastLimboFreeSnapshotVersion(el.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,s)&&a.push(n.Hr.updateTargetData(e,c))}));let o=$u(),l=Ju();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(Sf(e,s,t.documentUpdates).next((e=>{o=e.Vs,l=e.fs}))),!r.isEqual(el.min())){const t=n.Hr.getLastRemoteSnapshotVersion(e).next((t=>n.Hr.setTargetsMetadata(e,e.currentSequenceNumber,r)));a.push(t)}return gl.waitFor(a).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,o,l))).next((()=>o))})).then((e=>(n.Ts=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Ka.get(t);r&&(jo(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Ba=!0:e.modifiedDocuments.size>0?jo(r.Ba):e.removedDocuments.size>0&&(jo(r.Ba),r.Ba=!1))})),await vm(n,e,t)}catch(e){await ml(e)}}function am(e,t,n){const r=Do(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ka.forEach(((n,r)=>{const i=r.view.sa(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Do(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.ta)i.sa(t)&&(r=!0)})),r&&$p(n)}(r.eventManager,t),e.length&&r.La.p_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function om(e,t,n){const r=Do(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Ka.get(t),s=i&&i.key;if(s){let e=new tc(al.comparator);e=e.insert(s,Gc.newNoDocument(s,el.min()));const n=Ju().add(s),i=new Gd(el.min(),new Map,new tc(Qo),e,n);await sm(r,i),r.$a=r.$a.remove(s),r.Ka.delete(t),gm(r)}else await Cf(r.localStore,t,!1).then((()=>hm(r,t,n))).catch(ml)}async function lm(e,t){const n=Do(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Do(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.ds.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let a=gl.resolve();return s.forEach((e=>{a=a.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);jo(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Ju();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);dm(n,r,null),um(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await vm(n,e)}catch(e){await ml(e)}}async function cm(e,t,n){const r=Do(e);try{const e=await function(e,t){const n=Do(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(jo(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);dm(r,t,n),um(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await vm(r,e)}catch(n){await ml(n)}}function um(e,t){(e.Ga.get(t)||[]).forEach((e=>{e.resolve()})),e.Ga.delete(t)}function dm(e,t,n){const r=Do(e);let i=r.Wa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Wa[r.currentUser.toKey()]=i}}function hm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.qa.get(t))e.ka.delete(r),n&&e.La.Ja(r,n);e.qa.delete(t),e.isPrimaryClient&&e.Ua.br(t).forEach((t=>{e.Ua.containsKey(t)||fm(e,t)}))}function fm(e,t){e.Qa.delete(t.path.canonicalString());const n=e.$a.get(t);null!==n&&(ip(e.remoteStore,n),e.$a=e.$a.remove(t),e.Ka.delete(n),gm(e))}function pm(e,t,n){for(const r of n)r instanceof Wp?(e.Ua.addReference(r.key,t),mm(e,r)):r instanceof Kp?(Io(Qp,"Document no longer in limbo: "+r.key),e.Ua.removeReference(r.key,t),e.Ua.containsKey(r.key)||fm(e,r.key)):Po()}function mm(e,t){const n=t.key,r=n.path.canonicalString();e.$a.get(n)||e.Qa.has(r)||(Io(Qp,"New document in limbo: "+n),e.Qa.add(r),gm(e))}function gm(e){for(;e.Qa.size>0&&e.$a.size<e.maxConcurrentLimboResolutions;){const t=e.Qa.values().next().value;e.Qa.delete(t);const n=new al(rl.fromString(t)),r=e.za.next();e.Ka.set(r,new Jp(n)),e.$a=e.$a.insert(n,r),rp(e.remoteStore,new Lh(Nu(Su(n.path)),r,"TargetPurposeLimboResolution",bl.ae))}}async function vm(e,t,n){const r=Do(e),i=[],s=[],a=[];r.ka.isEmpty()||(r.ka.forEach(((e,o)=>{a.push(r.Ha(o,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(o.targetId,i?"current":"not-current")}if(e){i.push(e);const t=gf.Yi(o.targetId,e);s.push(t)}})))})),await Promise.all(a),r.La.p_(i),await async function(e,t){const n=Do(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>gl.forEach(t,(t=>gl.forEach(t.Hi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>gl.forEach(t.Ji,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!yl(e))throw e;Io(bf,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ts.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ts=n.Ts.insert(e,i)}}}(r.localStore,s))}async function ym(e,t){const n=Do(e);if(!n.currentUser.isEqual(t)){Io(Qp,"User change. New user:",t.toKey());const e=await _f(n.localStore,t);n.currentUser=t,function(e,t){e.Ga.forEach((e=>{e.forEach((e=>{e.reject(new Mo(Lo.CANCELLED,t))}))})),e.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await vm(n,e.Rs)}}function bm(e,t){const n=Do(e),r=n.Ka.get(t);if(r&&r.Ba)return Ju().add(r.key);{let e=Ju();const r=n.qa.get(t);if(!r)return e;for(const t of r){const r=n.ka.get(t);e=e.unionWith(r.view.Sa)}return e}}function wm(e){const t=Do(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=sm.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=bm.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=om.bind(null,t),t.La.p_=Vp.bind(null,t.eventManager),t.La.Ja=zp.bind(null,t.eventManager),t}function Em(e){const t=Do(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=lm.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=cm.bind(null,t),t}class _m{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hf(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return Ef(this.persistence,new yf,e.initialUser,this.serializer)}Xa(e){return new hf(pf.ri,this.serializer)}Za(e){return new Af}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_m.provider={build:()=>new _m};class xm extends _m{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){jo(this.persistence.referenceDelegate instanceof mf);const n=this.persistence.referenceDelegate.garbageCollector;return new Yh(n,e.asyncQueue,t)}Xa(e){const t=void 0!==this.cacheSizeBytes?Hh.withCacheSize(this.cacheSizeBytes):Hh.DEFAULT;return new hf((e=>mf.ri(e,t)),this.serializer)}}class Sm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>am(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=ym.bind(null,this.syncEngine),await Cp(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Lp}createDatastore(e){const t=Hf(e.databaseInfo.databaseId),n=function(e){return new $f(e)}(e.databaseInfo);return function(e,t,n,r){return new Jf(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new ep(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>am(this.syncEngine,e,0)),jf.D()?new jf:new Of)}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new Xp(e,t,n,r,i,s);return a&&(o.ja=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Do(e);Io(Zf,"RemoteStore shutting down."),t.W_.add(5),await np(t),t.z_.shutdown(),t.j_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Sm.provider={build:()=>new Sm};class km{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Ro("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Tm="FirestoreClient";class Cm{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=ko.UNAUTHENTICATED,this.clientId=Go.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{Io(Tm,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Io(Tm,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Ap(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Nm(e,t){e.asyncQueue.verifyOperationInProgress(),Io(Tm,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await _f(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Im(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Rm(e);Io(Tm,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>Tp(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Tp(t.remoteStore,n))),e._onlineComponents=t}async function Rm(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Io(Tm,"Using user provided OfflineComponentProvider");try{await Nm(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===Lo.FAILED_PRECONDITION||e.code===Lo.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;Ao("Error using user provided cache. Falling back to memory cache: "+n),await Nm(e,new _m)}}else Io(Tm,"Using default OfflineComponentProvider"),await Nm(e,new xm(void 0));return e._offlineComponents}async function Am(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Io(Tm,"Using user provided OnlineComponentProvider"),await Im(e,e._uninitializedComponentsProvider._online)):(Io(Tm,"Using default OnlineComponentProvider"),await Im(e,new Sm))),e._onlineComponents}function Om(e){return Am(e).then((e=>e.syncEngine))}function Pm(e){return Am(e).then((e=>e.datastore))}async function jm(e){const t=await Am(e),n=t.eventManager;return n.onListen=Zp.bind(null,t.syncEngine),n.onUnlisten=rm.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=em.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=im.bind(null,t.syncEngine),n}function Dm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Fo;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new km({next:n=>{s.su(),t.enqueueAndForget((()=>Up(e,a))),n.fromCache&&"server"===r.source?i.reject(new Mo(Lo.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new qp(n,s,{includeMetadataChanges:!0,Ta:!0});return Fp(e,a)}(await jm(e),e.asyncQueue,t,n,r))),r.promise}function Lm(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Mm=new Map;function Fm(e,t,n){if(!n)throw new Mo(Lo.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Um(e){if(!al.isDocumentKey(e))throw new Mo(Lo.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Vm(e){if(al.isDocumentKey(e))throw new Mo(Lo.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function zm(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":Po()}function $m(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Mo(Lo.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=zm(e);throw new Mo(Lo.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}const Bm="firestore.googleapis.com",Hm=!0;class qm{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Mo(Lo.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Bm,this.ssl=Hm}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:Hm;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=Bh;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<Kh)throw new Mo(Lo.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Mo(Lo.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Lm(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Mo(Lo.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new Mo(Lo.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new Mo(Lo.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wm{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qm({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Mo(Lo.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Mo(Lo.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qm(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Vo;switch(e.type){case"firstParty":return new Ho(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Mo(Lo.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Mm.get(e);t&&(Io("ComponentProvider","Removing Datastore"),Mm.delete(e),t.terminate())}(this),Promise.resolve()}}class Km{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Km(this.firestore,e,this._query)}}class Gm{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qm(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gm(this.firestore,e,this._key)}}class Qm extends Km{constructor(e,t,n){super(e,t,Su(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gm(this.firestore,null,new al(e))}withConverter(e){return new Qm(this.firestore,e,this._path)}}function Ym(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=jt(e),Fm("collection","path",t),e instanceof Wm){const n=rl.fromString(t,...r);return Vm(n),new Qm(e,null,n)}{if(!(e instanceof Gm||e instanceof Qm))throw new Mo(Lo.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(rl.fromString(t,...r));return Vm(n),new Qm(e.firestore,null,n)}}function Jm(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=jt(e),1===arguments.length&&(t=Go.newId()),Fm("doc","path",t),e instanceof Wm){const n=rl.fromString(t,...r);return Um(n),new Gm(e,null,new al(n))}{if(!(e instanceof Gm||e instanceof Qm))throw new Mo(Lo.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(rl.fromString(t,...r));return Um(n),new Gm(e.firestore,e instanceof Qm?e.converter:null,new al(n))}}const Xm="AsyncQueue";class Zm{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new qf(this,"async_queue_retry"),this.Su=()=>{const e=Bf();e&&Io(Xm,"Visibility state changed to "+e.visibilityState),this.a_.t_()},this.bu=e;const t=Bf();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Bf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise((()=>{}));const t=new Fo;return this.vu((()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Vu.push(e),this.Cu())))}async Cu(){if(0!==this.Vu.length){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(mN){if(!yl(mN))throw mN;Io(Xm,"Operation failed with retryable error: "+mN)}this.Vu.length>0&&this.a_.Xo((()=>this.Cu()))}}vu(e){const t=this.bu.then((()=>(this.pu=!0,e().catch((e=>{this.gu=e,this.pu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Ro("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.pu=!1,e))))));return this.bu=t,t}enqueueAfterDelay(e,t,n){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const r=Rp.createAndSchedule(this,e,t,n,(e=>this.Fu(e)));return this.fu.push(r),r}Du(){this.gu&&Po()}verifyOperationInProgress(){}async Mu(){let e;do{e=this.bu,await e}while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then((()=>{this.fu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.fu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Mu()}))}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class eg extends Wm{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Zm,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Zm(e),this._firestoreClient=void 0,await e}}}function tg(e){if(e._terminated)throw new Mo(Lo.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||ng(e),e._firestoreClient}function ng(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new wc(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Lm(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new Cm(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class rg{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"count",t=arguments.length>1?arguments[1]:void 0;this._internalFieldPath=t,this.type="AggregateField",this.aggregateType=e}}class ig{constructor(e,t,n){this._userDataWriter=t,this._data=n,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}class sg{constructor(e){this._byteString=e}static fromBase64String(e){try{return new sg(lc.fromBase64String(e))}catch(e){throw new Mo(Lo.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new sg(lc.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ag{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Mo(Lo.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sl(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class og{constructor(e){this._methodName=e}}class lg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Mo(Lo.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Mo(Lo.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qo(this._lat,e._lat)||Qo(this._long,e._long)}}class cg{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const ug=/^__.*__$/;class dg{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Td(e,this.data,this.fieldMask,t,this.fieldTransforms):new kd(e,this.data,t,this.fieldTransforms)}}class hg{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Td(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function fg(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Po()}}class pg{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Bu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new pg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ku({path:n,Qu:!1});return r.$u(e),r}Ku(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ku({path:n,Qu:!1});return r.Bu(),r}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Rg(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(0===e.length)throw this.Wu("Document fields must not be empty");if(fg(this.Lu)&&ug.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class mg{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Hf(e)}ju(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new pg({Lu:e,methodName:t,zu:n,path:sl.emptyPath(),Qu:!1,Gu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gg(e){const t=e._freezeSettings(),n=Hf(e._databaseId);return new mg(e._databaseId,!!t.ignoreUndefinedProperties,n)}function vg(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.ju(s.merge||s.mergeFields?2:0,t,n,i);Tg("Data must be an object, but it was:",a,r);const o=Sg(r,a);let l,c;if(s.merge)l=new ac(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Cg(t,r,n);if(!a.contains(i))throw new Mo(Lo.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Ag(e,i)||e.push(i)}l=new ac(e),c=a.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=a.fieldTransforms;return new dg(new Wc(o),l,c)}class yg extends og{_toFieldTransform(e){if(2!==e.Lu)throw 1===e.Lu?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof yg}}class bg extends og{_toFieldTransform(e){return new md(e.path,new od)}isEqual(e){return e instanceof bg}}function wg(e,t,n,r){const i=e.ju(1,t,n);Tg("Data must be an object, but it was:",i,r);const s=[],a=Wc.empty();Xl(r,((e,r)=>{const o=Ig(t,e,n);r=jt(r);const l=i.Ku(o);if(r instanceof yg)s.push(o);else{const e=xg(r,l);null!=e&&(s.push(o),a.set(o,e))}}));const o=new ac(s);return new hg(a,o,i.fieldTransforms)}function Eg(e,t,n,r,i,s){const a=e.ju(1,t,n),o=[Cg(t,r,n)],l=[i];if(s.length%2!=0)throw new Mo(Lo.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)o.push(Cg(t,s[h])),l.push(s[h+1]);const c=[],u=Wc.empty();for(let h=o.length-1;h>=0;--h)if(!Ag(c,o[h])){const e=o[h];let t=l[h];t=jt(t);const n=a.Ku(e);if(t instanceof yg)c.push(e);else{const r=xg(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new ac(c);return new hg(u,d,a.fieldTransforms)}function _g(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return xg(n,e.ju(r?4:3,t))}function xg(e,t){if(kg(e=jt(e)))return Tg("Unsupported field value:",t,e),Sg(e,t);if(e instanceof og)return function(e,t){if(!fg(t.Lu))throw t.Wu(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Wu(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Qu&&4!==t.Lu)throw t.Wu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=xg(i,t.Uu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=jt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return nd(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Zo.fromDate(e);return{timestampValue:lh(t.serializer,n)}}if(e instanceof Zo){const n=new Zo(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:lh(t.serializer,n)}}if(e instanceof lg)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof sg)return{bytesValue:ch(t.serializer,e._byteString)};if(e instanceof Gm){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Wu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:hh(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof cg)return function(e,t){return{mapValue:{fields:{[xc]:{stringValue:Tc},[Cc]:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.Wu("VectorValues must only contain numeric values.");return ed(t.serializer,e)}))}}}}}}(e,t);throw t.Wu(`Unsupported field value: ${zm(e)}`)}(e,t)}function Sg(e,t){const n={};return ec(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Xl(e,((e,r)=>{const i=xg(r,t.qu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function kg(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Zo||e instanceof lg||e instanceof sg||e instanceof Gm||e instanceof og||e instanceof cg)}function Tg(e,t,n){if(!kg(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=zm(n);throw"an object"===r?t.Wu(e+" a custom object"):t.Wu(e+" "+r)}}function Cg(e,t,n){if((t=jt(t))instanceof ag)return t._internalPath;if("string"==typeof t)return Ig(e,t);throw Rg("Field path arguments must be of type string or ",e,!1,void 0,n)}const Ng=new RegExp("[~\\*/\\[\\]]");function Ig(e,t,n){if(t.search(Ng)>=0)throw Rg(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new ag(...t.split("."))._internalPath}catch(r){throw Rg(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Rg(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new Mo(Lo.INVALID_ARGUMENT,o+e+l)}function Ag(e,t){return e.some((e=>e.isEqual(t)))}class Og{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Gm(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Pg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(jg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Pg extends Og{data(){return super.data()}}function jg(e,t){return"string"==typeof t?Ig(e,t):t instanceof ag?t._internalPath:t._delegate._internalPath}function Dg(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Mo(Lo.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Lg{}class Mg extends Lg{}function Fg(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof Lg&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof zg)).length,n=e.filter((e=>e instanceof Ug)).length;if(t>1||t>0&&n>0)throw new Mo(Lo.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class Ug extends Mg{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Ug(e,t,n)}_apply(e){const t=this._parse(e);return qg(e._query,t),new Km(e.firestore,e.converter,Au(e._query,t))}_parse(e){const t=gg(e.firestore),n=function(e,t,n,r,i,s,a){let o;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Mo(Lo.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){Hg(a,s);const t=[];for(const n of a)t.push(Bg(r,e,n));o={arrayValue:{values:t}}}else o=Bg(r,e,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Hg(a,s),o=_g(n,t,a,"in"===s||"not-in"===s);return tu.create(i,s,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Vg(e,t,n){const r=t,i=jg("where",e);return Ug._create(i,r,n)}class zg extends Lg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new zg(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:nu.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)qg(n,i),n=Au(n,i)}(e._query,t),new Km(e.firestore,e.converter,Au(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class $g extends Mg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new $g(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Mo(Lo.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Mo(Lo.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Xc(t,n)}(e._query,this._field,this._direction);return new Km(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new _u(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function Bg(e,t,n){if("string"==typeof(n=jt(n))){if(""===n)throw new Mo(Lo.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Tu(t)&&-1!==n.indexOf("/"))throw new Mo(Lo.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(rl.fromString(n));if(!al.isDocumentKey(r))throw new Mo(Lo.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Mc(e,new al(r))}if(n instanceof Gm)return Mc(e,n._key);throw new Mo(Lo.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zm(n)}.`)}function Hg(e,t){if(!Array.isArray(e)||0===e.length)throw new Mo(Lo.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function qg(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Mo(Lo.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Mo(Lo.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class Wg{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Nc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dc(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(hc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Po()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Xl(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t[Cc].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>dc(e.doubleValue)));return new cg(i)}convertGeoPoint(e){return new lg(dc(e.latitude),dc(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=yc(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(bc(e));default:return null}}convertTimestamp(e){const t=uc(e);return new Zo(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=rl.fromString(e);jo(Dh(n));const r=new _c(n.get(1),n.get(3)),i=new al(n.popFirst(5));return r.isEqual(t)||Ro(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function Kg(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Gg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qg extends Og{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Yg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(jg("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Yg extends Qg{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Jg{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Gg(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Yg(this._firestore,this._userDataWriter,n.key,n,new Gg(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Mo(Lo.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new Yg(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Gg(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Yg(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Gg(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:Xg(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Xg(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Po()}}class Zg extends Wg{constructor(e){super(),this.firestore=e}convertBytes(e){return new sg(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Gm(this.firestore,null,t)}}function ev(e){e=$m(e,Km);const t=$m(e.firestore,eg),n=tg(t),r=new Zg(t);return Dg(e._query),Dm(n,e._query).then((n=>new Jg(t,r,e,n)))}function tv(e,t,n){e=$m(e,Gm);const r=$m(e.firestore,eg),i=gg(r);let s;for(var a=arguments.length,o=new Array(a>3?a-3:0),l=3;l<a;l++)o[l-3]=arguments[l];return s="string"==typeof(t=jt(t))||t instanceof ag?Eg(i,"updateDoc",e._key,t,n,o):wg(i,"updateDoc",e._key,t),iv(r,[s.toMutation(e._key,vd.exists(!0))])}function nv(e){return iv($m(e.firestore,eg),[new Rd(e._key,vd.none())])}function rv(e,t){const n=$m(e.firestore,eg),r=Jm(e),i=Kg(e.converter,t);return iv(n,[vg(gg(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,vd.exists(!1))]).then((()=>r))}function iv(e,t){return function(e,t){const n=new Fo;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Em(e);try{const e=await function(e,t){const n=Do(e),r=Zo.now(),i=t.reduce(((e,t)=>e.add(t.key)),Ju());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let o=$u(),l=Ju();return n.ds.getEntries(e,i).next((e=>{o=e,o.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,o))).next((i=>{s=i;const a=[];for(const e of t){const t=xd(e,s.get(e.key).overlayedDocument);null!=t&&a.push(new Td(e.key,t,Kc(t.value.mapValue),vd.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)})).next((t=>{a=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:a.batchId,changes:qu(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Wa[e.currentUser.toKey()];r||(r=new tc(Qo)),r=r.insert(t,n),e.Wa[e.currentUser.toKey()]=r}(r,e.batchId,n),await vm(r,e.changes),await vp(r.remoteStore)}catch(e){const t=Ap(e,"Failed to persist write");n.reject(t)}}(await Om(e),t,n))),n.promise}(tg(e),t)}function sv(e,t){const n=$m(e.firestore,eg),r=tg(n),i=Zl(t,((e,t)=>new Dd(t,e.aggregateType,e._internalFieldPath)));return function(e,t,n){const r=new Fo;return e.asyncQueue.enqueueAndForget((async()=>{try{const i=await Pm(e);r.resolve(async function(e,t,n){var r;const i=Do(e),{request:s,Pt:a,parent:o}=kh(i.serializer,Iu(t),n);i.connection.fo||delete s.parent;const l=(await i.Co("RunAggregationQuery",i.serializer.databaseId,o,s,1)).filter((e=>!!e.result));jo(1===l.length);const c=null===(r=l[0].result)||void 0===r?void 0:r.aggregateFields;return Object.keys(c).reduce(((e,t)=>(e[a[t]]=c[t],e)),{})}(i,t,n))}catch(e){r.reject(e)}})),r.promise}(r,e._query,i).then((t=>function(e,t,n){const r=new Zg(e);return new ig(t,r,n)}(n,e,t)))}function av(){return new bg("serverTimestamp")}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){To=e}(Yn),qn(new Dt("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),a=new eg(new $o(e.getProvider("auth-internal")),new Wo(s,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Mo(Lo.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _c(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),Zn(xo,So,e),Zn(xo,So,"esm2017")}();const ov=Jn({apiKey:"AIzaSyChR_kNrIPsfsx9AgqcYz65ktvbdFXDMD4",authDomain:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyChR_kNrIPsfsx9AgqcYz65ktvbdFXDMD4",REACT_APP_AUTH_DOMAIN:"teleshowfirestore.firebaseapp.com",REACT_APP_ID:"1:690533353464:web:a6e20f269fc2e73b95380d",REACT_APP_MESSAGING_SENDER_ID:"690533353464",REACT_APP_NETWORK_HOST:"http://localhost:5000/",REACT_APP_PROJECT_ID:"teleshowfirestore",REACT_APP_STORAGE_BUCKET:"teleshowfirestore.firebasestorage.app",REACT_APP_TMDB_API_KEY:"42500abbb44c5f65745670bac62ba0f3",REACT_APP_TMDB_READ_ACCESS_TOKEN:"eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI0MjUwMGFiYmI0NGM1ZjY1NzQ1NjcwYmFjNjJiYTBmMyIsIm5iZiI6MTczOTY1NDg0OC45NzEsInN1YiI6IjY3YjEwNmMwNDdkYmZiYTQ2NDZjNjQwNyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.H1gvMOTTjeRQK8AUxv7ARrGLj8htx-lYEVcB8gp0njA"}.REACT_AUTH_DOMAIN,databaseURL:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyChR_kNrIPsfsx9AgqcYz65ktvbdFXDMD4",REACT_APP_AUTH_DOMAIN:"teleshowfirestore.firebaseapp.com",REACT_APP_ID:"1:690533353464:web:a6e20f269fc2e73b95380d",REACT_APP_MESSAGING_SENDER_ID:"690533353464",REACT_APP_NETWORK_HOST:"http://localhost:5000/",REACT_APP_PROJECT_ID:"teleshowfirestore",REACT_APP_STORAGE_BUCKET:"teleshowfirestore.firebasestorage.app",REACT_APP_TMDB_API_KEY:"42500abbb44c5f65745670bac62ba0f3",REACT_APP_TMDB_READ_ACCESS_TOKEN:"eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI0MjUwMGFiYmI0NGM1ZjY1NzQ1NjcwYmFjNjJiYTBmMyIsIm5iZiI6MTczOTY1NDg0OC45NzEsInN1YiI6IjY3YjEwNmMwNDdkYmZiYTQ2NDZjNjQwNyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.H1gvMOTTjeRQK8AUxv7ARrGLj8htx-lYEVcB8gp0njA"}.REACT_APP_DATABASE_URL,projectId:"teleshowfirestore",storageBucket:"teleshowfirestore.firebasestorage.app",messagingSenderId:"690533353464",appId:"1:690533353464:web:a6e20f269fc2e73b95380d"}),lv=ja(ov),cv=function(e,t){const n="object"==typeof e?e:Xn(),r="string"==typeof e?e:t||Ec,i=Wn(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=gt("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=$m(e,Wm))._getSettings(),a=`${t}:${n}`;if(s.host!==Bm&&s.host!==a&&Ao("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=ko.MOCK_USER;else{t=wt(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Mo(Lo.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new ko(s)}e._authCredentials=new zo(new Uo(t,n))}}(i,...e)}return i}(ov);!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xn(),t=arguments.length>1?arguments[1]:void 0;e=jt(e);const n=Wn(e,ao).getImmediate({identifier:t}),r=gt("storage");r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:wt(i,e.app.options.projectId))}(e,t,n,r)}(n,...r)}();var uv=n(579);const dv=function(){const e=ee(),[n,r]=(0,t.useState)(""),[i,s]=(0,t.useState)("");return(0,uv.jsx)("div",{className:"login-container",children:(0,uv.jsxs)("div",{className:"login-card",children:[(0,uv.jsx)("div",{className:"logo-container",children:(0,uv.jsx)("img",{src:"/logo.png",alt:"TeleShow Logo",className:"logo"})}),(0,uv.jsxs)("form",{children:[(0,uv.jsxs)("div",{children:[(0,uv.jsx)("input",{className:"login-input",type:"text",placeholder:"Email",id:"email-address",name:"email",onChange:e=>r(e.target.value)}),(0,uv.jsx)("input",{className:"login-input",type:"password",placeholder:"Password",id:"password",name:"password",onChange:e=>s(e.target.value)})]}),(0,uv.jsx)("button",{className:"login-button primary",onClick:t=>{t.preventDefault(),function(e,t,n){return Kn(e.app)?Promise.reject(br(e)):hs(jt(e),Ji.credential(t,n)).catch((async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&ps(e),t}))}(lv,n,i).then((t=>{const r=t.user;sessionStorage.setItem("userId",r.uid);(function(e,t,n){e=$m(e,Gm);const r=$m(e.firestore,eg),i=Kg(e.converter,t,n);return iv(r,[vg(gg(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,vd.none())])})(Jm(cv,"users-test",r.uid),{email:n,displayName:r.displayName||n.split("@")[0],createdAt:av()},{merge:!0}).then((()=>console.log("User document created successfully with ID:",r.uid))).catch((e=>console.error("Error creating user document:",e))),e("/dashboard"),alert("Log-in successful."),console.log(r)})).catch((e=>{const t=e.code,n=e.message;switch(console.log(t,n),e.code){case"auth/invalid-email":alert("Email is not valid.");break;case"auth/missing-password":alert("Please enter your password.");break;case"auth/invalid-credential":alert("Invalid email and/or password.");break;default:alert(e.code)}}))},children:"Login"})]}),(0,uv.jsx)("button",{className:"login-button secondary",onClick:()=>e("/signup"),children:"Sign Up"}),(0,uv.jsx)("button",{className:"login-button link",onClick:()=>e("/forgot-password"),children:"Forgot Password?"})]})})};const hv=function(){const e=ee(),[n,r]=(0,t.useState)(null),[i,s]=(0,t.useState)(null),[a,o]=(0,t.useState)(""),[l,c]=(0,t.useState)(""),[u,d]=(0,t.useState)(""),[h,f]=(0,t.useState)("");return(0,uv.jsx)("div",{className:"login-container",children:(0,uv.jsxs)("div",{className:"login-card",children:[(0,uv.jsx)("div",{className:"logo-container",children:(0,uv.jsx)("img",{src:"/logo.png",alt:"TeleShow Logo",className:"logo"})}),(0,uv.jsxs)("div",{className:"profile-upload",children:[(0,uv.jsx)("label",{htmlFor:"profile-pic",children:i?(0,uv.jsx)("img",{src:i,alt:"Profile Preview",className:"profile-preview"}):(0,uv.jsx)("div",{className:"upload-placeholder",children:"Click to Upload"})}),(0,uv.jsx)("input",{type:"file",id:"profile-pic",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(t){r(t);const e=new FileReader;e.onloadend=()=>s(e.result),e.readAsDataURL(t)}}})]}),(0,uv.jsxs)("form",{children:[(0,uv.jsx)("div",{children:(0,uv.jsx)("input",{className:"login-input",type:"text",placeholder:"Username",value:a,onChange:e=>o(e.target.value)})}),(0,uv.jsx)("div",{children:(0,uv.jsx)("input",{className:"login-input",type:"email",placeholder:"Email",value:l,onChange:e=>c(e.target.value)})}),(0,uv.jsx)("div",{children:(0,uv.jsx)("input",{className:"login-input",type:"password",placeholder:"Password",value:u,onChange:e=>d(e.target.value)})}),(0,uv.jsx)("div",{children:(0,uv.jsx)("input",{className:"login-input",type:"password",placeholder:"Confirm Password",value:h,onChange:e=>f(e.target.value)})}),(0,uv.jsx)("button",{className:"login-button secondary",type:"submit",onClick:async t=>{t.preventDefault();let n="";a.trim()?a.length<8&&(n+="Username should be at least eight characters long.\n"):n+="Please provide a username.\n",l.trim()?/\S+@\S+\.\S+/.test(l)||(n+="Email is invalid\n"):n+="Email is required\n",u||(n+="Please provide a password.\n"),u.length<8&&(n+="Password should be at least eight characters long.\n"),/\s/.test(u)&&(n+="No spaces allowed in passwords.\n"),/[a-z]/.test(u)||(n+="Password must contain at least one lowercase character.\n"),/[A-Z]/.test(u)||(n+="Password must contain at least one uppercase character.\n"),/[0-9]/.test(u)||(n+="Password must contain a number.\n"),u!==h&&(n+="Passwords do not match.\n"),""===n?await async function(e,t,n){if(Kn(e.app))return Promise.reject(br(e));const r=Si(e),i=ji(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",is,"EMAIL_PASSWORD_PROVIDER"),s=await i.catch((t=>{throw"auth/password-does-not-meet-requirements"===t.code&&ps(e),t})),a=await ss._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}(lv,l,u).then((t=>{const n=t.user;ms(lv.currentUser,{displayName:a,photoURL:"../../Logo.png"}),alert("Signup successful! Returning to the log-in screen to log in."),console.log(n),e("/")})).catch((e=>{const t=e.code,n=e.message;if(console.log(t,n),"auth/email-already-in-use"===e.code)alert("The email you have entered is already in use.\n");else alert(e.code)})):alert(n)},children:"Sign Up"})]}),(0,uv.jsx)("button",{className:"login-button link",onClick:()=>e("/"),children:"Already have an account? Login"})]})})};const fv=function(){const e=ee(),[n,r]=(0,t.useState)(""),[i,s]=(0,t.useState)("");return(0,uv.jsx)("div",{className:"login-container",children:(0,uv.jsxs)("div",{className:"login-card",children:[(0,uv.jsx)("div",{className:"logo-container",children:(0,uv.jsx)("img",{src:"/logo.png",alt:"TeleShow Logo",className:"logo"})}),(0,uv.jsx)("h2",{className:"login-title",children:"Reset Password"}),(0,uv.jsx)("input",{className:"login-input",type:"email",placeholder:"Enter your email",value:n,onChange:e=>r(e.target.value)}),i&&(0,uv.jsx)("p",{className:"message",children:i}),(0,uv.jsx)("button",{className:"login-button primary",onClick:async()=>{if(!n)return void s("Please enter your email.");const e=ja();try{await async function(e,t,n){const r=Si(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&fs(r,i,n),await ji(r,i,"getOobCode",Bi,"EMAIL_PASSWORD_PROVIDER")}(e,n),s("Password reset link sent! Check your email.")}catch(t){s("Error: "+t.message)}},children:"Send Reset Link"}),(0,uv.jsx)("button",{className:"login-button link",onClick:()=>e("/"),children:"Back to Login"})]})})};var pv={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},mv=t.createContext&&t.createContext(pv),gv=["attr","size","title"];function vv(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function yv(){return yv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yv.apply(this,arguments)}function bv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bv(Object(n),!0).forEach((function(t){Ev(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ev(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _v(e){return e&&e.map(((e,n)=>t.createElement(e.tag,wv({key:n},e.attr),_v(e.child))))}function xv(e){return n=>t.createElement(Sv,yv({attr:wv({},e.attr)},n),_v(e.child))}function Sv(e){var n=n=>{var r,{attr:i,size:s,title:a}=e,o=vv(e,gv),l=s||n.size||"1em";return n.className&&(r=n.className),e.className&&(r=(r?r+" ":"")+e.className),t.createElement("svg",yv({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,o,{className:r,style:wv(wv({color:e.color||n.color},n.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&t.createElement("title",null,a),e.children)};return void 0!==mv?t.createElement(mv.Consumer,null,(e=>n(e))):n(pv)}function kv(e){return xv({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 504C119 504 8 393 8 256S119 8 256 8s248 111 248 248-111 248-248 248zm116-292H256v-70.9c0-10.7-13-16.1-20.5-8.5L121.2 247.5c-4.7 4.7-4.7 12.2 0 16.9l114.3 114.9c7.6 7.6 20.5 2.2 20.5-8.5V300h116c6.6 0 12-5.4 12-12v-64c0-6.6-5.4-12-12-12z"},child:[]}]})(e)}function Tv(e){return xv({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8c137 0 248 111 248 248S393 504 256 504 8 393 8 256 119 8 256 8zM140 300h116v70.9c0 10.7 13 16.1 20.5 8.5l114.3-114.9c4.7-4.7 4.7-12.2 0-16.9l-114.3-115c-7.6-7.6-20.5-2.2-20.5 8.5V212H140c-6.6 0-12 5.4-12 12v64c0 6.6 5.4 12 12 12z"},child:[]}]})(e)}function Cv(e){return xv({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(e)}function Nv(e){return xv({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(e)}function Iv(e){return xv({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(e)}function Rv(e){return xv({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(e)}function Av(e){return xv({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M80 368H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm0-320H16A16 16 0 0 0 0 64v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16V64a16 16 0 0 0-16-16zm0 160H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm416 176H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(e)}function Ov(e){return xv({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(e)}function Pv(e){return xv({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function jv(e){return xv({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(e)}function Dv(e){return xv({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M370.72 133.28C339.458 104.008 298.888 87.962 255.848 88c-77.458.068-144.328 53.178-162.791 126.85-1.344 5.363-6.122 9.15-11.651 9.15H24.103c-7.498 0-13.194-6.807-11.807-14.176C33.933 94.924 134.813 8 256 8c66.448 0 126.791 26.136 171.315 68.685L463.03 40.97C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.749zM32 296h134.059c21.382 0 32.09 25.851 16.971 40.971l-41.75 41.75c31.262 29.273 71.835 45.319 114.876 45.28 77.418-.07 144.315-53.144 162.787-126.849 1.344-5.363 6.122-9.15 11.651-9.15h57.304c7.498 0 13.194 6.807 11.807 14.176C478.067 417.076 377.187 504 256 504c-66.448 0-126.791-26.136-171.315-68.685L48.97 471.03C33.851 486.149 8 475.441 8 454.059V320c0-13.255 10.745-24 24-24z"},child:[]}]})(e)}function Lv(e){return xv({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M439.39 362.29c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71zM67.53 368c21.22-27.97 44.42-74.33 44.53-159.42 0-.2-.06-.38-.06-.58 0-61.86 50.14-112 112-112s112 50.14 112 112c0 .2-.06.38-.06.58.11 85.1 23.31 131.46 44.53 159.42H67.53zM224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64z"},child:[]}]})(e)}function Mv(e){return xv({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5 0-200-89.5-200-200S145.5 56 256 56s200 89.5 200 200-89.5 200-200 200z"},child:[]}]})(e)}function Fv(e){return xv({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M458.4 64.3C400.6 15.7 311.3 23 256 79.3 200.7 23 111.4 15.6 53.6 64.3-21.6 127.6-10.6 230.8 43 285.5l175.4 178.7c10 10.2 23.4 15.9 37.6 15.9 14.3 0 27.6-5.6 37.6-15.8L469 285.6c53.5-54.7 64.7-157.9-10.6-221.3zm-23.6 187.5L259.4 430.5c-2.4 2.4-4.4 2.4-6.8 0L77.2 251.8c-36.5-37.2-43.9-107.6 7.3-150.7 38.9-32.7 98.9-27.8 136.5 10.5l35 35.7 35-35.7c37.8-38.5 97.8-43.2 136.5-10.6 51.1 43.1 43.5 113.9 7.3 150.8z"},child:[]}]})(e)}const Uv=async(e,t)=>{const n=Fg(Ym(cv,"Ratings"),Vg("media_id","==",e),Vg("media_type","==",t)),r=await sv(n,{averageRating:(i="rating",new rg("avg",Cg("average",i)))});var i;return console.log("Average rating: ",r.data().averageRating),null!==r.data().averageRating?r.data().averageRating:0};var Vv=n(139),zv=n.n(Vv);const $v=["as","disabled"];function Bv(e){let{tagName:t,disabled:n,href:r,target:i,rel:s,role:a,onClick:o,tabIndex:l=0,type:c}=e;t||(t=null!=r||null!=i||null!=s?"a":"button");const u={tagName:t};if("button"===t)return[{type:c||"button",disabled:n},u];const d=e=>{(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==o||o(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:null!=a?a:"button",disabled:void 0,tabIndex:n?void 0:l,href:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?s:void 0,onClick:d,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),d(e))}},u]}const Hv=t.forwardRef(((e,t)=>{let{as:n,disabled:r}=e,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,$v);const[s,{tagName:a}]=Bv(Object.assign({tagName:n,disabled:r},i));return(0,uv.jsx)(a,Object.assign({},i,s,{ref:t}))}));Hv.displayName="Button";const qv=Hv,Wv=["xxl","xl","lg","md","sm","xs"],Kv="xs",Gv=t.createContext({prefixes:{},breakpoints:Wv,minBreakpoint:Kv}),{Consumer:Qv,Provider:Yv}=Gv;function Jv(e,n){const{prefixes:r}=(0,t.useContext)(Gv);return e||r[n]||n}function Xv(){const{breakpoints:e}=(0,t.useContext)(Gv);return e}function Zv(){const{minBreakpoint:e}=(0,t.useContext)(Gv);return e}function ey(){const{dir:e}=(0,t.useContext)(Gv);return"rtl"===e}const ty=t.forwardRef(((e,t)=>{let{as:n,bsPrefix:r,variant:i="primary",size:s,active:a=!1,disabled:o=!1,className:l,...c}=e;const u=Jv(r,"btn"),[d,{tagName:h}]=Bv({tagName:n,disabled:o,...c}),f=h;return(0,uv.jsx)(f,{...d,...c,ref:t,disabled:o,className:zv()(l,u,a&&"active",i&&`${u}-${i}`,s&&`${u}-${s}`,c.href&&o&&"disabled")})}));ty.displayName="Button";const ny=ty;function ry(e){return xv({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M2 2v13.5a.5.5 0 0 0 .74.439L8 13.069l5.26 2.87A.5.5 0 0 0 14 15.5V2a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2"},child:[]}]})(e)}function iy(e){return xv({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"circle",attr:{cx:"8",cy:"8",r:"8"},child:[]}]})(e)}function sy(e){return xv({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.5.5 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11z"},child:[]}]})(e)}function ay(e){return xv({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M8 2a.5.5 0 0 1 .5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5A.5.5 0 0 1 8 2"},child:[]}]})(e)}function oy(e){return xv({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5M8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5m3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0"},child:[]}]})(e)}function ly(e){const[n]=(0,t.useState)(""),[r]=(0,t.useState)(0),[i]=(0,t.useState)(""),[s,a]=t.useState(null),[o,l]=(0,t.useState)(0),[c]=t.useState(null),[u,d]=(0,t.useState)(!1),h=Ym(cv,"Ratings"),[f,p]=(0,t.useState)(!0);ev(Fg(h,Vg("user_id","==",n),Vg("media_id","==",r)));return(0,uv.jsxs)(uv.Fragment,{children:[[...Array(5)].map(((t,n)=>{const r=n+1;return u||(a(e.initialRate),l(e.initialAvgRate),d(!0)),(0,uv.jsxs)("label",{children:[(0,uv.jsx)("input",{type:"radio",name:"rate",style:{display:"none"},value:r,onClick:()=>(async t=>{const n=Ym(cv,"Ratings");console.log(e.userId+e.currentMediaID,e.currentMediaType);const r=Fg(n,Vg("user_id","==",e.userID),Vg("media_id","==",e.currentMediaID),Vg("media_type","==",e.currentMediaType)),i=await ev(r);let s=0,o=0;if(i.forEach((e=>{s++,o=e.id})),console.log("Rating Duplicates:",s),a(t),s>0)try{await tv(Jm(cv,"Ratings",o),{rating:t}),console.log("Rating updated successfully."),alert("Rating updated successfully.")}catch(c){console.error("Error updating rating: ",c),alert("Error updating rating: ",c)}else try{await rv(Ym(cv,"Ratings"),{rating:t,user_id:e.userID,media_id:e.currentMediaID,media_type:e.currentMediaType,created_at:av()}),console.log("Rating successfully added to Firestore"),alert("Rating successfully added.")}catch(c){console.error("Error adding rating: ",c),alert("Error adding rating: ",c)}l(await Uv(e.currentMediaID,e.currentMediaType))})(r)}),(0,uv.jsx)(jv,{size:50,style:{cursor:"pointer"},color:r<=(c||s)?"yellow":"black"})]},n)})),(0,uv.jsx)("br",{}),(0,uv.jsx)("strong",{children:"Average Rating:"})," ",o?o.toPrecision(2):0," / 5",(0,uv.jsx)("br",{}),(0,uv.jsxs)(ny,{variant:"danger",onClick:async()=>await(async()=>{let t=0,n=0;const r=Fg(Ym(cv,"Ratings"),Vg("user_id","==",e.userID),Vg("media_id","==",e.currentMediaID),Vg("media_type","==",e.currentMediaType));(await ev(r)).forEach((e=>{n++,t=e.id})),n>0?await nv(Jm(cv,"Ratings",t)).then((()=>{a(0),console.log("Rating deleted successfully."),alert("Rating deleted successfully.")})).catch((e=>{console.log("Error: ",e),alert("Error trying to delete rating: ",e)})):(console.log(`You do not have a rating for this ${"tv"===e.currentMediaType?"show":"movie"} yet.`),alert(`You do not have a rating for this ${"tv"===e.currentMediaType?"show":"movie"} yet.`)),l(await Uv(e.currentMediaID,e.currentMediaType))})(),children:[(0,uv.jsx)(oy,{})," ","Delete my Rating for this "+("tv"===e.currentMediaType?"Show":"Movie")]})]})}const cy=t.forwardRef(((e,t)=>{let{bsPrefix:n,size:r,vertical:i=!1,className:s,role:a="group",as:o="div",...l}=e;const c=Jv(n,"btn-group");let u=c;return i&&(u=`${c}-vertical`),(0,uv.jsx)(o,{...l,ref:t,role:a,className:zv()(s,u,r&&`${c}-${r}`)})}));cy.displayName="ButtonGroup";const uy=cy;var dy=n(173),hy=n.n(dy);const fy={type:hy().string,tooltip:hy().bool,as:hy().elementType},py=t.forwardRef(((e,t)=>{let{as:n="div",className:r,type:i="valid",tooltip:s=!1,...a}=e;return(0,uv.jsx)(n,{...a,ref:t,className:zv()(r,`${i}-${s?"tooltip":"feedback"}`)})}));py.displayName="Feedback",py.propTypes=fy;const my=py,gy=t.createContext({}),vy=t.forwardRef(((e,n)=>{let{id:r,bsPrefix:i,className:s,type:a="checkbox",isValid:o=!1,isInvalid:l=!1,as:c="input",...u}=e;const{controlId:d}=(0,t.useContext)(gy);return i=Jv(i,"form-check-input"),(0,uv.jsx)(c,{...u,ref:n,type:a,id:r||d,className:zv()(s,i,o&&"is-valid",l&&"is-invalid")})}));vy.displayName="FormCheckInput";const yy=vy,by=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:i,htmlFor:s,...a}=e;const{controlId:o}=(0,t.useContext)(gy);return r=Jv(r,"form-check-label"),(0,uv.jsx)("label",{...a,ref:n,htmlFor:s||o,className:zv()(i,r)})}));by.displayName="FormCheckLabel";const wy=by;function Ey(e,n){let r=0;return t.Children.map(e,(e=>t.isValidElement(e)?n(e,r++):e))}const _y=t.forwardRef(((e,n)=>{let{id:r,bsPrefix:i,bsSwitchPrefix:s,inline:a=!1,reverse:o=!1,disabled:l=!1,isValid:c=!1,isInvalid:u=!1,feedbackTooltip:d=!1,feedback:h,feedbackType:f,className:p,style:m,title:g="",type:v="checkbox",label:y,children:b,as:w="input",...E}=e;i=Jv(i,"form-check"),s=Jv(s,"form-switch");const{controlId:_}=(0,t.useContext)(gy),x=(0,t.useMemo)((()=>({controlId:r||_})),[_,r]),S=!b&&null!=y&&!1!==y||function(e,n){return t.Children.toArray(e).some((e=>t.isValidElement(e)&&e.type===n))}(b,wy),k=(0,uv.jsx)(yy,{...E,type:"switch"===v?"checkbox":v,ref:n,isValid:c,isInvalid:u,disabled:l,as:w});return(0,uv.jsx)(gy.Provider,{value:x,children:(0,uv.jsx)("div",{style:m,className:zv()(p,S&&i,a&&`${i}-inline`,o&&`${i}-reverse`,"switch"===v&&s),children:b||(0,uv.jsxs)(uv.Fragment,{children:[k,S&&(0,uv.jsx)(wy,{title:g,children:y}),h&&(0,uv.jsx)(my,{type:f,tooltip:d,children:h})]})})})}));_y.displayName="FormCheck";const xy=Object.assign(_y,{Input:yy,Label:wy});var Sy=n(440),ky=n.n(Sy);const Ty=t.forwardRef(((e,n)=>{let{bsPrefix:r,type:i,size:s,htmlSize:a,id:o,className:l,isValid:c=!1,isInvalid:u=!1,plaintext:d,readOnly:h,as:f="input",...p}=e;const{controlId:m}=(0,t.useContext)(gy);return r=Jv(r,"form-control"),(0,uv.jsx)(f,{...p,type:i,size:a,ref:n,readOnly:h,id:o||m,className:zv()(l,d?`${r}-plaintext`:r,s&&`${r}-${s}`,"color"===i&&`${r}-color`,c&&"is-valid",u&&"is-invalid")})}));Ty.displayName="FormControl";const Cy=Object.assign(Ty,{Feedback:my}),Ny=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...s}=e;return r=Jv(r,"form-floating"),(0,uv.jsx)(i,{ref:t,className:zv()(n,r),...s})}));Ny.displayName="FormFloating";const Iy=Ny,Ry=t.forwardRef(((e,n)=>{let{controlId:r,as:i="div",...s}=e;const a=(0,t.useMemo)((()=>({controlId:r})),[r]);return(0,uv.jsx)(gy.Provider,{value:a,children:(0,uv.jsx)(i,{...s,ref:n})})}));Ry.displayName="FormGroup";const Ay=Ry;const Oy=t.forwardRef(((e,t)=>{const[{className:n,...r},{as:i="div",bsPrefix:s,spans:a}]=function(e){let{as:t,bsPrefix:n,className:r,...i}=e;n=Jv(n,"col");const s=Xv(),a=Zv(),o=[],l=[];return s.forEach((e=>{const t=i[e];let r,s,c;delete i[e],"object"===typeof t&&null!=t?({span:r,offset:s,order:c}=t):r=t;const u=e!==a?`-${e}`:"";r&&o.push(!0===r?`${n}${u}`:`${n}${u}-${r}`),null!=c&&l.push(`order${u}-${c}`),null!=s&&l.push(`offset${u}-${s}`)})),[{...i,className:zv()(r,...o,...l)},{as:t,bsPrefix:n,spans:o}]}(e);return(0,uv.jsx)(i,{...r,ref:t,className:zv()(n,!a.length&&s)})}));Oy.displayName="Col";const Py=Oy,jy=t.forwardRef(((e,n)=>{let{as:r="label",bsPrefix:i,column:s=!1,visuallyHidden:a=!1,className:o,htmlFor:l,...c}=e;const{controlId:u}=(0,t.useContext)(gy);i=Jv(i,"form-label");let d="col-form-label";"string"===typeof s&&(d=`${d} ${d}-${s}`);const h=zv()(o,i,a&&"visually-hidden",s&&d);return l=l||u,s?(0,uv.jsx)(Py,{ref:n,as:"label",className:h,htmlFor:l,...c}):(0,uv.jsx)(r,{ref:n,className:h,htmlFor:l,...c})}));jy.displayName="FormLabel";const Dy=jy,Ly=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:i,id:s,...a}=e;const{controlId:o}=(0,t.useContext)(gy);return r=Jv(r,"form-range"),(0,uv.jsx)("input",{...a,type:"range",ref:n,className:zv()(i,r),id:s||o})}));Ly.displayName="FormRange";const My=Ly,Fy=t.forwardRef(((e,n)=>{let{bsPrefix:r,size:i,htmlSize:s,className:a,isValid:o=!1,isInvalid:l=!1,id:c,...u}=e;const{controlId:d}=(0,t.useContext)(gy);return r=Jv(r,"form-select"),(0,uv.jsx)("select",{...u,size:s,ref:n,className:zv()(a,r,i&&`${r}-${i}`,o&&"is-valid",l&&"is-invalid"),id:c||d})}));Fy.displayName="FormSelect";const Uy=Fy,Vy=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:i="small",muted:s,...a}=e;return n=Jv(n,"form-text"),(0,uv.jsx)(i,{...a,ref:t,className:zv()(r,n,s&&"text-muted")})}));Vy.displayName="FormText";const zy=Vy,$y=t.forwardRef(((e,t)=>(0,uv.jsx)(xy,{...e,ref:t,type:"switch"})));$y.displayName="Switch";const By=Object.assign($y,{Input:xy.Input,Label:xy.Label}),Hy=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,children:i,controlId:s,label:a,...o}=e;return n=Jv(n,"form-floating"),(0,uv.jsxs)(Ay,{ref:t,className:zv()(r,n),controlId:s,...o,children:[i,(0,uv.jsx)("label",{htmlFor:s,children:a})]})}));Hy.displayName="FloatingLabel";const qy=Hy,Wy={_ref:hy().any,validated:hy().bool,as:hy().elementType},Ky=t.forwardRef(((e,t)=>{let{className:n,validated:r,as:i="form",...s}=e;return(0,uv.jsx)(i,{...s,ref:t,className:zv()(n,r&&"was-validated")})}));Ky.displayName="Form",Ky.propTypes=Wy;const Gy=Object.assign(Ky,{Group:Ay,Control:Cy,Floating:Iy,Check:xy,Switch:By,Label:Dy,Text:zy,Range:My,Select:Uy,FloatingLabel:qy}),Qy=!("undefined"===typeof window||!window.document||!window.document.createElement);var Yy=!1,Jy=!1;try{var Xy={get passive(){return Yy=!0},get once(){return Jy=Yy=!0}};Qy&&(window.addEventListener("test",Xy,Xy),window.removeEventListener("test",Xy,!0))}catch(mN){}const Zy=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!Jy){var i=r.once,s=r.capture,a=n;!Jy&&i&&(a=n.__once||function e(r){this.removeEventListener(t,e,s),n.call(this,r)},n.__once=a),e.addEventListener(t,a,Yy?r:s)}e.addEventListener(t,n,r)};function eb(e){return e&&e.ownerDocument||document}const tb=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};var nb;function rb(e){if((!nb&&0!==nb||e)&&Qy){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),nb=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return nb}const ib=function(e){const n=(0,t.useRef)(e);return(0,t.useEffect)((()=>{n.current=e}),[e]),n};function sb(e){const n=ib(e);return(0,t.useCallback)((function(){return n.current&&n.current(...arguments)}),[n])}const ab=e=>e&&"function"!==typeof e?t=>{e.current=t}:e;const ob=function(e,n){return(0,t.useMemo)((()=>function(e,t){const n=ab(e),r=ab(t);return e=>{n&&n(e),r&&r(e)}}(e,n)),[e,n])};function lb(e){const n=function(e){const n=(0,t.useRef)(e);return n.current=e,n}(e);(0,t.useEffect)((()=>()=>n.current()),[])}function cb(e,t){return function(e){var t=eb(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var ub=/([A-Z])/g;var db=/^ms-/;function hb(e){return function(e){return e.replace(ub,"-$1").toLowerCase()}(e).replace(db,"-ms-")}var fb=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;const pb=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(hb(t))||cb(e).getPropertyValue(hb(t));Object.keys(t).forEach((function(i){var s=t[i];s||0===s?!function(e){return!(!e||!fb.test(e))}(i)?n+=hb(i)+": "+s+";":r+=i+"("+s+") ":e.style.removeProperty(hb(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n};const mb=function(e,t,n,r){return Zy(e,t,n,r),function(){tb(e,t,n,r)}};function gb(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)}),t+n),s=mb(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),s()}}function vb(e,t,n,r){null==n&&(n=function(e){var t=pb(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=gb(e,n,r),s=mb(e,"transitionend",t);return function(){i(),s()}}function yb(e){void 0===e&&(e=eb());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(mN){return e.body}}function bb(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}var wb=n(950);function Eb(){const e=(0,t.useRef)(!0),n=(0,t.useRef)((()=>e.current));return(0,t.useEffect)((()=>(e.current=!0,()=>{e.current=!1})),[]),n.current}function _b(e){const n=function(e){const n=(0,t.useRef)(e);return n.current=e,n}(e);(0,t.useEffect)((()=>()=>n.current()),[])}function xb(e){const n=(0,t.useRef)(null);return(0,t.useEffect)((()=>{n.current=e})),n.current}const Sb=function(e){const n=(0,t.useRef)(e);return(0,t.useEffect)((()=>{n.current=e}),[e]),n};function kb(e){const n=Sb(e);return(0,t.useCallback)((function(){return n.current&&n.current(...arguments)}),[n])}function Tb(e){return`data-rr-ui-${e}`}const Cb=Tb("modal-open");const Nb=class{constructor(){let{ownerDocument:e,handleContainerOverflow:t=!0,isRTL:n=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.handleContainerOverflow=t,this.isRTL=n,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style={overflow:r.style.overflow,[n]:r.style[n]},e.scrollBarWidth&&(t[n]=`${parseInt(pb(r,n)||"0",10)+e.scrollBarWidth}px`),r.setAttribute(Cb,""),pb(r,t)}reset(){[...this.modals].forEach((e=>this.remove(e)))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(Cb),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}remove(e){const t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}},Ib=(0,t.createContext)(Qy?window:void 0);Ib.Provider;function Rb(){return(0,t.useContext)(Ib)}const Ab=(e,t)=>Qy?null==e?(t||eb()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;const Ob=e=>e&&"function"!==typeof e?t=>{e.current=t}:e;const Pb=function(e,n){return(0,t.useMemo)((()=>function(e,t){const n=Ob(e),r=Ob(t);return e=>{n&&n(e),r&&r(e)}}(e,n)),[e,n])},jb="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product,Db="undefined"!==typeof document||jb?t.useLayoutEffect:t.useEffect;function Lb(e){if(!e||"function"===typeof e)return null;const{major:n}=function(){const e=t.version.split(".");return{major:+e[0],minor:+e[1],patch:+e[2]}}();return n>=19?e.props.ref:e.ref}const Mb=function(e){let{children:n,in:r,onExited:i,mountOnEnter:s,unmountOnExit:a}=e;const o=(0,t.useRef)(null),l=(0,t.useRef)(r),c=kb(i);(0,t.useEffect)((()=>{r?l.current=!0:c(o.current)}),[r,c]);const u=Pb(o,Lb(n)),d=(0,t.cloneElement)(n,{ref:u});return r?d:a||!l.current&&s?null:d},Fb=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];const Ub=["component"];const Vb=t.forwardRef(((e,n)=>{let{component:r}=e;const i=function(e){let{onEnter:n,onEntering:r,onEntered:i,onExit:s,onExiting:a,onExited:o,addEndListener:l,children:c}=e,u=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,Fb);const d=(0,t.useRef)(null),h=Pb(d,Lb(c)),f=e=>t=>{e&&d.current&&e(d.current,t)},p=(0,t.useCallback)(f(n),[n]),m=(0,t.useCallback)(f(r),[r]),g=(0,t.useCallback)(f(i),[i]),v=(0,t.useCallback)(f(s),[s]),y=(0,t.useCallback)(f(a),[a]),b=(0,t.useCallback)(f(o),[o]),w=(0,t.useCallback)(f(l),[l]);return Object.assign({},u,{nodeRef:d},n&&{onEnter:p},r&&{onEntering:m},i&&{onEntered:g},s&&{onExit:v},a&&{onExiting:y},o&&{onExited:b},l&&{addEndListener:w},{children:"function"===typeof c?(e,t)=>c(e,Object.assign({},t,{ref:h})):(0,t.cloneElement)(c,{ref:h})})}(function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,Ub));return(0,uv.jsx)(r,Object.assign({ref:n},i))})),zb=Vb;function $b(e){let{children:n,in:r,onExited:i,onEntered:s,transition:a}=e;const[o,l]=(0,t.useState)(!r);r&&o&&l(!1);const c=function(e){let{in:n,onTransition:r}=e;const i=(0,t.useRef)(null),s=(0,t.useRef)(!0),a=kb(r);return Db((()=>{if(!i.current)return;let e=!1;return a({in:n,element:i.current,initial:s.current,isStale:()=>e}),()=>{e=!0}}),[n,a]),Db((()=>(s.current=!1,()=>{s.current=!0})),[]),i}({in:!!r,onTransition:e=>{Promise.resolve(a(e)).then((()=>{e.isStale()||(e.in?null==s||s(e.element,e.initial):(l(!0),null==i||i(e.element)))}),(t=>{throw e.in||l(!0),t}))}}),u=Pb(c,Lb(n));return o&&!r?null:(0,t.cloneElement)(n,{ref:u})}function Bb(e,t,n){return e?(0,uv.jsx)(zb,Object.assign({},n,{component:e})):t?(0,uv.jsx)($b,Object.assign({},n,{transition:t})):(0,uv.jsx)(Mb,Object.assign({},n))}const Hb=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];let qb;function Wb(e){const n=Rb(),r=e||function(e){return qb||(qb=new Nb({ownerDocument:null==e?void 0:e.document})),qb}(n),i=(0,t.useRef)({dialog:null,backdrop:null});return Object.assign(i.current,{add:()=>r.add(i.current),remove:()=>r.remove(i.current),isTopModal:()=>r.isTopModal(i.current),setDialogRef:(0,t.useCallback)((e=>{i.current.dialog=e}),[]),setBackdropRef:(0,t.useCallback)((e=>{i.current.backdrop=e}),[])})}const Kb=(0,t.forwardRef)(((e,n)=>{let{show:r=!1,role:i="dialog",className:s,style:a,children:o,backdrop:l=!0,keyboard:c=!0,onBackdropClick:u,onEscapeKeyDown:d,transition:h,runTransition:f,backdropTransition:p,runBackdropTransition:m,autoFocus:g=!0,enforceFocus:v=!0,restoreFocus:y=!0,restoreFocusOptions:b,renderDialog:w,renderBackdrop:E=e=>(0,uv.jsx)("div",Object.assign({},e)),manager:_,container:x,onShow:S,onHide:k=()=>{},onExit:T,onExited:C,onExiting:N,onEnter:I,onEntering:R,onEntered:A}=e,O=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,Hb);const P=Rb(),j=function(e,n){const r=Rb(),[i,s]=(0,t.useState)((()=>Ab(e,null==r?void 0:r.document)));if(!i){const t=Ab(e);t&&s(t)}return(0,t.useEffect)((()=>{n&&i&&n(i)}),[n,i]),(0,t.useEffect)((()=>{const t=Ab(e);t!==i&&s(t)}),[e,i]),i}(x),D=Wb(_),L=Eb(),M=xb(r),[F,U]=(0,t.useState)(!r),V=(0,t.useRef)(null);(0,t.useImperativeHandle)(n,(()=>D),[D]),Qy&&!M&&r&&(V.current=yb(null==P?void 0:P.document)),r&&F&&U(!1);const z=kb((()=>{if(D.add(),K.current=mb(document,"keydown",q),W.current=mb(document,"focus",(()=>setTimeout(B)),!0),S&&S(),g){var e,t;const n=yb(null!=(e=null==(t=D.dialog)?void 0:t.ownerDocument)?e:null==P?void 0:P.document);D.dialog&&n&&!bb(D.dialog,n)&&(V.current=n,D.dialog.focus())}})),$=kb((()=>{var e;(D.remove(),null==K.current||K.current(),null==W.current||W.current(),y)&&(null==(e=V.current)||null==e.focus||e.focus(b),V.current=null)}));(0,t.useEffect)((()=>{r&&j&&z()}),[r,j,z]),(0,t.useEffect)((()=>{F&&$()}),[F,$]),_b((()=>{$()}));const B=kb((()=>{if(!v||!L()||!D.isTopModal())return;const e=yb(null==P?void 0:P.document);D.dialog&&e&&!bb(D.dialog,e)&&D.dialog.focus()})),H=kb((e=>{e.target===e.currentTarget&&(null==u||u(e),!0===l&&k())})),q=kb((e=>{c&&function(e){return"Escape"===e.code||27===e.keyCode}(e)&&D.isTopModal()&&(null==d||d(e),e.defaultPrevented||k())})),W=(0,t.useRef)(),K=(0,t.useRef)();if(!j)return null;const G=Object.assign({role:i,ref:D.setDialogRef,"aria-modal":"dialog"===i||void 0},O,{style:a,className:s,tabIndex:-1});let Q=w?w(G):(0,uv.jsx)("div",Object.assign({},G,{children:t.cloneElement(o,{role:"document"})}));Q=Bb(h,f,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!r,onExit:T,onExiting:N,onExited:function(){U(!0),null==C||C(...arguments)},onEnter:I,onEntering:R,onEntered:A,children:Q});let Y=null;return l&&(Y=E({ref:D.setBackdropRef,onClick:H}),Y=Bb(p,m,{in:!!r,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Y})),(0,uv.jsx)(uv.Fragment,{children:wb.createPortal((0,uv.jsxs)(uv.Fragment,{children:[Y,Q]}),j)})}));Kb.displayName="Modal";const Gb=Object.assign(Kb,{Manager:Nb});var Qb=Function.prototype.bind.call(Function.prototype.call,[].slice);function Yb(e,t){return Qb(e.querySelectorAll(t))}function Jb(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}const Xb=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Zb=".sticky-top",ew=".navbar-toggler";class tw extends Nb{adjustAndStore(e,t,n){const r=t.style[e];t.dataset[e]=r,pb(t,{[e]:`${parseFloat(pb(t,e))+n}px`})}restore(e,t){const n=t.dataset[e];void 0!==n&&(delete t.dataset[e],pb(t,{[e]:n}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();var n,r;if(r="modal-open",(n=t).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"===typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)),!e.scrollBarWidth)return;const i=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";Yb(t,Xb).forEach((t=>this.adjustAndStore(i,t,e.scrollBarWidth))),Yb(t,Zb).forEach((t=>this.adjustAndStore(s,t,-e.scrollBarWidth))),Yb(t,ew).forEach((t=>this.adjustAndStore(s,t,e.scrollBarWidth)))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();var n,r;r="modal-open",(n=t).classList?n.classList.remove(r):"string"===typeof n.className?n.className=Jb(n.className,r):n.setAttribute("class",Jb(n.className&&n.className.baseVal||"",r));const i=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";Yb(t,Xb).forEach((e=>this.restore(i,e))),Yb(t,Zb).forEach((e=>this.restore(s,e))),Yb(t,ew).forEach((e=>this.restore(s,e)))}}let nw;function rw(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}function iw(e,t){return iw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},iw(e,t)}const sw=!1,aw=t.createContext(null);var ow="unmounted",lw="exited",cw="entering",uw="entered",dw="exiting",hw=function(e){var n,r;function i(t,n){var r;r=e.call(this,t,n)||this;var i,s=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?s?(i=lw,r.appearStatus=cw):i=uw:i=t.unmountOnExit||t.mountOnEnter?ow:lw,r.state={status:i},r.nextCallback=null,r}r=e,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,iw(n,r),i.getDerivedStateFromProps=function(e,t){return e.in&&t.status===ow?{status:lw}:null};var s=i.prototype;return s.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},s.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==cw&&n!==uw&&(t=cw):n!==cw&&n!==uw||(t=dw)}this.updateStatus(!1,t)},s.componentWillUnmount=function(){this.cancelNextCallback()},s.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},s.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===cw){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:wb.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===lw&&this.setState({status:ow})},s.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[wb.findDOMNode(this),r],s=i[0],a=i[1],o=this.getTimeouts(),l=r?o.appear:o.enter;!e&&!n||sw?this.safeSetState({status:uw},(function(){t.props.onEntered(s)})):(this.props.onEnter(s,a),this.safeSetState({status:cw},(function(){t.props.onEntering(s,a),t.onTransitionEnd(l,(function(){t.safeSetState({status:uw},(function(){t.props.onEntered(s,a)}))}))})))},s.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:wb.findDOMNode(this);t&&!sw?(this.props.onExit(r),this.safeSetState({status:dw},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:lw},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:lw},(function(){e.props.onExited(r)}))},s.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},s.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},s.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},s.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:wb.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],s=i[0],a=i[1];this.props.addEndListener(s,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},s.render=function(){var e=this.state.status;if(e===ow)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,rw(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(aw.Provider,{value:null},"function"===typeof r?r(e,i):t.cloneElement(t.Children.only(r),i))},i}(t.Component);function fw(){}hw.contextType=aw,hw.propTypes={},hw.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:fw,onEntering:fw,onEntered:fw,onExit:fw,onExiting:fw,onExited:fw},hw.UNMOUNTED=ow,hw.EXITED=lw,hw.ENTERING=cw,hw.ENTERED=uw,hw.EXITING=dw;const pw=hw;function mw(e,t){const n=pb(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function gw(e,t){const n=mw(e,"transitionDuration"),r=mw(e,"transitionDelay"),i=vb(e,(n=>{n.target===e&&(i(),t(n))}),n+r)}const vw=t.forwardRef(((e,n)=>{let{onEnter:r,onEntering:i,onEntered:s,onExit:a,onExiting:o,onExited:l,addEndListener:c,children:u,childRef:d,...h}=e;const f=(0,t.useRef)(null),p=ob(f,d),m=e=>{var t;p((t=e)&&"setState"in t?wb.findDOMNode(t):null!=t?t:null)},g=e=>t=>{e&&f.current&&e(f.current,t)},v=(0,t.useCallback)(g(r),[r]),y=(0,t.useCallback)(g(i),[i]),b=(0,t.useCallback)(g(s),[s]),w=(0,t.useCallback)(g(a),[a]),E=(0,t.useCallback)(g(o),[o]),_=(0,t.useCallback)(g(l),[l]),x=(0,t.useCallback)(g(c),[c]);return(0,uv.jsx)(pw,{ref:n,...h,onEnter:v,onEntered:b,onEntering:y,onExit:w,onExited:_,onExiting:E,addEndListener:x,nodeRef:f,children:"function"===typeof u?(e,t)=>u(e,{...t,ref:m}):t.cloneElement(u,{ref:m})})})),yw=vw,bw={[cw]:"show",[uw]:"show"},ww=t.forwardRef(((e,n)=>{let{className:r,children:i,transitionClasses:s={},onEnter:a,...o}=e;const l={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...o},c=(0,t.useCallback)(((e,t)=>{!function(e){e.offsetHeight}(e),null==a||a(e,t)}),[a]);return(0,uv.jsx)(yw,{ref:n,addEndListener:gw,...l,onEnter:c,childRef:Lb(i),children:(e,n)=>t.cloneElement(i,{...n,className:zv()("fade",r,i.props.className,bw[e],s[e])})})}));ww.displayName="Fade";const Ew=ww,_w=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...s}=e;return r=Jv(r,"modal-body"),(0,uv.jsx)(i,{ref:t,className:zv()(n,r),...s})}));_w.displayName="ModalBody";const xw=_w,Sw=t.createContext({onHide(){}}),kw=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,contentClassName:i,centered:s,size:a,fullscreen:o,children:l,scrollable:c,...u}=e;n=Jv(n,"modal");const d=`${n}-dialog`,h="string"===typeof o?`${n}-fullscreen-${o}`:`${n}-fullscreen`;return(0,uv.jsx)("div",{...u,ref:t,className:zv()(d,r,a&&`${n}-${a}`,s&&`${d}-centered`,c&&`${d}-scrollable`,o&&h),children:(0,uv.jsx)("div",{className:zv()(`${n}-content`,i),children:l})})}));kw.displayName="ModalDialog";const Tw=kw,Cw=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...s}=e;return r=Jv(r,"modal-footer"),(0,uv.jsx)(i,{ref:t,className:zv()(n,r),...s})}));Cw.displayName="ModalFooter";const Nw=Cw,Iw={"aria-label":hy().string,onClick:hy().func,variant:hy().oneOf(["white"])},Rw=t.forwardRef(((e,t)=>{let{className:n,variant:r,"aria-label":i="Close",...s}=e;return(0,uv.jsx)("button",{ref:t,type:"button",className:zv()("btn-close",r&&`btn-close-${r}`,n),"aria-label":i,...s})}));Rw.displayName="CloseButton",Rw.propTypes=Iw;const Aw=Rw,Ow=t.forwardRef(((e,n)=>{let{closeLabel:r="Close",closeVariant:i,closeButton:s=!1,onHide:a,children:o,...l}=e;const c=(0,t.useContext)(Sw),u=sb((()=>{null==c||c.onHide(),null==a||a()}));return(0,uv.jsxs)("div",{ref:n,...l,children:[o,s&&(0,uv.jsx)(Aw,{"aria-label":r,variant:i,onClick:u})]})})),Pw=Ow,jw=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,closeLabel:i="Close",closeButton:s=!1,...a}=e;return n=Jv(n,"modal-header"),(0,uv.jsx)(Pw,{ref:t,...a,className:zv()(r,n),closeLabel:i,closeButton:s})}));jw.displayName="ModalHeader";const Dw=jw,Lw=e=>t.forwardRef(((t,n)=>(0,uv.jsx)("div",{...t,ref:n,className:zv()(t.className,e)}))),Mw=Lw("h4"),Fw=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i=Mw,...s}=e;return r=Jv(r,"modal-title"),(0,uv.jsx)(i,{ref:t,className:zv()(n,r),...s})}));Fw.displayName="ModalTitle";const Uw=Fw;function Vw(e){return(0,uv.jsx)(Ew,{...e,timeout:null})}function zw(e){return(0,uv.jsx)(Ew,{...e,timeout:null})}const $w=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:i,style:s,dialogClassName:a,contentClassName:o,children:l,dialogAs:c=Tw,"data-bs-theme":u,"aria-labelledby":d,"aria-describedby":h,"aria-label":f,show:p=!1,animation:m=!0,backdrop:g=!0,keyboard:v=!0,onEscapeKeyDown:y,onShow:b,onHide:w,container:E,autoFocus:_=!0,enforceFocus:x=!0,restoreFocus:S=!0,restoreFocusOptions:k,onEntered:T,onExit:C,onExiting:N,onEnter:I,onEntering:R,onExited:A,backdropClassName:O,manager:P,...j}=e;const[D,L]=(0,t.useState)({}),[M,F]=(0,t.useState)(!1),U=(0,t.useRef)(!1),V=(0,t.useRef)(!1),z=(0,t.useRef)(null),[$,B]=(0,t.useState)(null),H=ob(n,B),q=sb(w),W=ey();r=Jv(r,"modal");const K=(0,t.useMemo)((()=>({onHide:q})),[q]);function G(){return P||function(e){return nw||(nw=new tw(e)),nw}({isRTL:W})}function Q(e){if(!Qy)return;const t=G().getScrollbarWidth()>0,n=e.scrollHeight>eb(e).documentElement.clientHeight;L({paddingRight:t&&!n?rb():void 0,paddingLeft:!t&&n?rb():void 0})}const Y=sb((()=>{$&&Q($.dialog)}));lb((()=>{tb(window,"resize",Y),null==z.current||z.current()}));const J=()=>{U.current=!0},X=e=>{U.current&&$&&e.target===$.dialog&&(V.current=!0),U.current=!1},Z=()=>{F(!0),z.current=vb($.dialog,(()=>{F(!1)}))},ee=e=>{"static"!==g?V.current||e.target!==e.currentTarget?V.current=!1:null==w||w():(e=>{e.target===e.currentTarget&&Z()})(e)},te=(0,t.useCallback)((e=>(0,uv.jsx)("div",{...e,className:zv()(`${r}-backdrop`,O,!m&&"show")})),[m,O,r]),ne={...s,...D};ne.display="block";return(0,uv.jsx)(Sw.Provider,{value:K,children:(0,uv.jsx)(Gb,{show:p,ref:H,backdrop:g,container:E,keyboard:!0,autoFocus:_,enforceFocus:x,restoreFocus:S,restoreFocusOptions:k,onEscapeKeyDown:e=>{v?null==y||y(e):(e.preventDefault(),"static"===g&&Z())},onShow:b,onHide:w,onEnter:(e,t)=>{e&&Q(e),null==I||I(e,t)},onEntering:(e,t)=>{null==R||R(e,t),Zy(window,"resize",Y)},onEntered:T,onExit:e=>{null==z.current||z.current(),null==C||C(e)},onExiting:N,onExited:e=>{e&&(e.style.display=""),null==A||A(e),tb(window,"resize",Y)},manager:G(),transition:m?Vw:void 0,backdropTransition:m?zw:void 0,renderBackdrop:te,renderDialog:e=>(0,uv.jsx)("div",{role:"dialog",...e,style:ne,className:zv()(i,r,M&&`${r}-static`,!m&&"show"),onClick:g?ee:void 0,onMouseUp:X,"data-bs-theme":u,"aria-label":f,"aria-labelledby":d,"aria-describedby":h,children:(0,uv.jsx)(c,{...j,onMouseDown:J,className:a,contentClassName:o,children:l})})})})}));$w.displayName="Modal";const Bw=Object.assign($w,{Body:xw,Header:Dw,Title:Uw,Footer:Nw,Dialog:Tw,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),Hw=e=>{const[n,r]=(0,t.useState)({text:"",remainingCharacters:255}),[i,s]=(0,t.useState)({editText:"",editRemainingCharacters:255}),[a,o]=(0,t.useState)(""),[l,c]=(0,t.useState)(!1),[u,d]=(0,t.useState)(!1),[h,f]=(0,t.useState)(!1),p=()=>{f(!1)},[m,g]=(0,t.useState)(!1),[v,y]=(0,t.useState)([]),[b,w]=(0,t.useState)(!0),[E,_]=(0,t.useState)(e.displayMode),[x,S]=(0,t.useState)(!1),k=async()=>{g(!0),_(e.displayMode);const t=await(async()=>{const t=Fg(Ym(cv,"Comments"),Vg("media_id","==",e.mediaId),Vg("media_type","==",e.mediaType)),n=await ev(t),r=[];return n.forEach((e=>{r.push({id:e.id,...e.data()})})),r})();y([...t]),g(!1)};return b&&(k(),w(!1)),(0,uv.jsxs)(uv.Fragment,{children:[(0,uv.jsx)("h3",{children:"Comments"}),(0,uv.jsx)("textarea",{className:"commentTextBox "+("lightMode"===E?"textBox-light":"textBox-dark"),rows:5,placeholder:"Add a Comment...",name:"text",value:n.text,onChange:e=>{const{name:t,value:i}=e.target;r({...n,[t]:i})},maxLength:255}),(0,uv.jsx)("p",{children:n.remainingCharacters-n.text.length+"/255 characters remaining."}),(0,uv.jsx)(Gy.Group,{children:(0,uv.jsx)(Gy.Check,{id:"spoiler",label:"Spoiler?"})}),(0,uv.jsxs)(ny,{variant:"success",onClick:async()=>await(async()=>{const t=Ym(cv,"Comments");if(""!==n.text.trim())try{const r=await rv(t,{user_id:e.userID,media_id:e.mediaId,media_type:e.mediaType,text:n.text,score:0,isEdited:"no",date_added:av(),username:e.displayName,profilePic:"https://static.vecteezy.com/system/resources/thumbnails/009/292/244/small/default-avatar-icon-of-social-media-user-vector.jpg",spoiler:document.getElementById("spoiler").checked});console.log("Wrote comment with ID: ",r.id),alert("Comment added."),n.text="",await k()}catch(mN){console.error("Error adding comment: ",mN)}else alert("No content in comment detected.")})(),children:[(0,uv.jsx)(ay,{})," Add a Comment"]}),(0,uv.jsx)("br",{}),(0,uv.jsx)("br",{}),(0,uv.jsx)(Gy.Check,{type:"switch",onClick:()=>{S((e=>!e))},label:"Show Spoilers?"}),(0,uv.jsx)("br",{}),u?"Loading...":(0,uv.jsxs)(Bw,{show:h,onHide:p,backdrop:"static",keyboard:!1,dialogClassName:"detail-modal",children:[(0,uv.jsx)(Bw.Header,{closeButton:!0,children:(0,uv.jsx)(Bw.Title,{children:"Edit Comment"})}),(0,uv.jsxs)(Bw.Body,{children:[(0,uv.jsx)("textarea",{className:"commentTextBox textBox-dark",rows:5,placeholder:"Edit your Comment...",name:"editText",value:i.editText,onChange:e=>{const{name:t,value:n}=e.target;s({...i,[t]:n})},maxLength:255}),(0,uv.jsx)("p",{children:i.editRemainingCharacters-i.editText.length+"/255 characters remaining."}),(0,uv.jsx)(Gy.Group,{children:(0,uv.jsx)(Gy.Check,{id:"editSpoiler",label:"Spoiler?",defaultChecked:!!l})}),(0,uv.jsxs)(ny,{variant:"success",onClick:async()=>await(async e=>{if(i.editText.trim())try{await tv(Jm(cv,"Comments",e),{text:i.editText,isEdited:"yes",spoiler:document.getElementById("editSpoiler").checked}),console.log("Comment updated successfully."),alert("Comment updated successfully.")}catch(t){console.log("Error updating comment: ",t),alert("Error updating comment: ",t)}else alert("You cannot enter an empty comment.");await k()})(a),children:[(0,uv.jsx)(sy,{})," Update Comment"]})]}),(0,uv.jsx)(Bw.Footer,{children:(0,uv.jsx)(ny,{variant:"outline-secondary",onClick:()=>p(),style:{backgroundColor:"silver"},children:"Close"})})]}),(0,uv.jsxs)("div",{className:"comments",children:[m&&(0,uv.jsx)("p",{children:"Loading..."}),v.length>0&&v.map((t=>(0,uv.jsxs)("div",{className:"comment "+("lightMode"===E?"comment-light":"comment-dark"),children:[(0,uv.jsxs)("div",{className:"commentHead",children:[(0,uv.jsx)("div",{className:"commentHeadPic",children:(0,uv.jsx)("img",{className:"commentProfilePic",src:t.profilePic,alt:"profile pic"})}),(0,uv.jsxs)("div",{className:"commentHeadUsername",children:[(0,uv.jsx)("h4",{className:"commentUsername",children:t.username}),(0,uv.jsxs)("p",{children:["Created ",t.date_added.toDate().toDateString()," ","yes"===t.isEdited?"(Edited)":""," ",t.spoiler?(0,uv.jsx)("strong",{children:" (Spoiler)"}):""]})]})]}),(0,uv.jsx)("div",{className:"commentText",children:t.spoiler&&!x?"This comment contains spoilers.":t.text}),t.user_id===e.userID?(0,uv.jsxs)(uy,{children:[(0,uv.jsxs)(ny,{variant:"success",style:{marginTop:"5px"},onClick:async()=>await(async(e,t,n)=>{d(!0),i.editText=t,c(n),o(e),f(!0),d(!1)})(t.id,t.text,t.spoiler),children:[(0,uv.jsx)(sy,{})," Edit My Comment"]}),(0,uv.jsxs)(ny,{variant:"danger",style:{marginTop:"5px"},onClick:async()=>await(async e=>{await nv(Jm(cv,"Comments",e)).then((()=>{console.log("Comment deleted successfully."),alert("Comment deleted successfully.")})).catch((e=>{console.log(e),alert("Error trying to delete comment: ",e)})),await k()})(t.id),children:[(0,uv.jsx)(oy,{})," Delete My Comment"]})]}):""]},t.id)))]})]})};function qw(e,t){return function(){return e.apply(t,arguments)}}const{toString:Ww}=Object.prototype,{getPrototypeOf:Kw}=Object,{iterator:Gw,toStringTag:Qw}=Symbol,Yw=(Jw=Object.create(null),e=>{const t=Ww.call(e);return Jw[t]||(Jw[t]=t.slice(8,-1).toLowerCase())});var Jw;const Xw=e=>(e=e.toLowerCase(),t=>Yw(t)===e),Zw=e=>t=>typeof t===e,{isArray:eE}=Array,tE=Zw("undefined");const nE=Xw("ArrayBuffer");const rE=Zw("string"),iE=Zw("function"),sE=Zw("number"),aE=e=>null!==e&&"object"===typeof e,oE=e=>{if("object"!==Yw(e))return!1;const t=Kw(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Qw in e)&&!(Gw in e)},lE=Xw("Date"),cE=Xw("File"),uE=Xw("Blob"),dE=Xw("FileList"),hE=Xw("URLSearchParams"),[fE,pE,mE,gE]=["ReadableStream","Request","Response","Headers"].map(Xw);function vE(e,t){let n,r,{allOwnKeys:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),eE(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=i?Object.getOwnPropertyNames(e):Object.keys(e),s=r.length;let a;for(n=0;n<s;n++)a=r[n],t.call(null,e[a],a,e)}}function yE(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const bE="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,wE=e=>!tE(e)&&e!==bE;const EE=(_E="undefined"!==typeof Uint8Array&&Kw(Uint8Array),e=>_E&&e instanceof _E);var _E;const xE=Xw("HTMLFormElement"),SE=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),kE=Xw("RegExp"),TE=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};vE(n,((n,i)=>{let s;!1!==(s=t(n,i,e))&&(r[i]=s||n)})),Object.defineProperties(e,r)};const CE=Xw("AsyncFunction"),NE=((e,t)=>{return e?setImmediate:t?(n=`axios@${Math.random()}`,r=[],bE.addEventListener("message",(e=>{let{source:t,data:i}=e;t===bE&&i===n&&r.length&&r.shift()()}),!1),e=>{r.push(e),bE.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,iE(bE.postMessage)),IE="undefined"!==typeof queueMicrotask?queueMicrotask.bind(bE):"undefined"!==typeof process&&process.nextTick||NE,RE={isArray:eE,isArrayBuffer:nE,isBuffer:function(e){return null!==e&&!tE(e)&&null!==e.constructor&&!tE(e.constructor)&&iE(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||iE(e.append)&&("formdata"===(t=Yw(e))||"object"===t&&iE(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&nE(e.buffer),t},isString:rE,isNumber:sE,isBoolean:e=>!0===e||!1===e,isObject:aE,isPlainObject:oE,isReadableStream:fE,isRequest:pE,isResponse:mE,isHeaders:gE,isUndefined:tE,isDate:lE,isFile:cE,isBlob:uE,isRegExp:kE,isFunction:iE,isStream:e=>aE(e)&&iE(e.pipe),isURLSearchParams:hE,isTypedArray:EE,isFileList:dE,forEach:vE,merge:function e(){const{caseless:t}=wE(this)&&this||{},n={},r=(r,i)=>{const s=t&&yE(n,i)||i;oE(n[s])&&oE(r)?n[s]=e(n[s],r):oE(r)?n[s]=e({},r):eE(r)?n[s]=r.slice():n[s]=r};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&vE(arguments[i],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return vE(t,((t,r)=>{n&&iE(t)?e[r]=qw(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,s,a;const o={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)a=i[s],r&&!r(a,e,t)||o[a]||(t[a]=e[a],o[a]=!0);e=!1!==n&&Kw(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Yw,kindOfTest:Xw,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(eE(e))return e;let t=e.length;if(!sE(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Gw]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:xE,hasOwnProperty:SE,hasOwnProp:SE,reduceDescriptors:TE,freezeMethods:e=>{TE(e,((t,n)=>{if(iE(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];iE(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return eE(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:yE,global:bE,isContextDefined:wE,isSpecCompliantForm:function(e){return!!(e&&iE(e.append)&&"FormData"===e[Qw]&&e[Gw])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(aE(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const i=eE(e)?[]:{};return vE(e,((e,t)=>{const s=n(e,r+1);!tE(s)&&(i[t]=s)})),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:CE,isThenable:e=>e&&(aE(e)||iE(e))&&iE(e.then)&&iE(e.catch),setImmediate:NE,asap:IE,isIterable:e=>null!=e&&iE(e[Gw])};function AE(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}RE.inherits(AE,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:RE.toJSONObject(this.config),code:this.code,status:this.status}}});const OE=AE.prototype,PE={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{PE[e]={value:e}})),Object.defineProperties(AE,PE),Object.defineProperty(OE,"isAxiosError",{value:!0}),AE.from=(e,t,n,r,i,s)=>{const a=Object.create(OE);return RE.toFlatObject(e,a,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),AE.call(a,e.message,t,n,r,i),a.cause=e,a.name=e.name,s&&Object.assign(a,s),a};const jE=AE;function DE(e){return RE.isPlainObject(e)||RE.isArray(e)}function LE(e){return RE.endsWith(e,"[]")?e.slice(0,-2):e}function ME(e,t,n){return e?e.concat(t).map((function(e,t){return e=LE(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const FE=RE.toFlatObject(RE,{},null,(function(e){return/^is[A-Z]/.test(e)}));const UE=function(e,t,n){if(!RE.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=RE.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!RE.isUndefined(t[e])}))).metaTokens,i=n.visitor||c,s=n.dots,a=n.indexes,o=(n.Blob||"undefined"!==typeof Blob&&Blob)&&RE.isSpecCompliantForm(t);if(!RE.isFunction(i))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(RE.isDate(e))return e.toISOString();if(!o&&RE.isBlob(e))throw new jE("Blob is not supported. Use a Buffer instead.");return RE.isArrayBuffer(e)||RE.isTypedArray(e)?o&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){let o=e;if(e&&!i&&"object"===typeof e)if(RE.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(RE.isArray(e)&&function(e){return RE.isArray(e)&&!e.some(DE)}(e)||(RE.isFileList(e)||RE.endsWith(n,"[]"))&&(o=RE.toArray(e)))return n=LE(n),o.forEach((function(e,r){!RE.isUndefined(e)&&null!==e&&t.append(!0===a?ME([n],r,s):null===a?n:n+"[]",l(e))})),!1;return!!DE(e)||(t.append(ME(i,n,s),l(e)),!1)}const u=[],d=Object.assign(FE,{defaultVisitor:c,convertValue:l,isVisitable:DE});if(!RE.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!RE.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),RE.forEach(n,(function(n,s){!0===(!(RE.isUndefined(n)||null===n)&&i.call(t,n,RE.isString(s)?s.trim():s,r,d))&&e(n,r?r.concat(s):[s])})),u.pop()}}(e),t};function VE(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function zE(e,t){this._pairs=[],e&&UE(e,this,t)}const $E=zE.prototype;$E.append=function(e,t){this._pairs.push([e,t])},$E.toString=function(e){const t=e?function(t){return e.call(this,t,VE)}:VE;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const BE=zE;function HE(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function qE(e,t,n){if(!t)return e;const r=n&&n.encode||HE;RE.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(s=i?i(t,n):RE.isURLSearchParams(t)?t.toString():new BE(t,n).toString(r),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}const WE=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){RE.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},KE={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},GE={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:BE,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},QE="undefined"!==typeof window&&"undefined"!==typeof document,YE="object"===typeof navigator&&navigator||void 0,JE=QE&&(!YE||["ReactNative","NativeScript","NS"].indexOf(YE.product)<0),XE="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,ZE=QE&&window.location.href||"http://localhost",e_={...e,...GE};const t_=function(e){function t(e,n,r,i){let s=e[i++];if("__proto__"===s)return!0;const a=Number.isFinite(+s),o=i>=e.length;if(s=!s&&RE.isArray(r)?r.length:s,o)return RE.hasOwnProp(r,s)?r[s]=[r[s],n]:r[s]=n,!a;r[s]&&RE.isObject(r[s])||(r[s]=[]);return t(e,n,r[s],i)&&RE.isArray(r[s])&&(r[s]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],t[s]=e[s];return t}(r[s])),!a}if(RE.isFormData(e)&&RE.isFunction(e.entries)){const n={};return RE.forEachEntry(e,((e,r)=>{t(function(e){return RE.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const n_={transitional:KE,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=RE.isObject(e);i&&RE.isHTMLForm(e)&&(e=new FormData(e));if(RE.isFormData(e))return r?JSON.stringify(t_(e)):e;if(RE.isArrayBuffer(e)||RE.isBuffer(e)||RE.isStream(e)||RE.isFile(e)||RE.isBlob(e)||RE.isReadableStream(e))return e;if(RE.isArrayBufferView(e))return e.buffer;if(RE.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return UE(e,new e_.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return e_.isNode&&RE.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=RE.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return UE(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e,t,n){if(RE.isString(e))try{return(t||JSON.parse)(e),RE.trim(e)}catch(mN){if("SyntaxError"!==mN.name)throw mN}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||n_.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(RE.isResponse(e)||RE.isReadableStream(e))return e;if(e&&RE.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(mN){if(n){if("SyntaxError"===mN.name)throw jE.from(mN,jE.ERR_BAD_RESPONSE,this,null,this.response);throw mN}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:e_.classes.FormData,Blob:e_.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};RE.forEach(["delete","get","head","post","put","patch"],(e=>{n_.headers[e]={}}));const r_=n_,i_=RE.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),s_=Symbol("internals");function a_(e){return e&&String(e).trim().toLowerCase()}function o_(e){return!1===e||null==e?e:RE.isArray(e)?e.map(o_):String(e)}function l_(e,t,n,r,i){return RE.isFunction(r)?r.call(this,t,n):(i&&(t=n),RE.isString(t)?RE.isString(r)?-1!==t.indexOf(r):RE.isRegExp(r)?r.test(t):void 0:void 0)}class c_{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=a_(t);if(!i)throw new Error("header name must be a non-empty string");const s=RE.findKey(r,i);(!s||void 0===r[s]||!0===n||void 0===n&&!1!==r[s])&&(r[s||t]=o_(e))}const s=(e,t)=>RE.forEach(e,((e,n)=>i(e,n,t)));if(RE.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(RE.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))s((e=>{const t={};let n,r,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&i_[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t);else if(RE.isObject(e)&&RE.isIterable(e)){let n,r,i={};for(const t of e){if(!RE.isArray(t))throw TypeError("Object iterator must return a key-value pair");i[r=t[0]]=(n=i[r])?RE.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}s(i,t)}else null!=e&&i(t,e,n);return this}get(e,t){if(e=a_(e)){const n=RE.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(RE.isFunction(t))return t.call(this,e,n);if(RE.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=a_(e)){const n=RE.findKey(this,e);return!(!n||void 0===this[n]||t&&!l_(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=a_(e)){const i=RE.findKey(n,e);!i||t&&!l_(0,n[i],i,t)||(delete n[i],r=!0)}}return RE.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];e&&!l_(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return RE.forEach(this,((r,i)=>{const s=RE.findKey(n,i);if(s)return t[s]=o_(r),void delete t[i];const a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(i):String(i).trim();a!==i&&delete t[i],t[a]=o_(r),n[a]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return RE.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&RE.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[s_]=this[s_]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=a_(e);t[r]||(!function(e,t){const n=RE.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return RE.isArray(e)?e.forEach(r):r(e),this}}c_.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),RE.reduceDescriptors(c_.prototype,((e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}})),RE.freezeMethods(c_);const u_=c_;function d_(e,t){const n=this||r_,r=t||n,i=u_.from(r.headers);let s=r.data;return RE.forEach(e,(function(e){s=e.call(n,s,i.normalize(),t?t.status:void 0)})),i.normalize(),s}function h_(e){return!(!e||!e.__CANCEL__)}function f_(e,t,n){jE.call(this,null==e?"canceled":e,jE.ERR_CANCELED,t,n),this.name="CanceledError"}RE.inherits(f_,jE,{__CANCEL__:!0});const p_=f_;function m_(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new jE("Request failed with status code "+n.status,[jE.ERR_BAD_REQUEST,jE.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const g_=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,s=0,a=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),c=r[a];i||(i=l),n[s]=o,r[s]=l;let u=a,d=0;for(;u!==s;)d+=n[u++],u%=e;if(s=(s+1)%e,s===a&&(a=(a+1)%e),l-i<t)return;const h=c&&l-c;return h?Math.round(1e3*d/h):void 0}};const v_=function(e,t){let n,r,i=0,s=1e3/t;const a=function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();i=s,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-i;for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];t>=s?a(l,e):(n=l,r||(r=setTimeout((()=>{r=null,a(n)}),s-t)))},()=>n&&a(n)]},y_=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const i=g_(50,250);return v_((n=>{const s=n.loaded,a=n.lengthComputable?n.total:void 0,o=s-r,l=i(o);r=s;e({loaded:s,total:a,progress:a?s/a:void 0,bytes:o,rate:l||void 0,estimated:l&&a&&s<=a?(a-s)/l:void 0,event:n,lengthComputable:null!=a,[t?"download":"upload"]:!0})}),n)},b_=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},w_=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return RE.asap((()=>e(...n)))},E_=e_.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,e_.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(e_.origin),e_.navigator&&/(msie|trident)/i.test(e_.navigator.userAgent)):()=>!0,__=e_.hasStandardBrowserEnv?{write(e,t,n,r,i,s){const a=[e+"="+encodeURIComponent(t)];RE.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),RE.isString(r)&&a.push("path="+r),RE.isString(i)&&a.push("domain="+i),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function x_(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const S_=e=>e instanceof u_?{...e}:e;function k_(e,t){t=t||{};const n={};function r(e,t,n,r){return RE.isPlainObject(e)&&RE.isPlainObject(t)?RE.merge.call({caseless:r},e,t):RE.isPlainObject(t)?RE.merge({},t):RE.isArray(t)?t.slice():t}function i(e,t,n,i){return RE.isUndefined(t)?RE.isUndefined(e)?void 0:r(void 0,e,0,i):r(e,t,0,i)}function s(e,t){if(!RE.isUndefined(t))return r(void 0,t)}function a(e,t){return RE.isUndefined(t)?RE.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function o(n,i,s){return s in t?r(n,i):s in e?r(void 0,n):void 0}const l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(e,t,n)=>i(S_(e),S_(t),0,!0)};return RE.forEach(Object.keys(Object.assign({},e,t)),(function(r){const s=l[r]||i,a=s(e[r],t[r],r);RE.isUndefined(a)&&s!==o||(n[r]=a)})),n}const T_=e=>{const t=k_({},e);let n,{data:r,withXSRFToken:i,xsrfHeaderName:s,xsrfCookieName:a,headers:o,auth:l}=t;if(t.headers=o=u_.from(o),t.url=qE(x_(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),RE.isFormData(r))if(e_.hasStandardBrowserEnv||e_.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(!1!==(n=o.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];o.setContentType([e||"multipart/form-data",...t].join("; "))}if(e_.hasStandardBrowserEnv&&(i&&RE.isFunction(i)&&(i=i(t)),i||!1!==i&&E_(t.url))){const e=s&&a&&__.read(a);e&&o.set(s,e)}return t},C_="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const r=T_(e);let i=r.data;const s=u_.from(r.headers).normalize();let a,o,l,c,u,{responseType:d,onUploadProgress:h,onDownloadProgress:f}=r;function p(){c&&c(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(a),r.signal&&r.signal.removeEventListener("abort",a)}let m=new XMLHttpRequest;function g(){if(!m)return;const r=u_.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());m_((function(e){t(e),p()}),(function(e){n(e),p()}),{data:d&&"text"!==d&&"json"!==d?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m}),m=null}m.open(r.method.toUpperCase(),r.url,!0),m.timeout=r.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(n(new jE("Request aborted",jE.ECONNABORTED,e,m)),m=null)},m.onerror=function(){n(new jE("Network Error",jE.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const i=r.transitional||KE;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new jE(t,i.clarifyTimeoutError?jE.ETIMEDOUT:jE.ECONNABORTED,e,m)),m=null},void 0===i&&s.setContentType(null),"setRequestHeader"in m&&RE.forEach(s.toJSON(),(function(e,t){m.setRequestHeader(t,e)})),RE.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),d&&"json"!==d&&(m.responseType=r.responseType),f&&([l,u]=y_(f,!0),m.addEventListener("progress",l)),h&&m.upload&&([o,c]=y_(h),m.upload.addEventListener("progress",o),m.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(a=t=>{m&&(n(!t||t.type?new p_(null,e,m):t),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(a),r.signal&&(r.signal.aborted?a():r.signal.addEventListener("abort",a)));const v=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);v&&-1===e_.protocols.indexOf(v)?n(new jE("Unsupported protocol "+v+":",jE.ERR_BAD_REQUEST,e)):m.send(i||null)}))},N_=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const i=function(e){if(!n){n=!0,a();const t=e instanceof Error?e:this.reason;r.abort(t instanceof jE?t:new p_(t instanceof Error?t.message:t))}};let s=t&&setTimeout((()=>{s=null,i(new jE(`timeout ${t} of ms exceeded`,jE.ETIMEDOUT))}),t);const a=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(i):e.removeEventListener("abort",i)})),e=null)};e.forEach((e=>e.addEventListener("abort",i)));const{signal:o}=r;return o.unsubscribe=()=>RE.asap(a),o}},I_=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,i=0;for(;i<n;)r=i+t,yield e.slice(i,r),i=r},R_=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}},A_=(e,t,n,r)=>{const i=async function*(e,t){for await(const n of R_(e))yield*I_(n,t)}(e,t);let s,a=0,o=e=>{s||(s=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await i.next();if(t)return o(),void e.close();let s=r.byteLength;if(n){let e=a+=s;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw o(t),t}},cancel:e=>(o(e),i.return())},{highWaterMark:2})},O_="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,P_=O_&&"function"===typeof ReadableStream,j_=O_&&("function"===typeof TextEncoder?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),D_=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(mN){return!1}},L_=P_&&D_((()=>{let e=!1;const t=new Request(e_.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),M_=P_&&D_((()=>RE.isReadableStream(new Response("").body))),F_={stream:M_&&(e=>e.body)};var U_;O_&&(U_=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!F_[e]&&(F_[e]=RE.isFunction(U_[e])?t=>t[e]():(t,n)=>{throw new jE(`Response type '${e}' is not supported`,jE.ERR_NOT_SUPPORT,n)})})));const V_=async(e,t)=>{const n=RE.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(RE.isBlob(e))return e.size;if(RE.isSpecCompliantForm(e)){const t=new Request(e_.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return RE.isArrayBufferView(e)||RE.isArrayBuffer(e)?e.byteLength:(RE.isURLSearchParams(e)&&(e+=""),RE.isString(e)?(await j_(e)).byteLength:void 0)})(t):n},z_=O_&&(async e=>{let{url:t,method:n,data:r,signal:i,cancelToken:s,timeout:a,onDownloadProgress:o,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:h}=T_(e);c=c?(c+"").toLowerCase():"text";let f,p=N_([i,s&&s.toAbortSignal()],a);const m=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let g;try{if(l&&L_&&"get"!==n&&"head"!==n&&0!==(g=await V_(u,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(RE.isFormData(r)&&(e=n.headers.get("content-type"))&&u.setContentType(e),n.body){const[e,t]=b_(g,y_(w_(l)));r=A_(n.body,65536,e,t)}}RE.isString(d)||(d=d?"include":"omit");const i="credentials"in Request.prototype;f=new Request(t,{...h,signal:p,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:i?d:void 0});let s=await fetch(f);const a=M_&&("stream"===c||"response"===c);if(M_&&(o||a&&m)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=s[t]}));const t=RE.toFiniteNumber(s.headers.get("content-length")),[n,r]=o&&b_(t,y_(w_(o),!0))||[];s=new Response(A_(s.body,65536,n,(()=>{r&&r(),m&&m()})),e)}c=c||"text";let v=await F_[RE.findKey(F_,c)||"text"](s,e);return!a&&m&&m(),await new Promise(((t,n)=>{m_(t,n,{data:v,headers:u_.from(s.headers),status:s.status,statusText:s.statusText,config:e,request:f})}))}catch(v){if(m&&m(),v&&"TypeError"===v.name&&/Load failed|fetch/i.test(v.message))throw Object.assign(new jE("Network Error",jE.ERR_NETWORK,e,f),{cause:v.cause||v});throw jE.from(v,v&&v.code,e,f)}}),$_={http:null,xhr:C_,fetch:z_};RE.forEach($_,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(mN){}Object.defineProperty(e,"adapterName",{value:t})}}));const B_=e=>`- ${e}`,H_=e=>RE.isFunction(e)||null===e||!1===e,q_=e=>{e=RE.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let s=0;s<t;s++){let t;if(n=e[s],r=n,!H_(n)&&(r=$_[(t=String(n)).toLowerCase()],void 0===r))throw new jE(`Unknown adapter '${t}'`);if(r)break;i[t||"#"+s]=r}if(!r){const e=Object.entries(i).map((e=>{let[t,n]=e;return`adapter ${t} `+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(B_).join("\n"):" "+B_(e[0]):"as no adapter specified";throw new jE("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function W_(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new p_(null,e)}function K_(e){W_(e),e.headers=u_.from(e.headers),e.data=d_.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return q_(e.adapter||r_.adapter)(e).then((function(t){return W_(e),t.data=d_.call(e,e.transformResponse,t),t.headers=u_.from(t.headers),t}),(function(t){return h_(t)||(W_(e),t&&t.response&&(t.response.data=d_.call(e,e.transformResponse,t.response),t.response.headers=u_.from(t.response.headers))),Promise.reject(t)}))}const G_="1.9.0",Q_={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{Q_[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const Y_={};Q_.transitional=function(e,t,n){function r(e,t){return"[Axios v1.9.0] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,s)=>{if(!1===e)throw new jE(r(i," has been removed"+(t?" in "+t:"")),jE.ERR_DEPRECATED);return t&&!Y_[i]&&(Y_[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,s)}},Q_.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};const J_={assertOptions:function(e,t,n){if("object"!==typeof e)throw new jE("options must be an object",jE.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const s=r[i],a=t[s];if(a){const t=e[s],n=void 0===t||a(t,s,e);if(!0!==n)throw new jE("option "+s+" must be "+n,jE.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new jE("Unknown option "+s,jE.ERR_BAD_OPTION)}},validators:Q_},X_=J_.validators;class Z_{constructor(e){this.defaults=e||{},this.interceptors={request:new WE,response:new WE}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(mN){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=k_(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;void 0!==n&&J_.assertOptions(n,{silentJSONParsing:X_.transitional(X_.boolean),forcedJSONParsing:X_.transitional(X_.boolean),clarifyTimeoutError:X_.transitional(X_.boolean)},!1),null!=r&&(RE.isFunction(r)?t.paramsSerializer={serialize:r}:J_.assertOptions(r,{encode:X_.function,serialize:X_.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),J_.assertOptions(t,{baseUrl:X_.spelling("baseURL"),withXsrfToken:X_.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=i&&RE.merge(i.common,i[t.method]);i&&RE.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=u_.concat(s,i);const a=[];let o=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,a.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let u,d=0;if(!o){const e=[K_.bind(this),void 0];for(e.unshift.apply(e,a),e.push.apply(e,l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=a.length;let h=t;for(d=0;d<u;){const e=a[d++],t=a[d++];try{h=e(h)}catch(f){t.call(this,f);break}}try{c=K_.call(this,h)}catch(f){return Promise.reject(f)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return qE(x_((e=k_(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}RE.forEach(["delete","get","head","options"],(function(e){Z_.prototype[e]=function(t,n){return this.request(k_(n||{},{method:e,url:t,data:(n||{}).data}))}})),RE.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(k_(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Z_.prototype[e]=t(),Z_.prototype[e+"Form"]=t(!0)}));const ex=Z_;class tx{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,i){n.reason||(n.reason=new p_(e,r,i),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new tx((function(t){e=t})),cancel:e}}}const nx=tx;const rx={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(rx).forEach((e=>{let[t,n]=e;rx[n]=t}));const ix=rx;const sx=function e(t){const n=new ex(t),r=qw(ex.prototype.request,n);return RE.extend(r,ex.prototype,n,{allOwnKeys:!0}),RE.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(k_(t,n))},r}(r_);sx.Axios=ex,sx.CanceledError=p_,sx.CancelToken=nx,sx.isCancel=h_,sx.VERSION=G_,sx.toFormData=UE,sx.AxiosError=jE,sx.Cancel=sx.CanceledError,sx.all=function(e){return Promise.all(e)},sx.spread=function(e){return function(t){return e.apply(null,t)}},sx.isAxiosError=function(e){return RE.isObject(e)&&!0===e.isAxiosError},sx.mergeConfig=k_,sx.AxiosHeaders=u_,sx.formToJSON=e=>t_(RE.isHTMLForm(e)?new FormData(e):e),sx.getAdapter=q_,sx.HttpStatusCode=ix,sx.default=sx;const ax=sx;var ox=n(334);const lx="axios-retry";function cx(e){return!e.response&&(!!e.code&&(!["ERR_CANCELED","ECONNABORTED"].includes(e.code)&&ox(e)))}const ux=["get","head","options"],dx=ux.concat(["put","delete"]);function hx(e){return"ECONNABORTED"!==e.code&&(!e.response||429===e.response.status||e.response.status>=500&&e.response.status<=599)}function fx(e){return!!e.config?.method&&(hx(e)&&-1!==dx.indexOf(e.config.method))}function px(e){return cx(e)||fx(e)}function mx(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;const t=e?.response?.headers["retry-after"];if(!t)return 0;let n=1e3*(Number(t)||0);return 0===n&&(n=(new Date(t).valueOf()||0)-Date.now()),Math.max(0,n)}const gx={retries:3,retryCondition:px,retryDelay:function(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return Math.max(0,mx(e))},shouldResetTimeout:!1,onRetry:()=>{},onMaxRetryTimesExceeded:()=>{},validateResponse:null};function vx(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(e,t){return{...gx,...t,...e[lx]}}(e,t||{});return r.retryCount=r.retryCount||0,r.lastRequestTime&&!n||(r.lastRequestTime=Date.now()),e[lx]=r,r}const yx=(e,t)=>{const n=e.interceptors.request.use((e=>(vx(e,t,!0),e[lx]?.validateResponse&&(e.validateStatus=()=>!1),e))),r=e.interceptors.response.use(null,(async n=>{const{config:r}=n;if(!r)return Promise.reject(n);const i=vx(r,t);return n.response&&i.validateResponse?.(n.response)?n.response:await async function(e,t){const{retries:n,retryCondition:r}=e,i=(e.retryCount||0)<n&&r(t);if("object"===typeof i)try{return!1!==await i}catch(s){return!1}return i}(i,n)?async function(e,t,n,r){t.retryCount+=1;const{retryDelay:i,shouldResetTimeout:s,onRetry:a}=t,o=i(t.retryCount,n);if(function(e,t){e.defaults.agent===t.agent&&delete t.agent,e.defaults.httpAgent===t.httpAgent&&delete t.httpAgent,e.defaults.httpsAgent===t.httpsAgent&&delete t.httpsAgent}(e,r),!s&&r.timeout&&t.lastRequestTime){const e=Date.now()-t.lastRequestTime,i=r.timeout-e-o;if(i<=0)return Promise.reject(n);r.timeout=i}return r.transformRequest=[e=>e],await a(t.retryCount,n,r),r.signal?.aborted?Promise.resolve(e(r)):new Promise((t=>{const n=()=>{clearTimeout(i),t(e(r))},i=setTimeout((()=>{t(e(r)),r.signal?.removeEventListener&&r.signal.removeEventListener("abort",n)}),o);r.signal?.addEventListener&&r.signal.addEventListener("abort",n,{once:!0})}))}(e,i,n,r):(await async function(e,t){e.retryCount>=e.retries&&await e.onMaxRetryTimesExceeded(t,e.retryCount)}(i,n),Promise.reject(n))}));return{requestInterceptorId:n,responseInterceptorId:r}};yx.isNetworkError=cx,yx.isSafeRequestError=function(e){return!!e.config?.method&&(hx(e)&&-1!==ux.indexOf(e.config.method))},yx.isIdempotentRequestError=fx,yx.isNetworkOrIdempotentRequestError=px,yx.exponentialDelay=function(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;const t=2**(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*(arguments.length>2&&void 0!==arguments[2]?arguments[2]:100),n=Math.max(t,mx(e));return n+.2*n*Math.random()},yx.linearDelay=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return function(){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;const n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*e;return Math.max(n,mx(t))}},yx.isRetryableError=hx;const bx=yx,wx=t.createContext(null);wx.displayName="InputGroupContext";const Ex=wx,_x=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="span",...s}=e;return r=Jv(r,"input-group-text"),(0,uv.jsx)(i,{ref:t,className:zv()(n,r),...s})}));_x.displayName="InputGroupText";const xx=_x,Sx=t.forwardRef(((e,n)=>{let{bsPrefix:r,size:i,hasValidation:s,className:a,as:o="div",...l}=e;r=Jv(r,"input-group");const c=(0,t.useMemo)((()=>({})),[]);return(0,uv.jsx)(Ex.Provider,{value:c,children:(0,uv.jsx)(o,{ref:n,...l,className:zv()(a,r,i&&`${r}-${i}`,s&&"has-validation")})})}));Sx.displayName="InputGroup";const kx=Object.assign(Sx,{Text:xx,Radio:e=>(0,uv.jsx)(xx,{children:(0,uv.jsx)(yy,{type:"radio",...e})}),Checkbox:e=>(0,uv.jsx)(xx,{children:(0,uv.jsx)(yy,{type:"checkbox",...e})})});function Tx(e,n,r){const i=(0,t.useRef)(void 0!==e),[s,a]=(0,t.useState)(n),o=void 0!==e,l=i.current;return i.current=o,!o&&l&&s!==n&&a(n),[o?e:s,(0,t.useCallback)((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const[i,...s]=t;let o=null==r?void 0:r(i,...s);return a(i),o}),[r])]}function Cx(){const[,e]=(0,t.useReducer)((e=>e+1),0);return e}const Nx=t.createContext(null);var Ix=Object.prototype.hasOwnProperty;function Rx(e,t,n){for(n of e.keys())if(Ax(n,t))return n}function Ax(e,t){var n,r,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&Ax(e[r],t[r]););return-1===r}if(n===Set){if(e.size!==t.size)return!1;for(r of e){if((i=r)&&"object"===typeof i&&!(i=Rx(t,i)))return!1;if(!t.has(i))return!1}return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e){if((i=r[0])&&"object"===typeof i&&!(i=Rx(t,i)))return!1;if(!Ax(r[1],t.get(i)))return!1}return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return-1===r}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return-1===r}if(!n||"object"===typeof e){for(n in r=0,e){if(Ix.call(e,n)&&++r&&!Ix.call(t,n))return!1;if(!(n in t)||!Ax(e[n],t[n]))return!1}return Object.keys(t).length===r}}return e!==e&&t!==t}const Ox=function(e){const n=Eb();return[e[0],(0,t.useCallback)((t=>{if(n())return e[1](t)}),[n,e[1]])]};function Px(e){return e.split("-")[0]}function jx(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Dx(e){return e instanceof jx(e).Element||e instanceof Element}function Lx(e){return e instanceof jx(e).HTMLElement||e instanceof HTMLElement}function Mx(e){return"undefined"!==typeof ShadowRoot&&(e instanceof jx(e).ShadowRoot||e instanceof ShadowRoot)}var Fx=Math.max,Ux=Math.min,Vx=Math.round;function zx(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function $x(){return!/^((?!chrome|android).)*safari/i.test(zx())}function Bx(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),i=1,s=1;t&&Lx(e)&&(i=e.offsetWidth>0&&Vx(r.width)/e.offsetWidth||1,s=e.offsetHeight>0&&Vx(r.height)/e.offsetHeight||1);var a=(Dx(e)?jx(e):window).visualViewport,o=!$x()&&n,l=(r.left+(o&&a?a.offsetLeft:0))/i,c=(r.top+(o&&a?a.offsetTop:0))/s,u=r.width/i,d=r.height/s;return{width:u,height:d,top:c,right:l+u,bottom:c+d,left:l,x:l,y:c}}function Hx(e){var t=Bx(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function qx(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Mx(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Wx(e){return e?(e.nodeName||"").toLowerCase():null}function Kx(e){return jx(e).getComputedStyle(e)}function Gx(e){return["table","td","th"].indexOf(Wx(e))>=0}function Qx(e){return((Dx(e)?e.ownerDocument:e.document)||window.document).documentElement}function Yx(e){return"html"===Wx(e)?e:e.assignedSlot||e.parentNode||(Mx(e)?e.host:null)||Qx(e)}function Jx(e){return Lx(e)&&"fixed"!==Kx(e).position?e.offsetParent:null}function Xx(e){for(var t=jx(e),n=Jx(e);n&&Gx(n)&&"static"===Kx(n).position;)n=Jx(n);return n&&("html"===Wx(n)||"body"===Wx(n)&&"static"===Kx(n).position)?t:n||function(e){var t=/firefox/i.test(zx());if(/Trident/i.test(zx())&&Lx(e)&&"fixed"===Kx(e).position)return null;var n=Yx(e);for(Mx(n)&&(n=n.host);Lx(n)&&["html","body"].indexOf(Wx(n))<0;){var r=Kx(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}function Zx(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function eS(e,t,n){return Fx(e,Ux(t,n))}function tS(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function nS(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}var rS="top",iS="bottom",sS="right",aS="left",oS="auto",lS=[rS,iS,sS,aS],cS="start",uS="end",dS="viewport",hS="popper",fS=lS.reduce((function(e,t){return e.concat([t+"-"+cS,t+"-"+uS])}),[]),pS=[].concat(lS,[oS]).reduce((function(e,t){return e.concat([t,t+"-"+cS,t+"-"+uS])}),[]),mS=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];const gS={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,s=n.elements.arrow,a=n.modifiersData.popperOffsets,o=Px(n.placement),l=Zx(o),c=[aS,sS].indexOf(o)>=0?"height":"width";if(s&&a){var u=function(e,t){return tS("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:nS(e,lS))}(i.padding,n),d=Hx(s),h="y"===l?rS:aS,f="y"===l?iS:sS,p=n.rects.reference[c]+n.rects.reference[l]-a[l]-n.rects.popper[c],m=a[l]-n.rects.reference[l],g=Xx(s),v=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,y=p/2-m/2,b=u[h],w=v-d[c]-u[f],E=v/2-d[c]/2+y,_=eS(b,E,w),x=l;n.modifiersData[r]=((t={})[x]=_,t.centerOffset=_-E,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&qx(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function vS(e){return e.split("-")[1]}var yS={top:"auto",right:"auto",bottom:"auto",left:"auto"};function bS(e){var t,n=e.popper,r=e.popperRect,i=e.placement,s=e.variation,a=e.offsets,o=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,d=e.isFixed,h=a.x,f=void 0===h?0:h,p=a.y,m=void 0===p?0:p,g="function"===typeof u?u({x:f,y:m}):{x:f,y:m};f=g.x,m=g.y;var v=a.hasOwnProperty("x"),y=a.hasOwnProperty("y"),b=aS,w=rS,E=window;if(c){var _=Xx(n),x="clientHeight",S="clientWidth";if(_===jx(n)&&"static"!==Kx(_=Qx(n)).position&&"absolute"===o&&(x="scrollHeight",S="scrollWidth"),i===rS||(i===aS||i===sS)&&s===uS)w=iS,m-=(d&&_===E&&E.visualViewport?E.visualViewport.height:_[x])-r.height,m*=l?1:-1;if(i===aS||(i===rS||i===iS)&&s===uS)b=sS,f-=(d&&_===E&&E.visualViewport?E.visualViewport.width:_[S])-r.width,f*=l?1:-1}var k,T=Object.assign({position:o},c&&yS),C=!0===u?function(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:Vx(n*i)/i||0,y:Vx(r*i)/i||0}}({x:f,y:m},jx(n)):{x:f,y:m};return f=C.x,m=C.y,l?Object.assign({},T,((k={})[w]=y?"0":"",k[b]=v?"0":"",k.transform=(E.devicePixelRatio||1)<=1?"translate("+f+"px, "+m+"px)":"translate3d("+f+"px, "+m+"px, 0)",k)):Object.assign({},T,((t={})[w]=y?m+"px":"",t[b]=v?f+"px":"",t.transform="",t))}const wS={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,s=n.adaptive,a=void 0===s||s,o=n.roundOffsets,l=void 0===o||o,c={placement:Px(t.placement),variation:vS(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,bS(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,bS(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var ES={passive:!0};const _S={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,s=void 0===i||i,a=r.resize,o=void 0===a||a,l=jx(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&c.forEach((function(e){e.addEventListener("scroll",n.update,ES)})),o&&l.addEventListener("resize",n.update,ES),function(){s&&c.forEach((function(e){e.removeEventListener("scroll",n.update,ES)})),o&&l.removeEventListener("resize",n.update,ES)}},data:{}};var xS={left:"right",right:"left",bottom:"top",top:"bottom"};function SS(e){return e.replace(/left|right|bottom|top/g,(function(e){return xS[e]}))}var kS={start:"end",end:"start"};function TS(e){return e.replace(/start|end/g,(function(e){return kS[e]}))}function CS(e){var t=jx(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function NS(e){return Bx(Qx(e)).left+CS(e).scrollLeft}function IS(e){var t=Kx(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function RS(e){return["html","body","#document"].indexOf(Wx(e))>=0?e.ownerDocument.body:Lx(e)&&IS(e)?e:RS(Yx(e))}function AS(e,t){var n;void 0===t&&(t=[]);var r=RS(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),s=jx(r),a=i?[s].concat(s.visualViewport||[],IS(r)?r:[]):r,o=t.concat(a);return i?o:o.concat(AS(Yx(a)))}function OS(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function PS(e,t,n){return t===dS?OS(function(e,t){var n=jx(e),r=Qx(e),i=n.visualViewport,s=r.clientWidth,a=r.clientHeight,o=0,l=0;if(i){s=i.width,a=i.height;var c=$x();(c||!c&&"fixed"===t)&&(o=i.offsetLeft,l=i.offsetTop)}return{width:s,height:a,x:o+NS(e),y:l}}(e,n)):Dx(t)?function(e,t){var n=Bx(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):OS(function(e){var t,n=Qx(e),r=CS(e),i=null==(t=e.ownerDocument)?void 0:t.body,s=Fx(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=Fx(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),o=-r.scrollLeft+NS(e),l=-r.scrollTop;return"rtl"===Kx(i||n).direction&&(o+=Fx(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:a,x:o,y:l}}(Qx(e)))}function jS(e,t,n,r){var i="clippingParents"===t?function(e){var t=AS(Yx(e)),n=["absolute","fixed"].indexOf(Kx(e).position)>=0&&Lx(e)?Xx(e):e;return Dx(n)?t.filter((function(e){return Dx(e)&&qx(e,n)&&"body"!==Wx(e)})):[]}(e):[].concat(t),s=[].concat(i,[n]),a=s[0],o=s.reduce((function(t,n){var i=PS(e,n,r);return t.top=Fx(i.top,t.top),t.right=Ux(i.right,t.right),t.bottom=Ux(i.bottom,t.bottom),t.left=Fx(i.left,t.left),t}),PS(e,a,r));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function DS(e){var t,n=e.reference,r=e.element,i=e.placement,s=i?Px(i):null,a=i?vS(i):null,o=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(s){case rS:t={x:o,y:n.y-r.height};break;case iS:t={x:o,y:n.y+n.height};break;case sS:t={x:n.x+n.width,y:l};break;case aS:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var c=s?Zx(s):null;if(null!=c){var u="y"===c?"height":"width";switch(a){case cS:t[c]=t[c]-(n[u]/2-r[u]/2);break;case uS:t[c]=t[c]+(n[u]/2-r[u]/2)}}return t}function LS(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,s=n.strategy,a=void 0===s?e.strategy:s,o=n.boundary,l=void 0===o?"clippingParents":o,c=n.rootBoundary,u=void 0===c?dS:c,d=n.elementContext,h=void 0===d?hS:d,f=n.altBoundary,p=void 0!==f&&f,m=n.padding,g=void 0===m?0:m,v=tS("number"!==typeof g?g:nS(g,lS)),y=h===hS?"reference":hS,b=e.rects.popper,w=e.elements[p?y:h],E=jS(Dx(w)?w:w.contextElement||Qx(e.elements.popper),l,u,a),_=Bx(e.elements.reference),x=DS({reference:_,element:b,strategy:"absolute",placement:i}),S=OS(Object.assign({},b,x)),k=h===hS?S:_,T={top:E.top-k.top+v.top,bottom:k.bottom-E.bottom+v.bottom,left:E.left-k.left+v.left,right:k.right-E.right+v.right},C=e.modifiersData.offset;if(h===hS&&C){var N=C[i];Object.keys(T).forEach((function(e){var t=[sS,iS].indexOf(e)>=0?1:-1,n=[rS,iS].indexOf(e)>=0?"y":"x";T[e]+=N[n]*t}))}return T}const MS={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,s=void 0===i||i,a=n.altAxis,o=void 0===a||a,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,f=n.flipVariations,p=void 0===f||f,m=n.allowedAutoPlacements,g=t.options.placement,v=Px(g),y=l||(v===g||!p?[SS(g)]:function(e){if(Px(e)===oS)return[];var t=SS(e);return[TS(e),t,TS(t)]}(g)),b=[g].concat(y).reduce((function(e,n){return e.concat(Px(n)===oS?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,s=n.rootBoundary,a=n.padding,o=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?pS:l,u=vS(r),d=u?o?fS:fS.filter((function(e){return vS(e)===u})):lS,h=d.filter((function(e){return c.indexOf(e)>=0}));0===h.length&&(h=d);var f=h.reduce((function(t,n){return t[n]=LS(e,{placement:n,boundary:i,rootBoundary:s,padding:a})[Px(n)],t}),{});return Object.keys(f).sort((function(e,t){return f[e]-f[t]}))}(t,{placement:n,boundary:u,rootBoundary:d,padding:c,flipVariations:p,allowedAutoPlacements:m}):n)}),[]),w=t.rects.reference,E=t.rects.popper,_=new Map,x=!0,S=b[0],k=0;k<b.length;k++){var T=b[k],C=Px(T),N=vS(T)===cS,I=[rS,iS].indexOf(C)>=0,R=I?"width":"height",A=LS(t,{placement:T,boundary:u,rootBoundary:d,altBoundary:h,padding:c}),O=I?N?sS:aS:N?iS:rS;w[R]>E[R]&&(O=SS(O));var P=SS(O),j=[];if(s&&j.push(A[C]<=0),o&&j.push(A[O]<=0,A[P]<=0),j.every((function(e){return e}))){S=T,x=!1;break}_.set(T,j)}if(x)for(var D=function(e){var t=b.find((function(t){var n=_.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return S=t,"break"},L=p?3:1;L>0;L--){if("break"===D(L))break}t.placement!==S&&(t.modifiersData[r]._skip=!0,t.placement=S,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function FS(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function US(e){return[rS,sS,iS,aS].some((function(t){return e[t]>=0}))}const VS={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,s=void 0===i?[0,0]:i,a=pS.reduce((function(e,n){return e[n]=function(e,t,n){var r=Px(e),i=[aS,rS].indexOf(r)>=0?-1:1,s="function"===typeof n?n(Object.assign({},t,{placement:e})):n,a=s[0],o=s[1];return a=a||0,o=(o||0)*i,[aS,sS].indexOf(r)>=0?{x:o,y:a}:{x:a,y:o}}(n,t.rects,s),e}),{}),o=a[t.placement],l=o.x,c=o.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=a}};const zS={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,s=void 0===i||i,a=n.altAxis,o=void 0!==a&&a,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,h=n.tether,f=void 0===h||h,p=n.tetherOffset,m=void 0===p?0:p,g=LS(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),v=Px(t.placement),y=vS(t.placement),b=!y,w=Zx(v),E="x"===w?"y":"x",_=t.modifiersData.popperOffsets,x=t.rects.reference,S=t.rects.popper,k="function"===typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,T="number"===typeof k?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),C=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,N={x:0,y:0};if(_){if(s){var I,R="y"===w?rS:aS,A="y"===w?iS:sS,O="y"===w?"height":"width",P=_[w],j=P+g[R],D=P-g[A],L=f?-S[O]/2:0,M=y===cS?x[O]:S[O],F=y===cS?-S[O]:-x[O],U=t.elements.arrow,V=f&&U?Hx(U):{width:0,height:0},z=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},$=z[R],B=z[A],H=eS(0,x[O],V[O]),q=b?x[O]/2-L-H-$-T.mainAxis:M-H-$-T.mainAxis,W=b?-x[O]/2+L+H+B+T.mainAxis:F+H+B+T.mainAxis,K=t.elements.arrow&&Xx(t.elements.arrow),G=K?"y"===w?K.clientTop||0:K.clientLeft||0:0,Q=null!=(I=null==C?void 0:C[w])?I:0,Y=P+W-Q,J=eS(f?Ux(j,P+q-Q-G):j,P,f?Fx(D,Y):D);_[w]=J,N[w]=J-P}if(o){var X,Z="x"===w?rS:aS,ee="x"===w?iS:sS,te=_[E],ne="y"===E?"height":"width",re=te+g[Z],ie=te-g[ee],se=-1!==[rS,aS].indexOf(v),ae=null!=(X=null==C?void 0:C[E])?X:0,oe=se?re:te-x[ne]-S[ne]-ae+T.altAxis,le=se?te+x[ne]+S[ne]-ae-T.altAxis:ie,ce=f&&se?function(e,t,n){var r=eS(e,t,n);return r>n?n:r}(oe,te,le):eS(f?oe:re,te,f?le:ie);_[E]=ce,N[E]=ce-te}t.modifiersData[r]=N}},requiresIfExists:["offset"]};function $S(e,t,n){void 0===n&&(n=!1);var r=Lx(t),i=Lx(t)&&function(e){var t=e.getBoundingClientRect(),n=Vx(t.width)/e.offsetWidth||1,r=Vx(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),s=Qx(t),a=Bx(e,i,n),o={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&(("body"!==Wx(t)||IS(s))&&(o=function(e){return e!==jx(e)&&Lx(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:CS(e);var t}(t)),Lx(t)?((l=Bx(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):s&&(l.x=NS(s))),{x:a.left+o.scrollLeft-l.x,y:a.top+o.scrollTop-l.y,width:a.width,height:a.height}}function BS(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function HS(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var qS={placement:"bottom",modifiers:[],strategy:"absolute"};function WS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function KS(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,s=void 0===i?qS:i;return function(e,t,n){void 0===n&&(n=s);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},qS,s),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},a=[],o=!1,l={state:i,setOptions:function(n){var o="function"===typeof n?n(i.options):n;c(),i.options=Object.assign({},s,i.options,o),i.scrollParents={reference:Dx(e)?AS(e):e.contextElement?AS(e.contextElement):[],popper:AS(t)};var u=function(e){var t=BS(e);return mS.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,i.options.modifiers)));return i.orderedModifiers=u.filter((function(e){return e.enabled})),i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,s=e.effect;if("function"===typeof s){var o=s({state:i,name:t,instance:l,options:r}),c=function(){};a.push(o||c)}})),l.update()},forceUpdate:function(){if(!o){var e=i.elements,t=e.reference,n=e.popper;if(WS(t,n)){i.rects={reference:$S(t,Xx(n),"fixed"===i.options.strategy),popper:Hx(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var s=i.orderedModifiers[r],a=s.fn,c=s.options,u=void 0===c?{}:c,d=s.name;"function"===typeof a&&(i=a({state:i,options:u,name:d,instance:l})||i)}else i.reset=!1,r=-1}}},update:HS((function(){return new Promise((function(e){l.forceUpdate(),e(i)}))})),destroy:function(){c(),o=!0}};if(!WS(e,t))return l;function c(){a.forEach((function(e){return e()})),a=[]}return l.setOptions(n).then((function(e){!o&&n.onFirstUpdate&&n.onFirstUpdate(e)})),l}}const GS=KS({defaultModifiers:[{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,s=t.modifiersData.preventOverflow,a=LS(t,{elementContext:"reference"}),o=LS(t,{altBoundary:!0}),l=FS(a,r),c=FS(o,i,s),u=US(l),d=US(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=DS({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},wS,_S,VS,MS,zS,gS]}),QS=["enabled","placement","strategy","modifiers"];const YS={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},JS={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:e=>{let{state:t}=e;return()=>{const{reference:e,popper:n}=t.elements;if("removeAttribute"in e){const t=(e.getAttribute("aria-describedby")||"").split(",").filter((e=>e.trim()!==n.id));t.length?e.setAttribute("aria-describedby",t.join(",")):e.removeAttribute("aria-describedby")}}},fn:e=>{let{state:t}=e;var n;const{popper:r,reference:i}=t.elements,s=null==(n=r.getAttribute("role"))?void 0:n.toLowerCase();if(r.id&&"tooltip"===s&&"setAttribute"in i){const e=i.getAttribute("aria-describedby");if(e&&-1!==e.split(",").indexOf(r.id))return;i.setAttribute("aria-describedby",e?`${e},${r.id}`:r.id)}}},XS=[];const ZS=function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{enabled:i=!0,placement:s="bottom",strategy:a="absolute",modifiers:o=XS}=r,l=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(r,QS);const c=(0,t.useRef)(o),u=(0,t.useRef)(),d=(0,t.useCallback)((()=>{var e;null==(e=u.current)||e.update()}),[]),h=(0,t.useCallback)((()=>{var e;null==(e=u.current)||e.forceUpdate()}),[]),[f,p]=Ox((0,t.useState)({placement:s,update:d,forceUpdate:h,attributes:{},styles:{popper:{},arrow:{}}})),m=(0,t.useMemo)((()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:e=>{let{state:t}=e;const n={},r={};Object.keys(t.elements).forEach((e=>{n[e]=t.styles[e],r[e]=t.attributes[e]})),p({state:t,styles:n,attributes:r,update:d,forceUpdate:h,placement:t.placement})}})),[d,h,p]),g=(0,t.useMemo)((()=>(Ax(c.current,o)||(c.current=o),c.current)),[o]);return(0,t.useEffect)((()=>{u.current&&i&&u.current.setOptions({placement:s,strategy:a,modifiers:[...g,m,YS]})}),[a,s,m,i,g]),(0,t.useEffect)((()=>{if(i&&null!=e&&null!=n)return u.current=GS(e,n,Object.assign({},l,{placement:s,strategy:a,modifiers:[...g,JS,m]})),()=>{null!=u.current&&(u.current.destroy(),u.current=void 0,p((e=>Object.assign({},e,{attributes:{},styles:{popper:{}}}))))}}),[i,e,n]),f},ek=()=>{};const tk=e=>e&&("current"in e?e.current:e),nk={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};const rk=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ek,{disabled:r,clickTrigger:i="click"}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=(0,t.useRef)(!1),a=(0,t.useRef)(!1),o=(0,t.useCallback)((t=>{const n=tk(e);var r;ky()(!!n,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),s.current=!n||!!((r=t).metaKey||r.altKey||r.ctrlKey||r.shiftKey)||!function(e){return 0===e.button}(t)||!!bb(n,t.target)||a.current,a.current=!1}),[e]),l=kb((t=>{const n=tk(e);n&&bb(n,t.target)?a.current=!0:a.current=!1})),c=kb((e=>{s.current||n(e)}));(0,t.useEffect)((()=>{var t,n;if(r||null==e)return;const s=eb(tk(e)),a=s.defaultView||window;let u=null!=(t=a.event)?t:null==(n=a.parent)?void 0:n.event,d=null;nk[i]&&(d=mb(s,nk[i],l,!0));const h=mb(s,i,o,!0),f=mb(s,i,(e=>{e!==u?c(e):u=void 0}));let p=[];return"ontouchstart"in s.documentElement&&(p=[].slice.call(s.body.children).map((e=>mb(e,"mousemove",ek)))),()=>{null==d||d(),h(),f(),p.forEach((e=>e()))}}),[e,r,i,o,l,c])};function ik(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Array.isArray(e)?e:Object.keys(e).map((t=>(e[t].name=t,e[t])))}function sk(e){let{enabled:t,enableEvents:n,placement:r,flip:i,offset:s,fixed:a,containerPadding:o,arrowElement:l,popperConfig:c={}}=e;var u,d,h,f,p;const m=function(e){const t={};return Array.isArray(e)?(null==e||e.forEach((e=>{t[e.name]=e})),t):e||t}(c.modifiers);return Object.assign({},c,{placement:r,enabled:t,strategy:a?"fixed":c.strategy,modifiers:ik(Object.assign({},m,{eventListeners:{enabled:n,options:null==(u=m.eventListeners)?void 0:u.options},preventOverflow:Object.assign({},m.preventOverflow,{options:o?Object.assign({padding:o},null==(d=m.preventOverflow)?void 0:d.options):null==(h=m.preventOverflow)?void 0:h.options}),offset:{options:Object.assign({offset:s},null==(f=m.offset)?void 0:f.options)},arrow:Object.assign({},m.arrow,{enabled:!!l,options:Object.assign({},null==(p=m.arrow)?void 0:p.options,{element:l})}),flip:Object.assign({enabled:!!i},m.flip)}))})}const ak=["children","usePopper"];const ok=()=>{};function lk(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=(0,t.useContext)(Nx),[r,i]=(0,t.useState)(null),s=(0,t.useRef)(!1),{flip:a,offset:o,rootCloseEvent:l,fixed:c=!1,placement:u,popperConfig:d={},enableEventListeners:h=!0,usePopper:f=!!n}=e,p=null==(null==n?void 0:n.show)?!!e.show:n.show;p&&!s.current&&(s.current=!0);const{placement:m,setMenu:g,menuElement:v,toggleElement:y}=n||{},b=ZS(y,v,sk({placement:u||m||"bottom-start",enabled:f,enableEvents:null==h?p:h,offset:o,flip:a,fixed:c,arrowElement:r,popperConfig:d})),w=Object.assign({ref:g||ok,"aria-labelledby":null==y?void 0:y.id},b.attributes.popper,{style:b.styles.popper}),E={show:p,placement:m,hasShown:s.current,toggle:null==n?void 0:n.toggle,popper:f?b:null,arrowProps:f?Object.assign({ref:i},b.attributes.arrow,{style:b.styles.arrow}):{}};return rk(v,(e=>{null==n||n.toggle(!1,e)}),{clickTrigger:l,disabled:!p}),[w,E]}function ck(e){let{children:t,usePopper:n=!0}=e,r=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,ak);const[i,s]=lk(Object.assign({},r,{usePopper:n}));return(0,uv.jsx)(uv.Fragment,{children:t(i,s)})}ck.displayName="DropdownMenu";const uk=ck,dk={prefix:String(Math.round(1e10*Math.random())),current:0},hk=t.createContext(dk),fk=t.createContext(!1);let pk=Boolean("undefined"!==typeof window&&window.document&&window.document.createElement),mk=new WeakMap;function gk(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=(0,t.useContext)(hk),r=(0,t.useRef)(null);if(null===r.current&&!e){var i,s;let e=null===(s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)||void 0===s||null===(i=s.ReactCurrentOwner)||void 0===i?void 0:i.current;if(e){let t=mk.get(e);null==t?mk.set(e,{id:n.current,state:e.memoizedState}):e.memoizedState!==t.state&&(n.current=t.id,mk.delete(e))}r.current=++n.current}return r.current}const vk="function"===typeof t.useId?function(e){let n=t.useId(),[r]=(0,t.useState)("function"===typeof t.useSyncExternalStore?t.useSyncExternalStore(wk,yk,bk):(0,t.useContext)(fk));return e||`${r?"react-aria":`react-aria${dk.prefix}`}-${n}`}:function(e){let n=(0,t.useContext)(hk);n!==dk||pk||console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let r=gk(!!e),i=`react-aria${n.prefix}`;return e||`${i}-${r}`};function yk(){return!1}function bk(){return!0}function wk(e){return()=>{}}const Ek=e=>{var t;return"menu"===(null==(t=e.getAttribute("role"))?void 0:t.toLowerCase())},_k=()=>{};function xk(){const e=vk(),{show:n=!1,toggle:r=_k,setToggle:i,menuElement:s}=(0,t.useContext)(Nx)||{},a=(0,t.useCallback)((e=>{r(!n,e)}),[n,r]),o={id:e,ref:i||_k,onClick:a,"aria-expanded":!!n};return s&&Ek(s)&&(o["aria-haspopup"]=!0),[o,{show:n,toggle:r}]}function Sk(e){let{children:t}=e;const[n,r]=xk();return(0,uv.jsx)(uv.Fragment,{children:t(n,r)})}Sk.displayName="DropdownToggle";const kk=Sk,Tk=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?String(e):t||null},Ck=t.createContext(null),Nk=t.createContext(null);Nk.displayName="NavContext";const Ik=Nk,Rk=["eventKey","disabled","onClick","active","as"];function Ak(e){let{key:n,href:r,active:i,disabled:s,onClick:a}=e;const o=(0,t.useContext)(Ck),l=(0,t.useContext)(Ik),{activeKey:c}=l||{},u=Tk(n,r),d=null==i&&null!=n?Tk(c)===u:i;return[{onClick:kb((e=>{s||(null==a||a(e),o&&!e.isPropagationStopped()&&o(u,e))})),"aria-disabled":s||void 0,"aria-selected":d,[Tb("dropdown-item")]:""},{isActive:d}]}const Ok=t.forwardRef(((e,t)=>{let{eventKey:n,disabled:r,onClick:i,active:s,as:a=qv}=e,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,Rk);const[l]=Ak({key:n,href:o.href,disabled:r,onClick:i,active:s});return(0,uv.jsx)(a,Object.assign({},o,{ref:t},l))}));Ok.displayName="DropdownItem";const Pk=Ok;function jk(){const e=Cx(),n=(0,t.useRef)(null),r=(0,t.useCallback)((t=>{n.current=t,e()}),[e]);return[n,r]}function Dk(e){let{defaultShow:n,show:r,onSelect:i,onToggle:s,itemSelector:a=`* [${Tb("dropdown-item")}]`,focusFirstItemOnShow:o,placement:l="bottom-start",children:c}=e;const u=Rb(),[d,h]=Tx(r,n,s),[f,p]=jk(),m=f.current,[g,v]=jk(),y=g.current,b=xb(d),w=(0,t.useRef)(null),E=(0,t.useRef)(!1),_=(0,t.useContext)(Ck),x=(0,t.useCallback)((function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null==t?void 0:t.type;h(e,{originalEvent:t,source:n})}),[h]),S=kb(((e,t)=>{null==i||i(e,t),x(!1,t,"select"),t.isPropagationStopped()||null==_||_(e,t)})),k=(0,t.useMemo)((()=>({toggle:x,placement:l,show:d,menuElement:m,toggleElement:y,setMenu:p,setToggle:v})),[x,l,d,m,y,p,v]);m&&b&&!d&&(E.current=m.contains(m.ownerDocument.activeElement));const T=kb((()=>{y&&y.focus&&y.focus()})),C=kb((()=>{const e=w.current;let t=o;if(null==t&&(t=!(!f.current||!Ek(f.current))&&"keyboard"),!1===t||"keyboard"===t&&!/^key.+$/.test(e))return;const n=Yb(f.current,a)[0];n&&n.focus&&n.focus()}));(0,t.useEffect)((()=>{d?C():E.current&&(E.current=!1,T())}),[d,E,T,C]),(0,t.useEffect)((()=>{w.current=null}));const N=(e,t)=>{if(!f.current)return null;const n=Yb(f.current,a);let r=n.indexOf(e)+t;return r=Math.max(0,Math.min(r,n.length)),n[r]};return function(e,n,r){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s=kb(r);(0,t.useEffect)((()=>{const t="function"===typeof e?e():e;return t.addEventListener(n,s,i),()=>t.removeEventListener(n,s,i)}),[e])}((0,t.useCallback)((()=>u.document),[u]),"keydown",(e=>{var t,n;const{key:r}=e,i=e.target,s=null==(t=f.current)?void 0:t.contains(i),a=null==(n=g.current)?void 0:n.contains(i);if(/input|textarea/i.test(i.tagName)&&(" "===r||"Escape"!==r&&s||"Escape"===r&&"search"===i.type))return;if(!s&&!a)return;if("Tab"===r&&(!f.current||!d))return;w.current=e.type;const o={originalEvent:e,source:e.type};switch(r){case"ArrowUp":{const t=N(i,-1);return t&&t.focus&&t.focus(),void e.preventDefault()}case"ArrowDown":if(e.preventDefault(),d){const e=N(i,1);e&&e.focus&&e.focus()}else h(!0,o);return;case"Tab":Zy(i.ownerDocument,"keyup",(e=>{var t;("Tab"!==e.key||e.target)&&null!=(t=f.current)&&t.contains(e.target)||h(!1,o)}),{once:!0});break;case"Escape":"Escape"===r&&(e.preventDefault(),e.stopPropagation()),h(!1,o)}})),(0,uv.jsx)(Ck.Provider,{value:S,children:(0,uv.jsx)(Nx.Provider,{value:k,children:c})})}Dk.displayName="Dropdown",Dk.Menu=uk,Dk.Toggle=kk,Dk.Item=Pk;const Lk=Dk;function Mk(){return Mk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mk.apply(null,arguments)}n(740);function Fk(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function Uk(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function Vk(e,n){return Object.keys(n).reduce((function(r,i){var s,a=r,o=a[Fk(i)],l=a[i],c=rw(a,[Fk(i),i].map(Uk)),u=n[i],d=function(e,n,r){var i=(0,t.useRef)(void 0!==e),s=(0,t.useState)(n),a=s[0],o=s[1],l=void 0!==e,c=i.current;return i.current=l,!l&&c&&a!==n&&o(n),[l?e:a,(0,t.useCallback)((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r&&r.apply(void 0,[e].concat(n)),o(e)}),[r])]}(l,o,e[u]),h=d[0],f=d[1];return Mk({},c,((s={})[i]=h,s[u]=f,s))}),e)}function zk(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function $k(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function Bk(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}zk.__suppressDeprecationWarning=!0,$k.__suppressDeprecationWarning=!0,Bk.__suppressDeprecationWarning=!0;const Hk=t.createContext({});Hk.displayName="DropdownContext";const qk=Hk,Wk=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="hr",role:s="separator",...a}=e;return r=Jv(r,"dropdown-divider"),(0,uv.jsx)(i,{ref:t,className:zv()(n,r),role:s,...a})}));Wk.displayName="DropdownDivider";const Kk=Wk,Gk=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",role:s="heading",...a}=e;return r=Jv(r,"dropdown-header"),(0,uv.jsx)(i,{ref:t,className:zv()(n,r),role:s,...a})}));Gk.displayName="DropdownHeader";const Qk=Gk;new WeakMap;const Yk=["onKeyDown"];const Jk=t.forwardRef(((e,t)=>{let{onKeyDown:n}=e,r=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,Yk);const[i]=Bv(Object.assign({tagName:"a"},r)),s=kb((e=>{i.onKeyDown(e),null==n||n(e)}));return function(e){return!e||"#"===e.trim()}(r.href)||"button"===r.role?(0,uv.jsx)("a",Object.assign({ref:t},r,i,{onKeyDown:s})):(0,uv.jsx)("a",Object.assign({ref:t},r,{onKeyDown:n}))}));Jk.displayName="Anchor";const Xk=Jk,Zk=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,eventKey:i,disabled:s=!1,onClick:a,active:o,as:l=Xk,...c}=e;const u=Jv(n,"dropdown-item"),[d,h]=Ak({key:i,href:c.href,disabled:s,onClick:a,active:o});return(0,uv.jsx)(l,{...c,...d,ref:t,className:zv()(r,u,h.isActive&&"active",s&&"disabled")})}));Zk.displayName="DropdownItem";const eT=Zk,tT=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="span",...s}=e;return r=Jv(r,"dropdown-item-text"),(0,uv.jsx)(i,{ref:t,className:zv()(n,r),...s})}));tT.displayName="DropdownItemText";const nT=tT,rT="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product,iT="undefined"!==typeof document||rT?t.useLayoutEffect:t.useEffect,sT=t.createContext(null);sT.displayName="NavbarContext";const aT=sT;function oT(e,t){return e}function lT(e,t,n){let r=e?n?"bottom-start":"bottom-end":n?"bottom-end":"bottom-start";return"up"===t?r=e?n?"top-start":"top-end":n?"top-end":"top-start":"end"===t?r=e?n?"left-end":"right-end":n?"left-start":"right-start":"start"===t?r=e?n?"right-end":"left-end":n?"right-start":"left-start":"down-centered"===t?r="bottom":"up-centered"===t&&(r="top"),r}const cT=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:i,align:s,rootCloseEvent:a,flip:o=!0,show:l,renderOnMount:c,as:u="div",popperConfig:d,variant:h,...f}=e,p=!1;const m=(0,t.useContext)(aT),g=Jv(r,"dropdown-menu"),{align:v,drop:y,isRTL:b}=(0,t.useContext)(qk);s=s||v;const w=(0,t.useContext)(Ex),E=[];if(s)if("object"===typeof s){const e=Object.keys(s);if(e.length){const t=e[0],n=s[t];p="start"===n,E.push(`${g}-${t}-${n}`)}}else"end"===s&&(p=!0);const _=lT(p,y,b),[x,{hasShown:S,popper:k,show:T,toggle:C}]=lk({flip:o,rootCloseEvent:a,show:l,usePopper:!m&&0===E.length,offset:[0,2],popperConfig:d,placement:_});if(x.ref=ob(oT(n),x.ref),iT((()=>{T&&(null==k||k.update())}),[T]),!S&&!c&&!w)return null;"string"!==typeof u&&(x.show=T,x.close=()=>null==C?void 0:C(!1),x.align=s);let N=f.style;return null!=k&&k.placement&&(N={...f.style,...x.style},f["x-placement"]=k.placement),(0,uv.jsx)(u,{...f,...x,style:N,...(E.length||m)&&{"data-bs-popper":"static"},className:zv()(i,g,T&&"show",p&&`${g}-end`,h&&`${g}-${h}`,...E)})}));cT.displayName="DropdownMenu";const uT=cT,dT=t.forwardRef(((e,n)=>{let{bsPrefix:r,split:i,className:s,childBsPrefix:a,as:o=ny,...l}=e;const c=Jv(r,"dropdown-toggle"),u=(0,t.useContext)(Nx);void 0!==a&&(l.bsPrefix=a);const[d]=xk();return d.ref=ob(d.ref,oT(n)),(0,uv.jsx)(o,{className:zv()(s,c,i&&`${c}-split`,(null==u?void 0:u.show)&&"show"),...d,...l})}));dT.displayName="DropdownToggle";const hT=dT,fT=t.forwardRef(((e,n)=>{const{bsPrefix:r,drop:i="down",show:s,className:a,align:o="start",onSelect:l,onToggle:c,focusFirstItemOnShow:u,as:d="div",navbar:h,autoClose:f=!0,...p}=Vk(e,{show:"onToggle"}),m=(0,t.useContext)(Ex),g=Jv(r,"dropdown"),v=ey(),y=sb(((e,t)=>{var n;var r;(null==(n=t.originalEvent)||null==(n=n.target)?void 0:n.classList.contains("dropdown-toggle"))&&"mousedown"===t.source||(t.originalEvent.currentTarget!==document||"keydown"===t.source&&"Escape"!==t.originalEvent.key||(t.source="rootClose"),r=t.source,(!1===f?"click"===r:"inside"===f?"rootClose"!==r:"outside"!==f||"select"!==r)&&(null==c||c(e,t)))})),b=lT("end"===o,i,v),w=(0,t.useMemo)((()=>({align:o,drop:i,isRTL:v})),[o,i,v]),E={down:g,"down-centered":`${g}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return(0,uv.jsx)(qk.Provider,{value:w,children:(0,uv.jsx)(Lk,{placement:b,show:s,onSelect:l,onToggle:y,focusFirstItemOnShow:u,itemSelector:`.${g}-item:not(.disabled):not(:disabled)`,children:m?p.children:(0,uv.jsx)(d,{...p,ref:n,className:zv()(a,s&&"show",E[i])})})})}));fT.displayName="Dropdown";const pT=Object.assign(fT,{Toggle:hT,Menu:uT,Item:eT,ItemText:nT,Divider:Kk,Header:Qk}),mT=t.forwardRef(((e,t)=>{let{bsPrefix:n,variant:r,animation:i="border",size:s,as:a="div",className:o,...l}=e;n=Jv(n,"spinner");const c=`${n}-${i}`;return(0,uv.jsx)(a,{ref:t,...l,className:zv()(o,c,s&&`${c}-${s}`,r&&`text-${r}`)})}));mT.displayName="Spinner";const gT=mT;var vT=n(393),yT=n.n(vT);function bT(e){return xv({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"15",rx:"2",ry:"2"},child:[]},{tag:"polyline",attr:{points:"17 2 12 7 7 2"},child:[]}]})(e)}function wT(e){return xv({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20 3H4c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h16c1.103 0 2-.897 2-2V5c0-1.103-.897-2-2-2zm.001 6c-.001 0-.001 0 0 0h-.466l-2.667-4H20l.001 4zM9.535 9 6.868 5h2.597l2.667 4H9.535zm5 0-2.667-4h2.597l2.667 4h-2.597zM4 5h.465l2.667 4H4V5zm0 14v-8h16l.002 8H4z"},child:[]}]})(e)}const ET=e=>{var t,n;let{item:r,onClick:i}=e;const s=`https://image.tmdb.org/t/p/w500${r.poster_path}`,a=null!=r.poster_path;return(0,uv.jsxs)(pT.Item,{className:"py-3 d-flex align-items-center",onClick:()=>i(r),children:[a?(0,uv.jsx)("img",{src:s,alt:`${r.title||r.name} Poster`,className:"me-3 rounded",style:{width:"45px",height:"67px",objectFit:"cover"}}):(0,uv.jsx)("div",{className:`poster-placeholder ${r.media_type}`,children:"tv"===r.media_type?(0,uv.jsx)(bT,{size:55}):(0,uv.jsx)(wT,{size:55})}),(0,uv.jsxs)("div",{className:"fw-bold",children:[r.title||r.name,(0,uv.jsx)("br",{}),(0,uv.jsx)("p",{className:"text-muted",children:(null===(t=r.release_date)||void 0===t?void 0:t.substring(0,4))||(null===(n=r.first_air_date)||void 0===n?void 0:n.substring(0,4))||"Unknown Year"})]})]})},_T=t.createContext(null),xT=["active","eventKey","mountOnEnter","transition","unmountOnExit","role","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],ST=["activeKey","getControlledId","getControllerId"],kT=["as"];function TT(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function CT(e){let{active:n,eventKey:r,mountOnEnter:i,transition:s,unmountOnExit:a,role:o="tabpanel",onEnter:l,onEntering:c,onEntered:u,onExit:d,onExiting:h,onExited:f}=e,p=TT(e,xT);const m=(0,t.useContext)(_T);if(!m)return[Object.assign({},p,{role:o}),{eventKey:r,isActive:n,mountOnEnter:i,transition:s,unmountOnExit:a,onEnter:l,onEntering:c,onEntered:u,onExit:d,onExiting:h,onExited:f}];const{activeKey:g,getControlledId:v,getControllerId:y}=m,b=TT(m,ST),w=Tk(r);return[Object.assign({},p,{role:o,id:v(r),"aria-labelledby":y(r)}),{eventKey:r,isActive:null==n&&null!=w?Tk(g)===w:n,transition:s||b.transition,mountOnEnter:null!=i?i:b.mountOnEnter,unmountOnExit:null!=a?a:b.unmountOnExit,onEnter:l,onEntering:c,onEntered:u,onExit:d,onExiting:h,onExited:f}]}const NT=t.forwardRef(((e,t)=>{let{as:n="div"}=e,r=TT(e,kT);const[i,{isActive:s,onEnter:a,onEntering:o,onEntered:l,onExit:c,onExiting:u,onExited:d,mountOnEnter:h,unmountOnExit:f,transition:p=Mb}]=CT(r);return(0,uv.jsx)(_T.Provider,{value:null,children:(0,uv.jsx)(Ck.Provider,{value:null,children:(0,uv.jsx)(p,{in:s,onEnter:a,onEntering:o,onEntered:l,onExit:c,onExiting:u,onExited:d,mountOnEnter:h,unmountOnExit:f,children:(0,uv.jsx)(n,Object.assign({},i,{ref:t,hidden:!s,"aria-hidden":!s}))})})})}));NT.displayName="TabPanel";const IT=e=>{const{id:n,generateChildId:r,onSelect:i,activeKey:s,defaultActiveKey:a,transition:o,mountOnEnter:l,unmountOnExit:c,children:u}=e,[d,h]=Tx(s,a,i),f=vk(n),p=(0,t.useMemo)((()=>r||((e,t)=>f?`${f}-${t}-${e}`:null)),[f,r]),m=(0,t.useMemo)((()=>({onSelect:h,activeKey:d,transition:o,mountOnEnter:l||!1,unmountOnExit:c||!1,getControlledId:e=>p(e,"tabpane"),getControllerId:e=>p(e,"tab")})),[h,d,o,l,c,p]);return(0,uv.jsx)(_T.Provider,{value:m,children:(0,uv.jsx)(Ck.Provider,{value:h||null,children:u})})};IT.Panel=NT;const RT=IT,AT=["as","active","eventKey"];function OT(e){let{key:n,onClick:r,active:i,id:s,role:a,disabled:o}=e;const l=(0,t.useContext)(Ck),c=(0,t.useContext)(Ik),u=(0,t.useContext)(_T);let d=i;const h={role:a};if(c){a||"tablist"!==c.role||(h.role="tab");const e=c.getControllerId(null!=n?n:null),t=c.getControlledId(null!=n?n:null);h[Tb("event-key")]=n,h.id=e||s,d=null==i&&null!=n?c.activeKey===n:i,!d&&(null!=u&&u.unmountOnExit||null!=u&&u.mountOnEnter)||(h["aria-controls"]=t)}return"tab"===h.role&&(h["aria-selected"]=d,d||(h.tabIndex=-1),o&&(h.tabIndex=-1,h["aria-disabled"]=!0)),h.onClick=kb((e=>{o||(null==r||r(e),null!=n&&l&&!e.isPropagationStopped()&&l(n,e))})),[h,{isActive:d}]}const PT=t.forwardRef(((e,t)=>{let{as:n=qv,active:r,eventKey:i}=e,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,AT);const[a,o]=OT(Object.assign({key:Tk(i,s.href),active:r},s));return a[Tb("active")]=o.isActive,(0,uv.jsx)(n,Object.assign({},s,a,{ref:t}))}));PT.displayName="NavItem";const jT=PT,DT=["as","onSelect","activeKey","role","onKeyDown"];const LT=()=>{},MT=Tb("event-key"),FT=t.forwardRef(((e,n)=>{let{as:r="div",onSelect:i,activeKey:s,role:a,onKeyDown:o}=e,l=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,DT);const c=Cx(),u=(0,t.useRef)(!1),d=(0,t.useContext)(Ck),h=(0,t.useContext)(_T);let f,p;h&&(a=a||"tablist",s=h.activeKey,f=h.getControlledId,p=h.getControllerId);const m=(0,t.useRef)(null),g=e=>{const t=m.current;if(!t)return null;const n=Yb(t,`[${MT}]:not([aria-disabled=true])`),r=t.querySelector("[aria-selected=true]");if(!r||r!==document.activeElement)return null;const i=n.indexOf(r);if(-1===i)return null;let s=i+e;return s>=n.length&&(s=0),s<0&&(s=n.length-1),n[s]},v=(e,t)=>{null!=e&&(null==i||i(e,t),null==d||d(e,t))};(0,t.useEffect)((()=>{if(m.current&&u.current){const e=m.current.querySelector(`[${MT}][aria-selected=true]`);null==e||e.focus()}u.current=!1}));const y=Pb(n,m);return(0,uv.jsx)(Ck.Provider,{value:v,children:(0,uv.jsx)(Ik.Provider,{value:{role:a,activeKey:Tk(s),getControlledId:f||LT,getControllerId:p||LT},children:(0,uv.jsx)(r,Object.assign({},l,{onKeyDown:e=>{if(null==o||o(e),!h)return;let t;switch(e.key){case"ArrowLeft":case"ArrowUp":t=g(-1);break;case"ArrowRight":case"ArrowDown":t=g(1);break;default:return}var n;t&&(e.preventDefault(),v(t.dataset[(n="EventKey",`rrUi${n}`)]||null,e),u.current=!0,c())},ref:y,role:a}))})})}));FT.displayName="Nav";const UT=Object.assign(FT,{Item:jT}),VT=t.createContext(null);VT.displayName="CardHeaderContext";const zT=VT,$T=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...s}=e;return r=Jv(r,"nav-item"),(0,uv.jsx)(i,{ref:t,className:zv()(n,r),...s})}));$T.displayName="NavItem";const BT=$T,HT=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:i=Xk,active:s,eventKey:a,disabled:o=!1,...l}=e;n=Jv(n,"nav-link");const[c,u]=OT({key:Tk(a,l.href),active:s,disabled:o,...l});return(0,uv.jsx)(i,{...l,...c,ref:t,disabled:o,className:zv()(r,n,o&&"disabled",u.isActive&&"active")})}));HT.displayName="NavLink";const qT=HT,WT=t.forwardRef(((e,n)=>{const{as:r="div",bsPrefix:i,variant:s,fill:a=!1,justify:o=!1,navbar:l,navbarScroll:c,className:u,activeKey:d,...h}=Vk(e,{activeKey:"onSelect"}),f=Jv(i,"nav");let p,m,g=!1;const v=(0,t.useContext)(aT),y=(0,t.useContext)(zT);return v?(p=v.bsPrefix,g=null==l||l):y&&({cardHeaderBsPrefix:m}=y),(0,uv.jsx)(UT,{as:r,ref:n,activeKey:d,className:zv()(u,{[f]:!g,[`${p}-nav`]:g,[`${p}-nav-scroll`]:g&&c,[`${m}-${s}`]:!!m,[`${f}-${s}`]:!!s,[`${f}-fill`]:a,[`${f}-justified`]:o}),...h})}));WT.displayName="Nav";const KT=Object.assign(WT,{Item:BT,Link:qT}),GT=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...s}=e;return r=Jv(r,"tab-content"),(0,uv.jsx)(i,{ref:t,className:zv()(n,r),...s})}));GT.displayName="TabContent";const QT=GT;function YT(e){return"boolean"===typeof e?e?Ew:Mb:e}const JT=t.forwardRef(((e,t)=>{let{bsPrefix:n,transition:r,...i}=e;const[{className:s,as:a="div",...o},{isActive:l,onEnter:c,onEntering:u,onEntered:d,onExit:h,onExiting:f,onExited:p,mountOnEnter:m,unmountOnExit:g,transition:v=Ew}]=CT({...i,transition:YT(r)}),y=Jv(n,"tab-pane");return(0,uv.jsx)(_T.Provider,{value:null,children:(0,uv.jsx)(Ck.Provider,{value:null,children:(0,uv.jsx)(v,{in:l,onEnter:c,onEntering:u,onEntered:d,onExit:h,onExiting:f,onExited:p,mountOnEnter:m,unmountOnExit:g,children:(0,uv.jsx)(a,{...o,ref:t,className:zv()(s,y,l&&"active")})})})})}));JT.displayName="TabPane";const XT=JT;function ZT(e){let n;return function(e,n){let r=0;t.Children.forEach(e,(e=>{t.isValidElement(e)&&n(e,r++)}))}(e,(e=>{null==n&&(n=e.props.eventKey)})),n}function eC(e){const{title:t,eventKey:n,disabled:r,tabClassName:i,tabAttrs:s,id:a}=e.props;return null==t?null:(0,uv.jsx)(BT,{as:"li",role:"presentation",children:(0,uv.jsx)(qT,{as:"button",type:"button",eventKey:n,disabled:r,id:a,className:i,...s,children:t})})}const tC=e=>{const{id:t,onSelect:n,transition:r,mountOnEnter:i=!1,unmountOnExit:s=!1,variant:a="tabs",children:o,activeKey:l=ZT(o),...c}=Vk(e,{activeKey:"onSelect"});return(0,uv.jsxs)(RT,{id:t,activeKey:l,onSelect:n,transition:YT(r),mountOnEnter:i,unmountOnExit:s,children:[(0,uv.jsx)(KT,{id:t,...c,role:"tablist",as:"ul",variant:a,children:Ey(o,eC)}),(0,uv.jsx)(QT,{children:Ey(o,(e=>{const t={...e.props};return delete t.title,delete t.disabled,delete t.tabClassName,delete t.tabAttrs,(0,uv.jsx)(XT,{...t})}))})]})};tC.displayName="Tabs";const nC=tC,rC=e=>{let{transition:t,...n}=e;return(0,uv.jsx)(RT,{...n,transition:YT(t)})};rC.displayName="TabContainer";const iC=rC,sC={eventKey:hy().oneOfType([hy().string,hy().number]),title:hy().node.isRequired,disabled:hy().bool,tabClassName:hy().string,tabAttrs:hy().object},aC=()=>{throw new Error("ReactBootstrap: The `Tab` component is not meant to be rendered! It's an abstract component that is only valid as a direct Child of the `Tabs` Component. For custom tabs components use TabPane and TabsContainer directly")};aC.propTypes=sC;const oC=Object.assign(aC,{Container:iC,Content:QT,Pane:XT});function lC(e,t,n){const r=(e-t)/(n-t)*100;return Math.round(1e3*r)/1e3}function cC(e,t){let{min:n,now:r,max:i,label:s,visuallyHidden:a,striped:o,animated:l,className:c,style:u,variant:d,bsPrefix:h,...f}=e;return(0,uv.jsx)("div",{ref:t,...f,role:"progressbar",className:zv()(c,`${h}-bar`,{[`bg-${d}`]:d,[`${h}-bar-animated`]:l,[`${h}-bar-striped`]:l||o}),style:{width:`${lC(r,n,i)}%`,...u},"aria-valuenow":r,"aria-valuemin":n,"aria-valuemax":i,children:a?(0,uv.jsx)("span",{className:"visually-hidden",children:s}):s})}const uC=t.forwardRef(((e,n)=>{let{isChild:r=!1,...i}=e;const s={min:0,max:100,animated:!1,visuallyHidden:!1,striped:!1,...i};if(s.bsPrefix=Jv(s.bsPrefix,"progress"),r)return cC(s,n);const{min:a,now:o,max:l,label:c,visuallyHidden:u,striped:d,animated:h,bsPrefix:f,variant:p,className:m,children:g,...v}=s;return(0,uv.jsx)("div",{ref:n,...v,className:zv()(m,f),children:g?Ey(g,(e=>(0,t.cloneElement)(e,{isChild:!0}))):cC({min:a,now:o,max:l,label:c,visuallyHidden:u,striped:d,animated:h,bsPrefix:f,variant:p},n)})}));uC.displayName="ProgressBar";const dC=uC,hC=t.forwardRef(((e,t)=>{let{bsPrefix:n,active:r,disabled:i,eventKey:s,className:a,variant:o,action:l,as:c,...u}=e;n=Jv(n,"list-group-item");const[d,h]=OT({key:Tk(s,u.href),active:r,...u}),f=sb((e=>{if(i)return e.preventDefault(),void e.stopPropagation();d.onClick(e)}));i&&void 0===u.tabIndex&&(u.tabIndex=-1,u["aria-disabled"]=!0);const p=c||(l?u.href?"a":"button":"div");return(0,uv.jsx)(p,{ref:t,...u,...d,onClick:f,className:zv()(a,n,h.isActive&&"active",i&&"disabled",o&&`${n}-${o}`,l&&`${n}-action`)})}));hC.displayName="ListGroupItem";const fC=hC,pC=t.forwardRef(((e,t)=>{const{className:n,bsPrefix:r,variant:i,horizontal:s,numbered:a,as:o="div",...l}=Vk(e,{activeKey:"onSelect"}),c=Jv(r,"list-group");let u;return s&&(u=!0===s?"horizontal":`horizontal-${s}`),(0,uv.jsx)(UT,{ref:t,...l,as:o,className:zv()(n,c,i&&`${c}-${i}`,u&&`${c}-${u}`,a&&`${c}-numbered`)})}));pC.displayName="ListGroup";const mC=Object.assign(pC,{Item:fC}),gC=432e5,vC="http://localhost:5000/",yC=async(e,t)=>{console.log("Fetching details for:",e,t);const n=((e,t)=>`details-${t}-${e}`)(e,t),r=localStorage.getItem(n);if(r){const{compressed:e,data:t,timestamp:i}=JSON.parse(r);if(Date.now()-i<gC){const n=e?JSON.parse(yT().decompress(t)):JSON.parse(t);return console.log("Cache hit for details:",n),n}localStorage.removeItem(n)}try{const r=await ax.get(`${vC}search/details`,{params:{id:e,type:t}});return console.log("API response for details:",r.data),r.data.tmdb&&r.data.watchmode&&r.data.cast&&localStorage.setItem(n,JSON.stringify({compressed:!0,data:yT().compress(JSON.stringify(r.data)),timestamp:Date.now()})),r.data||[]}catch(i){console.error("error fetching details: ",i)}},bC=async e=>{var t,n,r,i,s;console.log("Fetching recommendations for:",e.tmdb.id,e.tmdb.media_type);const a=null===(t=e.tmdb.genres)||void 0===t?void 0:t.map((e=>e.id)).join(","),o=(null===(n=e.tmdb.production_companies)||void 0===n?void 0:n.map((e=>e.id)).join(","))||[],l=(null===(r=e.tmdb.keywords)||void 0===r?void 0:r.map((e=>e.id)).join(","))||[],c={id:e.tmdb.id,title:e.tmdb.title||e.tmdb.name,type:e.tmdb.media_type,overview:e.tmdb.overview,language:e.tmdb.original_language,vote_average:e.tmdb.vote_average,release_year:(null===(i=e.tmdb.release_date)||void 0===i?void 0:i.split("-")[0])||(null===(s=e.tmdb.first_air_date)||void 0===s?void 0:s.split("-")[0]),genre_ids:a,producer_ids:o,keyword_ids:l},u=(e=>{const t=JSON.stringify(e);let n=0;for(let r=0;r<t.length;r++)n=(n<<5)-n+t.charCodeAt(r),n|=0;return Math.abs(n).toString(16)})(c),d=((e,t,n)=>`recommendations-${t}-${e}-${n}`)(e.tmdb.id,e.tmdb.media_type,u),h=localStorage.getItem(d);if(console.log("Generated cacheKey:",d),h){const{compressed:e,data:t,timestamp:n}=JSON.parse(h);if(Date.now()-n<gC){const n=e?JSON.parse(yT().decompress(t)):JSON.parse(t);return console.log("Cache hit for recommendations"),n.recommendations}localStorage.removeItem(d)}try{const e=await ax.post(`${vC}recommendations`,c);return console.log("API response for recommendations"),e.data.recommendations&&localStorage.setItem(d,JSON.stringify({compressed:!0,data:yT().compress(JSON.stringify(e.data)),timestamp:Date.now()})),e.data.recommendations||[]}catch(f){console.error("error fetching details: ",f)}},wC=async(e,t)=>{try{const n=sessionStorage.getItem("userId");if(!n)return;return(await ax.get(`${vC}interactions/check_followed`,{params:{user_id:n,media_id:e,media_type:t}})).data.followed}catch(n){console.error("Error checking media status",n)}},EC=e=>{const n=["Anime","Binge-Worthy","Clean your Eyes","Diversity","Heartwarming","Horror","Left Halfway Through","LGBTQ+","Mature Themes","Netflix and Chill","Never Again","Nightmare Fuel","Out of Context","Pain","Shock Humor","Ugly CGI","Unfinished","Visually Appealing","Watched During Work","Would Watch Again"],[r,i]=(0,t.useState)(!1),[s,a]=(0,t.useState)([]),[o,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)([]),[d,h]=(0,t.useState)(!0),[f,p]=(0,t.useState)(!1),[m,g]=(0,t.useState)(!1),[v,y]=(0,t.useState)(""),[b,w]=(0,t.useState)(""),[E,_]=(0,t.useState)(""),[x,S]=(0,t.useState)(""),[k,T]=(0,t.useState)(""),[C,N]=(0,t.useState)(""),[I,R]=(0,t.useState)(0),[A,O]=(0,t.useState)(0),[P,j]=(0,t.useState)(0),D=Ym(cv,"Tags"),L=async t=>{const n=new Map,r=Fg(D,Vg("media_id","==",e.mediaId),Vg("media_type","==",e.mediaType),Vg("tag_class","==",t),function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=jg("orderBy",e);return $g._create(n,t)}("score","desc")),i=[];(await ev(r)).forEach((e=>{if(n.has(e.data().tag_name)){let t=n.get(e.data().tag_name).score,r=e.data().score;n.set(e.data().tag_name,{score:t+r,id:e.id})}else n.set(e.data().tag_name,{score:e.data().score,id:e.id})}));const s=Array.from(n).sort(((e,t)=>e[1].score-t[1].score)).reverse();let a;console.log("Sorted map: ",s),console.log("Map size: ",s.length),a=s.length>10?10:s.length;for(let e=0;e<a;e++)console.log(s[e]),i.push({id:s[e][1].id,tag_name:s[e][0],score:s[e][1].score});return i},M=async()=>{i(!0),l(!0),p(!0),g(!0);const t=await L("standard"),n=await L("custom");a([...t]),u([...n]),await(async()=>{const t=Fg(D,Vg("user_id","==",e.userID),Vg("media_id","==",e.mediaId),Vg("media_type","==",e.mediaType));(await ev(t)).forEach((e=>{switch(console.log("Personal Tag: ",e.data()),e.data().tag_type){case"major":y(e.data().tag_name);break;case"normal":w(e.data().tag_name);break;case"minor":_(e.data().tag_name);break;case"tag1":S(e.data().tag_name),R(e.data().tag_name.length);break;case"tag2":T(e.data().tag_name),O(e.data().tag_name.length);break;case"tag3":N(e.data().tag_name),j(e.data().tag_name.length)}}))})(),i(!1),l(!1),p(!1),g(!1)},F=async(t,n,r,i)=>{const s=Fg(D,Vg("user_id","==",e.userID),Vg("media_id","==",e.mediaId),Vg("media_type","==",e.mediaType),Vg("tag_class","==",t),Vg("tag_type","==",n));console.log("Class:",t),console.log("Type:",n),console.log("Tag:",i);const a=await ev(s);let o=0,l=0;if(a.forEach((e=>{o++,l=e.id})),console.log("Tag duplicates:",o),i.trim())if(o>0)try{await tv(Jm(cv,"Tags",l),{tag_name:i.trim()}),console.log("Tag updated successfully."),alert("Tag updated successfully.")}catch(c){console.error("Error updating tag: ",c),alert("Error updating tag: ",c)}else try{await rv(D,{media_id:e.mediaId,media_type:e.mediaType,score:r,tag_class:t,tag_name:i.trim(),tag_type:n,user_id:e.userID}),console.log("Tag added successfully."),alert("Tag added successfully.")}catch(c){console.log("Error adding tag: ",c),alert("Error adding tag: ",c)}else alert("You cannot enter an empty tag.");await M()},U=async(e,t)=>{switch(e){case"customTag1":S(t),R(t.length);break;case"customTag2":T(t),O(t.length);break;case"customTag3":N(t),j(t.length)}},V=async t=>{const n=Fg(D,Vg("user_id","==",e.userID),Vg("media_id","==",e.mediaId),Vg("media_type","==",e.mediaType),Vg("tag_type","==",t)),r=await ev(n);let i=0,s=0;r.forEach((e=>{i++,s=e.id})),i>0?await nv(Jm(cv,"Tags",s)).then((async()=>{switch(console.log("Tag deleted successfully."),alert("Tag deleted successfully."),t){case"major":y("Please select a tag");break;case"normal":w("");break;case"minor":_("");break;case"tag1":S(""),R(0);break;case"tag2":T(""),O(0);break;case"tag3":N(""),j(0)}await M()})).catch((e=>{console.log(e),alert("Error: ",e)})):(console.log("You do not currentl have a tag of this type."),alert("You do not currently have a tag of this type."))};return d&&(M(),h(!1)),(0,uv.jsxs)(uv.Fragment,{children:[(0,uv.jsxs)("div",{className:"tagDisplay firstDisplay",children:[(0,uv.jsxs)("div",{className:"tagColumn",children:[r&&(0,uv.jsx)("p",{children:"Loading user tags..."}),!r&&(0,uv.jsx)("h2",{children:"User Tags"}),s.length>0&&s.map((e=>(0,uv.jsxs)("div",{className:"tag userTag",children:[e.tag_name," (",e.score,")"]},e.id)))]}),(0,uv.jsxs)("div",{className:"tagColumn",children:[o&&(0,uv.jsx)("p",{children:"Loading custom tags..."}),!o&&(0,uv.jsx)("h2",{children:"Custom Tags"}),c.length>0&&c.map((e=>(0,uv.jsxs)("div",{className:"tag customTag",children:[e.tag_name," (",e.score,")"]},e.id)))]})]}),(0,uv.jsx)("h3",{children:"Your Tags"}),(0,uv.jsx)("hr",{}),(0,uv.jsxs)("div",{className:"tagDisplay",children:[f?"Loading your standard tags...":(0,uv.jsxs)("div",{className:"tagColumn",children:[(0,uv.jsx)("h4",{children:"Standard Tags"}),(0,uv.jsxs)("div",{className:"tagGroup",children:[(0,uv.jsx)("label",{htmlFor:"majorStandardTag",children:"Major:"}),(0,uv.jsxs)(Gy.Select,{className:"tagSelect",id:"majorStandardTag",name:"majorStandardTag",defaultValue:v||"Please select a tag",onChange:e=>F("standard","major",3,e.target.value),children:[(0,uv.jsx)("option",{value:"Please select a tag",className:"unselectableOption",disabled:!0,children:"Please select a tag"},"Please select a tag"),n.map((e=>(0,uv.jsx)("option",{value:e,selected:e===v,children:e},e)))]}),(0,uv.jsxs)(ny,{variant:"danger",className:"leftSide",onClick:async()=>await V("major"),children:[(0,uv.jsx)(oy,{})," Delete This Tag"]})]}),(0,uv.jsxs)("div",{className:"tagGroup",children:[(0,uv.jsx)("label",{htmlFor:"normalStandardTag",children:"Normal:"}),(0,uv.jsxs)(Gy.Select,{className:"tagSelect",id:"normalStandardTag",defaultValue:b||"Please select a tag",name:"normalStandardTag",onChange:e=>F("standard","normal",2,e.target.value),children:[(0,uv.jsx)("option",{value:"Please select a tag",className:"unselectableOption",disabled:!0,children:"Please select a tag"},"Please select a tag"),n.map((e=>(0,uv.jsx)("option",{value:e,selected:e===b,children:e},e)))]}),(0,uv.jsxs)(ny,{variant:"danger",className:"leftSide",onClick:async()=>await V("normal"),children:[(0,uv.jsx)(oy,{})," Delete This Tag"]})]}),(0,uv.jsxs)("div",{className:"tagGroup",children:[(0,uv.jsx)("label",{htmlFor:"minorStandardTag",children:"Minor:"}),(0,uv.jsxs)(Gy.Select,{className:"tagSelect",id:"minorStandardTag",defaultValue:E||"Please select a tag",name:"minorStandardTag",onChange:e=>F("standard","minor",1,e.target.value),children:[(0,uv.jsx)("option",{value:"Please select a tag",className:"unselectableOption",disabled:!0,children:"Please select a tag"},"Please select a tag"),n.map((e=>(0,uv.jsx)("option",{value:e,selected:e===E,children:e},e)))]}),(0,uv.jsxs)(ny,{variant:"danger",className:"leftSide",onClick:async()=>await V("minor"),children:[(0,uv.jsx)(oy,{})," Delete This Tag"]})]})]}),o?"Loading your custom tags...":(0,uv.jsxs)("div",{className:"tagColumn",children:[(0,uv.jsx)("h4",{children:"Custom Tags"}),(0,uv.jsxs)("div",{className:"customTagGroup",children:[(0,uv.jsx)("div",{className:"customTagGroupLeft",children:(0,uv.jsx)("label",{htmlFor:"customTag1",children:"Tag 1:"})}),(0,uv.jsx)("div",{className:"customTagGroupEntry",children:(0,uv.jsx)("input",{type:"text",maxLength:"20",className:"customTagEntry",id:"customTag1",value:x||"",onChange:e=>U("customTag1",e.target.value)})}),20-I,"/20 characters remaining.",(0,uv.jsxs)(uy,{className:"customTagGroupBtn",children:[(0,uv.jsxs)(ny,{variant:"success",className:"customTagBtn",onClick:e=>{F("custom","tag1",1,document.getElementById("customTag1").value)},children:[(0,uv.jsx)(sy,{})," Update This Tag"]}),(0,uv.jsxs)(ny,{variant:"danger",className:"customTagBtn",onClick:async()=>await V("tag1"),children:[(0,uv.jsx)(oy,{})," Delete This Tag"]})]})]}),(0,uv.jsxs)("div",{className:"customTagGroup",children:[(0,uv.jsx)("div",{className:"customTagGroupLeft",children:(0,uv.jsx)("label",{htmlFor:"customTag2",children:"Tag 2:"})}),(0,uv.jsx)("div",{className:"customTagGroupEntry",children:(0,uv.jsx)("input",{type:"text",maxLength:"20",className:"customTagEntry",id:"customTag2",value:k||"",onChange:e=>U("customTag2",e.target.value)})}),20-A,"/20 characters remaining.",(0,uv.jsxs)(uy,{className:"customTagGroupBtn",children:[(0,uv.jsxs)(ny,{variant:"success",className:"customTagBtn",onClick:e=>{F("custom","tag2",1,document.getElementById("customTag2").value)},children:[(0,uv.jsx)(sy,{})," Update This Tag"]}),(0,uv.jsxs)(ny,{variant:"danger",className:"customTagBtn",onClick:async()=>await V("tag2"),children:[(0,uv.jsx)(oy,{})," Delete This Tag"]})]})]}),(0,uv.jsxs)("div",{className:"customTagGroup",children:[(0,uv.jsx)("div",{className:"customTagGroupLeft",children:(0,uv.jsx)("label",{htmlFor:"customTag3",children:"Tag 3:"})}),(0,uv.jsx)("div",{className:"customTagGroupEntry",children:(0,uv.jsx)("input",{type:"text",maxLength:"20",className:"customTagEntry",id:"customTag3",value:C||"",onChange:e=>U("customTag3",e.target.value)})}),20-P,"/20 characters remaining.",(0,uv.jsxs)(uy,{className:"customTagGroupBtn",children:[(0,uv.jsxs)(ny,{variant:"success",className:"customTagBtn",onClick:e=>{F("custom","tag3",1,document.getElementById("customTag3").value)},children:[(0,uv.jsx)(sy,{})," Update This Tag"]}),(0,uv.jsxs)(ny,{variant:"danger",className:"customTagBtn",onClick:async()=>await V("tag3"),children:[(0,uv.jsx)(oy,{})," Delete This Tag"]})]})]})]})]}),(0,uv.jsxs)("p",{children:["Tag feature inspired by ",(0,uv.jsx)("a",{href:"https://store.steampowered.com/tag/",rel:"noreferrer",target:"_blank",children:"Steam"}),"."]})]})},_C=e=>{var n,r,i,s,a,o;let{item:l,mediaId:c,mediaType:u,show:d,onHide:h,initialTab:f="overview"}=e;const[p,m]=(0,t.useState)(l),[g,v]=(0,t.useState)(!l&&c&&u),[y,b]=(0,t.useState)(!1),[w,E]=(0,t.useState)([]),[_,x]=(0,t.useState)(!1),[S,k]=(0,t.useState)(!1),[T,C]=(0,t.useState)([]),[N,I]=(0,t.useState)(!1),[R,A]=(0,t.useState)(""),[O,P]=(0,t.useState)(!1),[j,D]=(0,t.useState)([]),[L,M]=(0,t.useState)(!1),[F,U]=(0,t.useState)([]),[V,z]=(0,t.useState)(null),[$,B]=(0,t.useState)(1),[H,q]=(0,t.useState)({}),W=" https://image.tmdb.org/t/p/w500",[K,G]=(0,t.useState)(sessionStorage.getItem("userId")||0),[Q,Y]=(0,t.useState)(f),J="http://localhost:5000/",X=sessionStorage.getItem("userName"),Z=!!sessionStorage.getItem("userId");(0,t.useEffect)((()=>{p&&Z&&wC(p.tmdb.id,p.tmdb.media_type).then((e=>x(e)))}),[p,Z,K]),(0,t.useEffect)((()=>{var e,t,n,r;p&&("NC-17"===(null===(e=p.tmdb)||void 0===e?void 0:e.content_rating)||!0===(null===(t=p.tmdb)||void 0===t?void 0:t.adult)||null!==(n=p.tmdb)&&void 0!==n&&n.overview&&null!==(r=p.tmdb)&&void 0!==r&&r.overview.toLowerCase().includes("explicit"))&&(console.error("Inappropriate content blocked from display"),z("This content cannot be displayed"),m(null))}),[p]),(0,t.useEffect)((()=>{d&&Y(f)}),[d,f]),(0,t.useEffect)((()=>{var e,t;"episodes"===Q&&"tv"===(null===p||void 0===p||null===(e=p.tmdb)||void 0===e?void 0:e.media_type)&&(se(),z(null),M(!0)),Z&&"tv"===(null===p||void 0===p||null===(t=p.tmdb)||void 0===t?void 0:t.media_type)&&"episodes"===Q&&ae(),"similar"===Q&&p&&ee()}),[Q,p,Z]),(0,t.useEffect)((()=>{S&&Z&&ne()}),[S,Z]),(0,t.useEffect)((()=>{(()=>{if(!l&&c&&u){let e;v(!0),yC(c,u).then((t=>(e=t,ie(K,e.tmdb.id,e.tmdb.media_type)))).then((t=>(e.tmdb.rating=t.rating,Uv(e.tmdb.id,e.tmdb.media_type)))).then((t=>{e.tmdb.avgRating=t,m(e),v(!1)})).catch((e=>{console.error("Error fetching details:",e),v(!1),b(!1)}))}else!l||c&&u||(v(!0),ie(K,p.tmdb.id,p.tmdb.media_type).then((e=>(p.tmdb.rating=e.rating,Uv(p.tmdb.id,p.tmdb.media_type)))).then((e=>{p.tmdb.avgRating=e,v(!1)})).catch((e=>{console.error("Error fetching ratings:",e)})))})()}),[l,c,u]);const ee=()=>{p&&(b(!0),bC(p).then((e=>{E(e),b(!1)})).catch((e=>{console.error("Error fetching recommendations:",e),b(!1)})))},te=async()=>{var e,t,n;const r=_?"unfollow":"follow";if(!K)return void alert("Please log in to follow content");const i=(null===(e=p.tmdb.genres)||void 0===e?void 0:e.map((e=>({id:e.id,name:e.name}))))||[],s=(null===(t=p.tmdb.keywords)||void 0===t?void 0:t.map((e=>({id:e.id,name:e.name}))))||[],a=(null===(n=p.tmdb.production_companies)||void 0===n?void 0:n.map((e=>({id:e.id,name:e.name}))))||[],o={user_id:K,media_id:p.tmdb.id,media_type:p.tmdb.media_type,title:p.tmdb.title||p.tmdb.name,poster_path:p.tmdb.poster_path,release_date:p.tmdb.release_date||p.tmdb.first_air_date,genres:i,keywords:s,producers:a,action:r},l=await ax.post(`${J}interactions/media_follow`,o);"success"===l.data.status&&x(!_),console.log(l.data)},ne=async()=>{const e=await(async()=>{const e=sessionStorage.getItem("userId");if(e)try{return(await ax.get("http://localhost:5000/interactions/get-watchlists",{params:{user_id:e}})).data.watchlists||[]}catch(V){return console.error("Error fetching watchlists:",V),[]}})();C(e)},re=()=>{k(!1),I(""),A(""),P("")},ie=async(e,t,n)=>{if(!e||!Z)return console.log("No user ID available or user not logged in"),{rating:null};try{return(await ax.get(`${J}interactions/get-ratings`,{params:{user_id:e,media_id:t,media_type:n}})).data}catch(V){return console.error("Error fetching ratings:",V),{rating:null}}},se=()=>{M(!0),ax.get(`${J}search/tv/all_episodes`,{params:{id:p.tmdb.id}}).then((e=>{if(!e.data.seasons||0===e.data.seasons.length)return console.log("No Seasons Found"),void M(!1);const t=e.data.seasons;D(t),U(e.data.episodes||{});const n=t.find((e=>1===e.season_number))||e.data.seasons[0];B(n.season_number)})).catch((e=>{console.error("Error fetching TV Data:",e),z("Failed to load TV Data. Please try again")})).finally((()=>{M(!1)}))},ae=async()=>{try{const e=await ax.get(`${J}interactions/tv/get-episode-progress`,{params:{user_id:K,tv_id:p.tmdb.id}});e.data.message?(console.log(e.data.message),q({})):q(e.data.progress)}catch(e){console.error("Error fetching user progress:",e)}},oe=async function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(Z&&K)try{const i=await ax.post(`${J}interactions/tv/set-episode-progress`,{user_id:K,tv_id:p.tmdb.id,season_number:e,episode_number:t,watched:n});r&&"success"===i.data.status&&ae()}catch(i){console.error("Error updating episode progress:",i),alert("Failed to update your progress. Please try again.")}else alert("Please log in to track your progress")},le=async function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(Z&&K){M(!0);try{const n=F[e]||[];console.log(`Marking ${n.length} episodes as ${t?"watched":"unwatched"}`);for(const r of n)await oe(e,r.episode_number,t,!1);setTimeout((async()=>{await ae(),alert(`Successfully ${t?"watched":"unwatched"} all episodes in Season ${e}`)}),1e3)}catch(n){console.error(`Error ${t?"watching":"unwatching"} all episodes:`,n),alert("Failed to update your progress. Please try again.")}finally{M(!1)}}else alert("Please log in to track your progress")},ce=(e,t)=>{const n=((null===H||void 0===H?void 0:H.seasons)||{})[e];if(!n)return!1;const r=(n.episodes||{})[t];return(null===r||void 0===r?void 0:r.watched)||!1},ue=e=>{const t=F[e]||[];if(0===t.length)return 0;const n=((null===H||void 0===H?void 0:H.seasons)||{})[e];if(!n||!n.episodes)return 0;console.log("Episodes:",F),console.log("User Progress:",H);const r=Object.values(n.episodes).filter((e=>e.watched)).length;return Math.round(r/t.length*100)};return g?(0,uv.jsxs)("div",{className:"text-center py-3",children:[(0,uv.jsx)(gT,{animation:"border"}),(0,uv.jsx)("div",{className:"text-muted small mt-2",children:"Fetching details..."})]}):(0,uv.jsxs)(uv.Fragment,{children:[(0,uv.jsxs)(Bw,{show:d,onHide:h,centered:!0,size:"lg",className:"detail-modal",children:[(0,uv.jsx)(Bw.Header,{closeButton:!0,children:(0,uv.jsx)(Bw.Title,{children:(null===p||void 0===p||null===(n=p.tmdb)||void 0===n?void 0:n.title)||(null===p||void 0===p||null===(r=p.tmdb)||void 0===r?void 0:r.name)})}),(0,uv.jsx)(Bw.Body,{children:(0,uv.jsxs)(nC,{id:"detail-tabs",activeKey:Q,onSelect:e=>Y(e),className:"mb-3",keyboard:"true",children:[(0,uv.jsx)(oC,{eventKey:"overview",title:"Overview",children:(0,uv.jsxs)("div",{className:"row",children:[(0,uv.jsxs)("div",{className:"col-md-4",children:[p.tmdb.poster_path?(0,uv.jsx)("img",{src:`${W}${p.tmdb.poster_path}`,alt:p.tmdb.title||p.tmdb.name,className:"img-fluid rounded"}):(0,uv.jsx)("div",{className:"text-center p-5 bg-light rounded",children:"No Image Available"}),Z?(0,uv.jsxs)("div",{className:"d-flex flex-wrap justify-content-between gap-2 mt-2",children:["tv"===p.tmdb.media_type?(0,uv.jsxs)(ny,{variant:_?"danger":"outline-danger",onClick:()=>te(),className:"btn-follow flex-grow-0",children:[_?(0,uv.jsx)(Cv,{}):(0,uv.jsx)(Lv,{})," ",_?"Following":"Follow"]}):(0,uv.jsxs)(ny,{variant:_?"danger":"outline-danger",onClick:()=>te(),className:"btn-follow flex-grow-0",children:[_?(0,uv.jsx)(Rv,{}):(0,uv.jsx)(Fv,{})," ",_?"Liked":"Like"]}),(0,uv.jsxs)(ny,{variant:"outline-primary",onClick:()=>{Z?k(!0):alert("Please log in to add to watchlist")},className:"btn-watchlist flex-grow-0",children:[(0,uv.jsx)(Pv,{})," Watchlist"]})]}):"",(0,uv.jsx)("div",{className:"rating-section",children:Z?(0,uv.jsx)(ly,{userID:K,currentMediaID:p.tmdb.id,currentMediaType:p.tmdb.media_type,initialRate:p.tmdb.rating,initialAvgRate:p.tmdb.avgRating}):(0,uv.jsxs)("p",{children:["Log in to rate this"," ","movie"===p.tmdb.media_type?p.tmdb.media_type:"tv show"]})})]}),(0,uv.jsxs)("div",{className:"col-md-8",children:["tv"===p.tmdb.media_type&&_&&(0,uv.jsx)("div",{className:"mt-3",children:"Returning Series"===p.tmdb.status||p.tmdb.in_production?(0,uv.jsx)("div",{className:"alert alert-info",children:(0,uv.jsxs)("small",{children:[(0,uv.jsx)("strong",{children:`${p.tmdb.name} is Ongoing`}),p.tmdb.next_episode_to_air?(0,uv.jsxs)(uv.Fragment,{children:[(0,uv.jsx)("br",{}),(0,uv.jsx)("strong",{children:"Next Episode: "}),"S",p.tmdb.next_episode_to_air.season_number,"E",p.tmdb.next_episode_to_air.episode_number," -"," ",p.tmdb.next_episode_to_air.name,(0,uv.jsx)("br",{}),(0,uv.jsx)("em",{children:"This show will appear in your TV Calendar"})]}):(0,uv.jsxs)(uv.Fragment,{children:[(0,uv.jsx)("br",{}),(0,uv.jsx)("em",{children:"No upcoming episodes scheduled yet"})]})]})}):(0,uv.jsx)("div",{className:"alert alert-secondary",children:(0,uv.jsx)("small",{children:(0,uv.jsx)("em",{children:"Finished shows don't appear in the TV Calendar"})})})}),"tv"===p.tmdb.media_type?(0,uv.jsxs)("p",{children:[(0,uv.jsx)("strong",{children:"Series Status:"})," ",p.tmdb.status||"Ended"]}):(0,uv.jsxs)("p",{children:[(0,uv.jsx)("strong",{children:"Status:"})," ",p.tmdb.status||"Unreleased"]}),(0,uv.jsxs)("p",{children:[(0,uv.jsx)("strong",{children:"Release Date: "})," ",p.tmdb.release_date||p.tmdb.first_air_date?(0,uv.jsx)(uv.Fragment,{children:p.tmdb.release_date||p.tmdb.first_air_date}):"N/A"]}),(0,uv.jsxs)("p",{children:[(0,uv.jsx)("strong",{children:"TMDB Rating: "})," ",Math.round(p.tmdb.vote_average),"/10"]}),(0,uv.jsxs)("p",{children:[p.tmdb.runtime?(0,uv.jsxs)(uv.Fragment,{children:[(0,uv.jsx)("strong",{children:"Runtime: "}),`${Math.floor(p.tmdb.runtime/60)}h ${p.tmdb.runtime%60}m`]}):"",p.tmdb.runtime&&p.tmdb.number_of_seasons?" \u2022 ":"",p.tmdb.number_of_seasons?(0,uv.jsxs)(uv.Fragment,{children:[(0,uv.jsx)("strong",{children:"Seasons: "}),`${p.tmdb.number_of_seasons} seasons`]}):""]}),(0,uv.jsxs)("p",{children:[(0,uv.jsx)("strong",{children:"Age Rating: "})," ",p.tmdb.content_rating||"Unknown"]}),(0,uv.jsx)("div",{className:"d-flex flex-wrap gap-2 mb-2",children:p.tmdb.genres&&p.tmdb.genres.length>0?p.tmdb.genres.map((e=>(0,uv.jsx)("span",{className:"badge bg-primary",children:e.name},e.id))):(0,uv.jsx)("span",{children:"No genres available"})}),(0,uv.jsxs)("div",{className:"overview-section",children:[p.tmdb.tagline?(0,uv.jsx)("p",{children:p.tmdb.tagline}):(0,uv.jsx)("p",{children:""}),(0,uv.jsx)("p",{children:p.tmdb.overview})]}),(0,uv.jsx)("div",{className:"d-flex flex-wrap gap-2 mb-2",children:p.tmdb.spoken_languages&&p.tmdb.spoken_languages.length>0?p.tmdb.spoken_languages.map((e=>(0,uv.jsx)("span",{className:"badge bg-success",children:e.english_name},e.id))):(0,uv.jsx)("span",{children:"No langauges available"})})]})]})}),"tv"===(null===(i=p.tmdb)||void 0===i?void 0:i.media_type)&&(0,uv.jsx)(oC,{eventKey:"episodes",title:"Episodes",children:L?(0,uv.jsxs)("div",{className:"text-center p-4",children:[(0,uv.jsx)(gT,{animation:"border"}),(0,uv.jsx)("p",{className:"mt-2",children:" Loading episode data..."})]}):(0,uv.jsxs)("div",{className:"episodes-container",children:[(0,uv.jsxs)("div",{className:"season-tabs mb-4",children:[(0,uv.jsx)("h4",{children:"Seasons"}),(0,uv.jsx)("div",{className:"d-flex flex-wrap gap-2",children:j.map((e=>(0,uv.jsxs)(ny,{variant:$===e.season_number?"primary":"outline-primary",onClick:()=>B(e.season_number),className:"d-flex flex-column align-items-center",style:{minWidth:"120px"},children:[(0,uv.jsxs)("div",{children:["Season ",e.season_number]}),Z&&(0,uv.jsx)(dC,{now:ue(e.season_number),label:`${ue(e.season_number)}%`,style:{width:"100%",height:"15px",fontSize:"12px"},className:"progress"})]},e.season_number)))})]}),(0,uv.jsxs)("div",{className:"episode-list",children:[(0,uv.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,uv.jsxs)("h4",{children:["Season ",$," Episodes"]}),Z&&(0,uv.jsxs)("div",{className:"batch-actions d-flex gap-2",children:[(0,uv.jsxs)(ny,{variant:"success",size:"sm",onClick:()=>le($,!0),disabled:L,children:[(0,uv.jsx)(Iv,{className:"me-1"})," Watch All"]}),(0,uv.jsxs)(ny,{variant:"outline-secondary",size:"sm",onClick:()=>le($,!1),disabled:L,children:[(0,uv.jsx)(Mv,{className:"me-1"})," Unwatch All"]})]})]}),(0,uv.jsx)(mC,{children:(F[$]||[]).map((e=>(0,uv.jsxs)(mC.Item,{className:"episode-item d-flex gap-3 align-items-start py-3 "+(ce($,e.episode_number)?"watched":""),children:[(0,uv.jsx)("div",{children:e.still_path?(0,uv.jsx)("img",{src:`${W}${e.still_path}`,alt:`Episode ${e.episode_number}`,className:"episode-thumbnail"}):(0,uv.jsx)("div",{className:"d-flex align-items-center justify-content-center bg-light text-muted",style:{width:"220px",height:"110px",borderradius:"8px",marginRight:"20px"},children:"no image available"})}),(0,uv.jsxs)("div",{className:"episode-info flex-grow-1",children:[(0,uv.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,uv.jsxs)("h5",{className:"mb-1",children:[e.episode_number,". ",e.name]}),(0,uv.jsx)("small",{children:e.air_date})]}),(0,uv.jsx)("p",{className:"mb-1",children:e.overview||"No overview available"})]}),Z&&(0,uv.jsx)("div",{className:"watch-toggle",onClick:()=>oe($,e.episode_number,!ce($,e.episode_number)),children:ce($,e.episode_number)?(0,uv.jsx)(Iv,{size:24,className:"text-success"}):(0,uv.jsx)(Mv,{size:24,className:"text-muted"})})]},e.id)))})]})]})}),(0,uv.jsx)(oC,{eventKey:"cast",title:"Cast",children:(0,uv.jsx)("div",{className:"mt-3",children:(null===(s=p.tmdb.credits)||void 0===s?void 0:s.cast.length)>0?(0,uv.jsx)("div",{className:"row row-cols-2 row-cols-md-4 row-col-lg-5 g-2 cast-section",children:null===(a=p.tmdb.credits)||void 0===a?void 0:a.cast.map((e=>(0,uv.jsx)("div",{className:"col",children:(0,uv.jsx)("div",{className:"card h-100 border-0 cast-card",children:e.profile_path?(0,uv.jsxs)("figure",{className:"figure",children:[(0,uv.jsx)("img",{src:`${W}${e.profile_path}`,alt:e.name,className:"card-img-top rounded"}),(0,uv.jsxs)("figcaption",{className:"figure-caption",children:[e.name," as ",e.character]})]}):(0,uv.jsxs)("figure",{className:"figure",children:[(0,uv.jsx)("div",{style:{width:"40px",height:"40px",borderRadius:"50%",backgroundColor:"#e9ecef",marginRight:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,uv.jsx)("small",{children:"N/A"})}),(0,uv.jsxs)("figcaption",{className:"figure-caption",children:[e.name," as ",e.character]})]})})},e.id)))}):(0,uv.jsx)("p",{children:"No cast information available"})})}),p.watchmode.length>0&&(0,uv.jsx)(oC,{eventKey:"watch",title:"Where to Watch",children:(0,uv.jsx)("div",{className:"mt-4",children:(null===(o=p.watchmode)||void 0===o?void 0:o.length)>0?(0,uv.jsx)("div",{className:"table-responsive",children:(0,uv.jsxs)("table",{className:"table table-striped",children:[(0,uv.jsx)("thead",{children:(0,uv.jsxs)("tr",{children:[(0,uv.jsx)("th",{children:"Platform"}),(0,uv.jsx)("th",{children:"Purchase Type"}),(0,uv.jsx)("th",{children:"Price"}),(0,uv.jsx)("th",{children:"Region"})]})}),(0,uv.jsx)("tbody",{children:p.watchmode.sort(((e,t)=>{var n;return null===(n=e.region)||void 0===n?void 0:n.localeCompare(t.region)})).map(((e,t)=>(0,uv.jsxs)("tr",{children:[(0,uv.jsx)("td",{children:(0,uv.jsx)("a",{href:e.web_url,target:"_blank",rel:"nooperner noreferrer",style:{cursor:"pointer"},className:"btn btm-sm btn-outline-primary",children:e.name})}),(0,uv.jsx)("td",{children:e.type}),(0,uv.jsx)("td",{children:e.price||"sub"}),(0,uv.jsx)("td",{children:e.region})]},`${e.name}-${e.region}-${t}`)))})]})}):(0,uv.jsx)("div",{className:"alert alert-secondary",children:(0,uv.jsx)("p",{children:"no streaming information is currently available"})})})}),Z&&(0,uv.jsx)(oC,{eventKey:"tags",title:"Tags",children:(0,uv.jsx)("div",{className:"row",children:(0,uv.jsx)("div",{className:"col-12",children:(0,uv.jsx)(EC,{userID:K,mediaId:p.tmdb.id,mediaType:p.tmdb.media_type})})})}),Z&&(0,uv.jsx)(oC,{eventKey:"comments",title:"Comments",children:(0,uv.jsx)("div",{className:"row",children:(0,uv.jsx)("div",{className:"comments-section col-12",children:(0,uv.jsx)(Hw,{userID:K,mediaId:p.tmdb.id,mediaType:p.tmdb.media_type,displayName:X})})})}),(0,uv.jsx)(oC,{eventKey:"similar",title:"Similar",children:w&&!y?(0,uv.jsx)("div",{className:"mt-4",children:(0,uv.jsx)("div",{className:"row row-cols-1 row-cols-md-3 row-cols-lg-4 g-4",children:null===w||void 0===w?void 0:w.map((e=>{var t,n;return(0,uv.jsx)("div",{className:"col",children:(0,uv.jsxs)("div",{className:"card h-100 shadow-sm hover-shadow-lg transition recommendation-item",onClick:()=>(async e=>{let t;try{v(!0),t=await yC(e.id,e.media_type);const n=await ie(K,t.tmdb.id,t.tmdb.media_type);t.tmdb.rating=n.rating;const r=await Uv(t.tmdb.id,t.tmdb.media_type);t.tmdb.avgRating=r,m(t),E([]),Y("overview")}catch(V){console.error("Error loading details",V)}finally{v(!1)}})(e),role:"button",children:[e.poster_path&&(0,uv.jsx)("img",{src:`${W}${e.poster_path}`,className:"card-img-top",alt:e.title||e.name,loading:"lazy"}),(0,uv.jsxs)("div",{className:"card-body",children:[(0,uv.jsx)("h5",{className:"card-title text-truncate recommendation-title",children:e.title||e.name}),(0,uv.jsxs)("div",{className:"d-flex justify-content-between small mb-2",children:[(0,uv.jsx)("span",{className:"badge bg-primary recommendation-details",children:(null===(t=e.release_date)||void 0===t?void 0:t.split("-")[0])||(null===(n=e.first_air_date)||void 0===n?void 0:n.split("-")[0])}),(0,uv.jsxs)("span",{className:"badge bg-success recommendation-details",children:[(0,uv.jsx)("i",{className:"bi bi-star-fill me-1"}),Math.round(e.vote_average)]})]})]})]})},e.id)}))})}):(0,uv.jsxs)("div",{className:"loading-spinner",children:[(0,uv.jsx)(gT,{animation:"border",variant:"primary"}),(0,uv.jsx)("span",{children:" Finding similar titles..."})]})}),p.tmdb.images&&(0,uv.jsx)(oC,{eventKey:"images",title:"Images",children:(0,uv.jsxs)("div",{className:"images-container mt-3",children:[p.tmdb.images.backdrops&&p.tmdb.images.backdrops.length>0&&(0,uv.jsxs)(uv.Fragment,{children:[(0,uv.jsx)("h4",{className:"mt-3 mb-2",children:"Backdrops"}),(0,uv.jsx)("div",{className:"row",children:p.tmdb.images.backdrops.map(((e,t)=>(0,uv.jsx)("div",{className:"col-md-6 mb-3",children:(0,uv.jsx)("div",{className:"video-card",children:(0,uv.jsx)("div",{className:"image-thumbnail",children:(0,uv.jsx)("a",{href:`https://image.tmdb.org/t/p/original${e.file_path}`,target:"_blank",rel:"noopener noreferrer",children:(0,uv.jsx)("img",{src:`https://image.tmdb.org/t/p/w500${e.file_path}`,alt:`Backdrop ${t+1}`,className:"img-fluid rounded"})})})})},`backdrop-${t}`)))})]}),p.tmdb.images.posters&&p.tmdb.images.posters.length>0&&(0,uv.jsxs)(uv.Fragment,{children:[(0,uv.jsx)("h4",{className:"mt-4 mb-2",children:"Posters"}),(0,uv.jsx)("div",{className:"row",children:p.tmdb.images.posters.map(((e,t)=>(0,uv.jsx)("div",{className:"col-md-3 mb-3",children:(0,uv.jsx)("div",{className:"video-card",children:(0,uv.jsx)("div",{className:"image-thumbnail",children:(0,uv.jsx)("a",{href:`https://image.tmdb.org/t/p/original${e.file_path}`,target:"_blank",rel:"noopener noreferrer",children:(0,uv.jsx)("img",{src:`https://image.tmdb.org/t/p/w342${e.file_path}`,alt:`Poster ${t+1}`,className:"img-fluid rounded"})})})})},`poster-${t}`)))})]}),(!p.tmdb.images.backdrops||0===p.tmdb.images.backdrops.length)&&(!p.tmdb.images.posters||0===p.tmdb.images.posters.length)&&(0,uv.jsxs)("p",{children:["No images available for this"," ","movie"===p.tmdb.media_type?"movie":"TV show","."]})]})}),p.tmdb.videos&&(0,uv.jsx)(oC,{eventKey:"videos",title:"Videos",children:(0,uv.jsx)("div",{className:"videos-container mt-3",children:p.tmdb.videos.results&&p.tmdb.videos.results.length>0?(0,uv.jsx)("div",{className:"row",children:p.tmdb.videos.results.map((e=>(0,uv.jsx)("div",{className:"col-md-6 mb-3",children:(0,uv.jsxs)("div",{className:"video-card",children:[(0,uv.jsx)("h5",{children:e.name}),(0,uv.jsx)("div",{className:"video-thumbnail",children:(0,uv.jsxs)("a",{href:`https://www.youtube.com/watch?v=${e.key}&autoplay=1&mute=1`,target:"_blank",rel:"noopener noreferrer",children:[(0,uv.jsx)("img",{src:`https://img.youtube.com/vi/${e.key}/maxresdefault.jpg`,onError:t=>{t.target.onerror=null,t.target.src=`https://img.youtube.com/vi/${e.key}/mqdefault.jpg`},alt:e.name,className:"img-fluid rounded"}),(0,uv.jsx)("div",{className:"play-icon",children:(0,uv.jsx)(Ov,{})})]})}),(0,uv.jsx)("p",{className:"text-muted",children:e.type})]})},e.id)))}):(0,uv.jsxs)("p",{children:["No videos available for this"," ","movie"===p.tmdb.media_type?"movie":"TV show"]})})}),!Z&&(0,uv.jsx)(oC,{eventKey:"teleshow",title:"Login for More",children:(0,uv.jsxs)(uv.Fragment,{children:[(0,uv.jsx)("h3",{children:"Make an account and get access to the full features of Teleshow:"}),(0,uv.jsx)("ul",{className:"features-list",children:[{title:"Search",desc:"Find movies and TV shows with an intelligent relevanced-based search system"},{title:"Create Custom Watchlists",desc:"Organize movies and shows into personalized collections"},{title:"Rating System",desc:"Rate content on a star scale to remember your favorites"},{title:"Leave Comments",desc:"Engage with other users by leaving comments on movies and shows with worry of spoilers"},{title:"Track Your Favorite Series",desc:"Follow shows you love to never miss an update"},{title:"Monitor Viewing Progress",desc:"Keep track of which episodes you've watched across all your series"},{title:"Personalized Recommendations",desc:"Get suggestions based on your viewing history and preferences"},{title:"Release Calendar",desc:"See when new episodes of your favorite shows are scheduled to air"}].map(((e,t)=>(0,uv.jsxs)("li",{children:[(0,uv.jsx)("span",{className:"feature-title",children:e.title}),(0,uv.jsx)("span",{className:"feature-description",children:e.desc})]},t)))})]})})]})}),(0,uv.jsx)(Bw.Footer,{className:"border-0",children:(0,uv.jsx)(ny,{variant:"outline-secondary",onClick:h,style:{backgroundColor:"silver"},children:"Close"})})]}),(0,uv.jsxs)(Bw,{show:S,onHide:re,centered:!0,className:"detail-modal",children:[(0,uv.jsx)(Bw.Header,{closeButton:!0,children:(0,uv.jsx)(Bw.Title,{children:"Add to Watchlist"})}),(0,uv.jsx)(Bw.Body,{children:O?(0,uv.jsxs)("div",{className:"text-center",children:[(0,uv.jsx)(gT,{animation:"border",variant:"primary"}),(0,uv.jsx)("p",{className:"mt-2",children:"Adding to watchlist..."})]}):(0,uv.jsxs)(uv.Fragment,{children:[T.length>0?(0,uv.jsxs)("div",{className:"mb-3",children:[(0,uv.jsx)("label",{children:"Select Watchlist:"}),(0,uv.jsxs)("select",{className:"form-control",value:N,onChange:e=>I(e.target.value),children:[(0,uv.jsx)("option",{value:"",children:"-- Select Watchlist --"}),T.map((e=>(0,uv.jsx)("option",{value:e.name,children:e.name},e.id)))]})]}):(0,uv.jsx)("p",{children:" You don't have any watchlists yet. Create one below:"}),(0,uv.jsxs)("div",{className:"mb-3",children:[(0,uv.jsx)("label",{children:T.length>0?"Or Create New Watchlist:":"Create New Watchlist:"}),(0,uv.jsx)("input",{type:"text",className:"form-control",value:R,onChange:e=>A(e.target.value),placeholder:"Enter watchlist name"})]})]})}),(0,uv.jsxs)(Bw.Footer,{children:[(0,uv.jsx)(ny,{variant:"secondary",onClick:re,children:"Cancel"}),(0,uv.jsx)(ny,{variant:"primary",onClick:async()=>{const e=N||R;if(e.trim()){if(K){P(!0);try{const t={id:p.tmdb.id,media_name:p.tmdb.title||p.tmdb.name,media_type:p.tmdb.media_type,overview:p.tmdb.overview,release_date:p.tmdb.release_date||p.tmdb.first_air_date,poster_path:p.tmdb.poster_path};"success"===(await ax.post(`${J}interactions/add-watchlist`,{user_id:K,watchlist_name:e,media_info:t})).data.status&&(alert(`Added to watchlist: ${e}`),re())}catch(V){V.response&&V.response.data&&V.response.data.error?alert(V.response.data.error):(console.error("Error adding to watchlist:",V),alert("Failed to add to watchlist"))}finally{P(!1)}}}else alert("Please select or create a watchlist")},disabled:!N&&!R.trim()||O,children:"Add to Watchlist"})]})]})]})};function xC(e){return xv({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.5 7.25a.75.75 0 0 0-1.5 0v5.5c0 .27.144.518.378.651l3.5 2a.75.75 0 0 0 .744-1.302L12.5 12.315V7.25Z"},child:[]},{tag:"path",attr:{d:"M12 1c6.075 0 11 4.925 11 11s-4.925 11-11 11S1 18.075 1 12 5.925 1 12 1ZM2.5 12a9.5 9.5 0 0 0 9.5 9.5 9.5 9.5 0 0 0 9.5-9.5A9.5 9.5 0 0 0 12 2.5 9.5 9.5 0 0 0 2.5 12Z"},child:[]}]})(e)}function SC(e){return xv({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M10.25 2a8.25 8.25 0 0 1 6.34 13.53l5.69 5.69a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215l-5.69-5.69A8.25 8.25 0 1 1 10.25 2ZM3.5 10.25a6.75 6.75 0 1 0 13.5 0 6.75 6.75 0 0 0-13.5 0Z"},child:[]}]})(e)}const kC=()=>{bx(ax,{retries:3,retryDelay:bx.exponentialDelay});const[e,n]=(0,t.useState)(""),r=(0,t.useRef)(null),[i,s]=(0,t.useState)("all"),[a,o]=(0,t.useState)(["all"]),[l,c]=(0,t.useState)({}),[u,d]=(0,t.useState)(null),[h,f]=(0,t.useState)(!0),[p,m]=(0,t.useState)(!1),[g,v]=(0,t.useState)(!1),[y,b]=(0,t.useState)([]),[w,E]=(0,t.useState)(!1),_=!!sessionStorage.getItem("userId"),x=()=>{e||f(!1)},S=(0,t.useRef)(null);(0,t.useEffect)((()=>{const e=e=>{S.current&&!S.current.contains(e.target)&&(x(),v(!1),n(""),s("all"),o("all"))};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)}),[x]),(0,t.useEffect)((()=>{console.log("Query value updated to:",e)}),[e]);const k=t=>{if(s(t),e.trim())C(e,t);else if(y.length>0){const e=y[0];n(e),C(e,t)}},T=t=>{if(o(t),e.trim())C(e,i,t);else if(y.length>0){const e=y[0];n(e),C(e,i,t)}},C=async(t,s,o)=>{m(!0);const l=t||e,u=s||i,d=o||a,h=d.includes("all")?"all":d.join(",");l.trim().length>2&&b((e=>e.includes(l)?e:[l,...e].slice(0,10))),console.log("Search triggered");const p=((e,t,n)=>`search-${t}-${n}-${e.toLowerCase().trim()}`)(l,u,h),g=localStorage.getItem(p);if(g){const{compressed:e,data:t,timestamp:n}=JSON.parse(g);if(Date.now()-n<432e5){const n=e?JSON.parse(yT().decompress(t)):JSON.parse(t);return c(n),n.results?c({unified:!0,allResults:n.results}):n.tmdb_movie?c({unified:!1,tmdb_movie:n.tmdb_movie||[]}):c({unified:!1,tmdb_tv:n.tmdb_tv||[]}),v(!0),void m(!1)}localStorage.removeItem(p)}try{const e=await ax.get("http://localhost:5000/search",{params:{query:l,filter_type:u,streaming_platform:h}});e.data.results?c({unified:!0,allResults:e.data.results}):e.data.tmdb_movie?c({unified:!1,tmdb_movie:e.data.tmdb_movie||[]}):c({unified:!1,tmdb_tv:e.data.tmdb_tv||[]}),v(!0),localStorage.setItem(p,JSON.stringify({compressed:!0,data:yT().compress(JSON.stringify(e.data)),timestamp:Date.now()}))}catch(y){console.error("Error searching data: ",y),alert("Unable to connect to the server. Please try again later."),n(""),f(!0),setTimeout((()=>{r.current&&r.current.focus()}),100)}m(!1)},N=async e=>{v(!1),m(!0),f(!1);try{const t=await yC(e.id,e.media_type);d(t)}catch(t){console.error("Error fetching details: ",t)}m(!1)};return(0,uv.jsxs)("div",{ref:S,className:"position-relative",children:[(0,uv.jsx)("div",{onSubmit:e=>e.preventDefault(),children:(0,uv.jsxs)(kx,{className:`search-container ${h?"expanded":""} ${g?"results-visible":""}`,children:[h?(0,uv.jsx)(Gy.Control,{ref:r,type:"search",placeholder:"Search Teleshow Library...",value:e,autoFocus:!0,onChange:e=>n(e.target.value),onFocus:()=>{y.length>0&&E(!0)},onBlur:()=>{setTimeout((()=>{E(!1)}),200)},className:"search-input",onKeyDown:t=>{"Enter"===t.key&&e.trim().length>2&&(C(),t.preventDefault())}}):(0,uv.jsx)(kx.Text,{className:"search-trigger",onClick:()=>{f(!0),r.current&&r.current.focus()},children:(0,uv.jsx)(SC,{className:"search-icon"})}),(0,uv.jsx)("div",{className:"filter-area",children:h&&(0,uv.jsxs)(uv.Fragment,{children:[(0,uv.jsx)("div",{className:"dropdown",children:(0,uv.jsxs)(pT,{children:[(0,uv.jsxs)(pT.Toggle,{className:"filter-dropdown-btn",children:[(0,uv.jsx)(bT,{className:"me-2"}),"all"===i?"All":"movie"===i?"Movies":"TV"]}),(0,uv.jsxs)(pT.Menu,{className:"filter-dropdown-menu",children:[(0,uv.jsx)(pT.Item,{onClick:()=>k("all"),children:"All"}),(0,uv.jsx)(pT.Item,{onClick:()=>k("movie"),children:"Movies"}),(0,uv.jsx)(pT.Item,{onClick:()=>k("tv"),children:"TV Shows"}),(0,uv.jsx)(pT.Item,{onClick:()=>{window.confirm("Are you sure you want to erase all cached data? This action cannot be undone.")&&(Object.keys(localStorage).filter((e=>e.startsWith("search-")||e.startsWith("details-")||e.startsWith("recommendations-"))).forEach((e=>localStorage.removeItem(e))),alert("Cache cleared successfully!"))},children:"Clear Cache"})]})]})}),_&&(0,uv.jsx)("div",{className:"dropdown",children:(0,uv.jsxs)(pT,{children:[(0,uv.jsx)(pT.Toggle,{className:"platform-dropdown-btn",children:a.includes("all")?"All Platforms":a}),(0,uv.jsxs)(pT.Menu,{className:"platform-dropdown-menu",children:[(0,uv.jsx)(pT.Item,{onClick:()=>T(["all"]),children:"All Platforms"}),(0,uv.jsx)(pT.Item,{onClick:()=>T(["netflix"]),children:"Netflix"}),(0,uv.jsx)(pT.Item,{onClick:()=>T(["hulu"]),children:"Hulu"}),(0,uv.jsx)(pT.Item,{onClick:()=>T(["amazon"]),children:"Amazon Prime"}),(0,uv.jsx)(pT.Item,{onClick:()=>T(["disney"]),children:"Disney+"}),(0,uv.jsx)(pT.Item,{onClick:()=>T(["max"]),children:"HBO Max"}),(0,uv.jsx)(pT.Item,{onClick:()=>T(["apple"]),children:"Apple TV+"}),(0,uv.jsx)(pT.Item,{onClick:()=>T(["paramount"]),children:"Paramount"}),(0,uv.jsx)(pT.Item,{onClick:()=>T(["peacock"]),children:"Peacock"}),(0,uv.jsx)(pT.Item,{onClick:()=>T(["google"]),children:"Google"})]})]})})]})}),h&&w&&y.length>0&&!g&&(0,uv.jsxs)("div",{className:"search-history-container",children:[(0,uv.jsx)("div",{className:"search-history-header",children:"Recent Searches"}),y.map(((e,t)=>(0,uv.jsxs)("div",{className:"search-history-item",onClick:()=>(e=>{n(e),C(e,"all")})(e),children:[(0,uv.jsx)(xC,{className:"search-history-icon"}),(0,uv.jsx)("span",{className:"search-history-text",children:e})]},t))),(0,uv.jsx)("div",{className:"search-history-clear",onClick:()=>b([]),children:"Clear History"})]})]})}),(g||p)&&(0,uv.jsx)(pT.Menu,{show:!0,className:"search-results-container show",children:p?(0,uv.jsxs)("div",{className:"loading-container",children:[(0,uv.jsx)(gT,{animation:"border",role:"status",variant:"light",children:(0,uv.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,uv.jsxs)("p",{className:"loading-text",children:["Searching","all"!==i?" "+("movie"===i?"movies":"TV shows"):"","all"!==a?` on ${a}`:"","..."]})]}):l&&l.unified?l.allResults&&l.allResults.length>0?(0,uv.jsx)("div",{className:"search-result-item",children:l.allResults.map((e=>(0,uv.jsx)(ET,{item:e,onClick:N},`${e.media_type}-${e.id}`)))}):(0,uv.jsx)("div",{className:"no-results",children:"No results found"}):l&&(l.tmdb_movie||l.tmdb_tv)?(0,uv.jsxs)(uv.Fragment,{children:[(0,uv.jsx)("div",{className:"search-result-item",children:l.tmdb_movie&&(0,uv.jsxs)(uv.Fragment,{children:[(0,uv.jsx)("h6",{className:"px-3 mt-2",children:"Movies"}),l.tmdb_movie.map((e=>(0,uv.jsx)(ET,{item:e,onClick:N},e.id)))]})}),(0,uv.jsx)("div",{className:"search-result-item",children:l.tmdb_tv&&(0,uv.jsxs)(uv.Fragment,{children:[(0,uv.jsx)("h6",{className:"px-3 mt-2",children:"TV Shows"}),l.tmdb_tv.map((e=>(0,uv.jsx)(ET,{item:e,onClick:N},e.id)))]})})]}):(0,uv.jsx)("div",{className:"no-results",children:"No results found"})}),u&&(0,uv.jsx)(_C,{item:u,show:!!u,onHide:()=>d(null)})]})},TC=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:i="div",...s}=e;const a=Jv(n,"row"),o=Xv(),l=Zv(),c=`${a}-cols`,u=[];return o.forEach((e=>{const t=s[e];let n;delete s[e],null!=t&&"object"===typeof t?({cols:n}=t):n=t;const r=e!==l?`-${e}`:"";null!=n&&u.push(`${c}${r}-${n}`)})),(0,uv.jsx)(i,{ref:t,...s,className:zv()(r,a,...u)})}));TC.displayName="Row";const CC=TC,NC=[{id:"netflix",name:"Netflix"},{id:"hulu",name:"Hulu"},{id:"disney",name:"Disney+"},{id:"amazon",name:"Amazon Prime"},{id:"max",name:"HBO Max"},{id:"apple",name:"Apple TV+"},{id:"paramount",name:"Paramount+"},{id:"peacock",name:"Peacock"},{id:"google",name:"Google"}];const IC=function(e){let{selectedPlatforms:t,onPlatformChange:n,title:r="Filter by Streaming Platforms:"}=e;const i=e=>{n&&n(e)};return(0,uv.jsxs)("div",{className:"platform-filter-container",children:[(0,uv.jsx)("h5",{children:r}),(0,uv.jsx)(Gy,{children:(0,uv.jsxs)(CC,{children:[(0,uv.jsx)(Py,{xs:12,children:(0,uv.jsx)(Gy.Check,{type:"checkbox",id:"platform-all",label:"All Platforms",checked:t.includes("all"),onChange:()=>i("all"),className:"mb-2"})}),NC.map((e=>(0,uv.jsx)(Py,{xs:6,md:4,children:(0,uv.jsx)(Gy.Check,{type:"checkbox",id:`platform-${e.id}`,label:e.name,checked:t.includes(e.id),onChange:()=>i(e.id),disabled:t.includes("all"),className:"mb-2"})},e.id)))]})})]})};function RC(e){return xv({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M413.967 276.8c1.06-6.235 1.06-13.518 1.06-20.8s-1.06-13.518-1.06-20.8l44.667-34.318c4.26-3.118 5.319-8.317 2.13-13.518L418.215 115.6c-2.129-4.164-8.507-6.235-12.767-4.164l-53.186 20.801c-10.638-8.318-23.394-15.601-36.16-20.801l-7.448-55.117c-1.06-4.154-5.319-8.318-10.638-8.318h-85.098c-5.318 0-9.577 4.164-10.637 8.318l-8.508 55.117c-12.767 5.2-24.464 12.482-36.171 20.801l-53.186-20.801c-5.319-2.071-10.638 0-12.767 4.164L49.1 187.365c-2.119 4.153-1.061 10.399 2.129 13.518L96.97 235.2c0 7.282-1.06 13.518-1.06 20.8s1.06 13.518 1.06 20.8l-44.668 34.318c-4.26 3.118-5.318 8.317-2.13 13.518L92.721 396.4c2.13 4.164 8.508 6.235 12.767 4.164l53.187-20.801c10.637 8.318 23.394 15.601 36.16 20.801l8.508 55.117c1.069 5.2 5.318 8.318 10.637 8.318h85.098c5.319 0 9.578-4.164 10.638-8.318l8.518-55.117c12.757-5.2 24.464-12.482 36.16-20.801l53.187 20.801c5.318 2.071 10.637 0 12.767-4.164l42.549-71.765c2.129-4.153 1.06-10.399-2.13-13.518l-46.8-34.317zm-158.499 52c-41.489 0-74.46-32.235-74.46-72.8s32.971-72.8 74.46-72.8 74.461 32.235 74.461 72.8-32.972 72.8-74.461 72.8z"},child:[]}]})(e)}const AC=function(){const[e,n]=(0,t.useState)(""),[r,i]=(0,t.useState)(""),[s,a]=(0,t.useState)(!1),[o,l]=(0,t.useState)(0),[c,u]=(0,t.useState)(""),[d,h]=(0,t.useState)((()=>{const e=sessionStorage.getItem("platform_selection");if(e)try{return JSON.parse(e)}catch(t){console.error("Error parsing saved platforms:",t)}return["all"]})),[f,p]=(0,t.useState)(!1),[m,g]=(0,t.useState)(!1),[v,y]=(0,t.useState)([]),[b,w]=(0,t.useState)([]),[E,_]=(0,t.useState)(!1),[x,S]=(0,t.useState)("darkMode"),[k,T]=(0,t.useState)(""),[C,N]=(0,t.useState)(""),[I,R]=(0,t.useState)(""),[A,O]=(0,t.useState)(""),[P,j]=(0,t.useState)(""),[D,L]=(0,t.useState)(""),[M,F]=(0,t.useState)(""),[U,V]=(0,t.useState)(""),[z,$]=(0,t.useState)(""),[B,H]=(0,t.useState)(0),[q,W]=(0,t.useState)(0),[K,G]=(0,t.useState)(null),[Q,Y]=(0,t.useState)(!1),J=!d.includes("all"),[X,Z]=(0,t.useState)(!0);(0,t.useEffect)((()=>{s&&e&&te()}),[d,s,e]);const te=async()=>{p(!0),g(!0);const e=d.includes("all")?"all":d.join(","),t=sessionStorage.getItem("userId"),n=await ax.get("http://localhost:5000/user-recommendations",{params:{user_id:t,platforms:e}});console.log(n.data);const r=ne(n.data.movie_recs,4),i=ne(n.data.tv_recs,4);w(r),y(i),p(!1),g(!1)},ne=(e,t)=>{if(!e||e.length<=t)return e;return[...e].sort((()=>.5-Math.random())).slice(0,t)},re="https://image.tmdb.org/t/p/w500",[ie,se]=(0,t.useState)(!1);(0,t.useEffect)((()=>{gs(lv,(async e=>{if(e){const t=e.uid;console.log("uid",t),console.log("You appear to be signed in."),a(!0),i(e.displayName),sessionStorage.setItem("userName",e.displayName),n(t)}else console.log("You appear to be signed out."),a(!1),n("")}))}),[]);const ae=ee(),oe=e=>{console.log("item clicked",e),e.title?e.media_type="movie":e.media_type="tv",G(e),Y(!0)};return(0,uv.jsxs)("div",{className:"container "+(E?"dashboard-light":"dashboard-dark"),id:"dashboard",children:[(0,uv.jsx)("h2",{children:"Dashboard in Progress Stay Tuned"}),(0,uv.jsxs)("div",{children:[s?(0,uv.jsxs)(uv.Fragment,{children:[(0,uv.jsxs)("p",{children:["Welcome, ",r||"none","! "]}),(0,uv.jsxs)("div",{className:"centerBar",children:[(0,uv.jsx)(iy,{style:{fontSize:"48px",cursor:"pointer",float:"left"},onClick:()=>alert("Profile functionality has not yet been fully implemented. We thank you for your patience.")}),(0,uv.jsx)(kC,{lightMode:!!E})," ",(0,uv.jsx)(ry,{style:{fontSize:"48px",cursor:"pointer",float:"right"},onClick:async()=>{ae("/watchlist")}}),(0,uv.jsx)(RC,{style:{fontSize:"48px",cursor:"pointer",float:"right"},onClick:()=>ae("/settings")})]}),(0,uv.jsx)("br",{}),(0,uv.jsx)("br",{})]}):(0,uv.jsxs)(uv.Fragment,{children:[(0,uv.jsx)("p",{children:"You are currently logged out."}),(0,uv.jsx)(ny,{variant:"primary",onClick:()=>ae("/"),children:"Return to Login"})]}),(0,uv.jsxs)(Bw,{show:ie,onHide:()=>se(!1),dialogClassName:"modal-85w",backdrop:"static",keyboard:!1,children:[(0,uv.jsx)(Bw.Header,{closeButton:!0,className:""+(E?"head-light":"head-dark"),children:(0,uv.jsx)(Bw.Title,{children:k||"None"})}),(0,uv.jsx)(Bw.Body,{className:"modalBody "+(E?"body-light":"body-dark"),children:(0,uv.jsxs)("div",{className:"modalBox",children:[(0,uv.jsxs)("div",{className:"modalLeft",children:[(0,uv.jsx)("img",{className:"modalPoster",id:"modalPoster",src:C,alt:"modal poster"}),X?(0,uv.jsx)("button",{className:"watchlist-button primary",onClick:async t=>{t.preventDefault();let n=0;const r=Fg(Ym(cv,"Watchlist"),Vg("user_id","==",e),Vg("media_id","==",o),Vg("type","==",c));(await ev(r)).forEach((e=>{n=e.id})),await nv(Jm(cv,"Watchlist",n)).then((()=>{console.log("Document deleted successfully."),alert("Item removed from watchlist successfully."),Z(!1)})).catch((e=>{console.log(e),alert(e)}))},children:"Remove from Watchlist"}):(0,uv.jsx)("button",{className:"watchlist-button primary",onClick:async t=>{t.preventDefault();const n=Fg(Ym(cv,"Watchlist"),Vg("user_id","==",e),Vg("media_id","==",o),Vg("type","==",c)),r=await ev(n);let i=0;if(r.forEach((e=>{i++})),i>0)alert("You already have this in your watchlist.");else try{const t=await rv(Ym(cv,"Watchlist"),{user_id:e,title:k,type:c,media_id:o,status:"Plan to watch",date_added:av(),poster_path:C});console.log("Wrote document with ID: ",t.id),alert("Item added to watchlist successfully."),Z(!0)}catch(t){console.error("Error adding document: ",t)}},children:"Add to Watchlist"}),(0,uv.jsx)("button",{className:"watchlist-button secondary",onClick:()=>alert("Review functionality has not been implemented yet. We thank you for your patience."),children:"Write a Review"}),(0,uv.jsx)("p",{children:"Leave a Rating:"}),(0,uv.jsx)(ly,{userID:e,currentMediaID:o,currentMediaType:c,initialRate:B,initialAvgRate:q})]}),(0,uv.jsxs)("div",{className:"modalRight",children:[(0,uv.jsx)("h2",{children:"Overview"}),(0,uv.jsx)("div",{id:"overviewBox",children:I||"None"}),(0,uv.jsx)("hr",{}),(0,uv.jsx)("h3",{children:"Spoken Languages"}),A||"None",(0,uv.jsx)("hr",{}),(0,uv.jsx)(Hw,{userID:e,mediaId:o,mediaType:c,displayName:r,displayMode:x})]})]})})]}),s?(0,uv.jsxs)(uv.Fragment,{children:[(0,uv.jsxs)("h4",{children:["Recommended TV "+(J?"(Filtered) ":" "),":"]}),f&&(0,uv.jsx)("div",{className:"loading-container",children:(0,uv.jsx)(gT,{animation:"border",role:"status",variant:"light",children:(0,uv.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}),(0,uv.jsx)("div",{className:"mediaBox",children:v&&(null===v||void 0===v?void 0:v.map((e=>(0,uv.jsxs)("div",{className:"mediaCell",children:[(0,uv.jsx)("img",{className:"mediaPoster",src:re+e.poster_path,alt:"media",onClick:()=>oe(e)}),(0,uv.jsx)("p",{children:e.name})]},e.id))))}),(0,uv.jsx)("h4",{children:`Recommended Movies ${J?"(Filtered) ":" "}:`}),m&&(0,uv.jsx)("div",{className:"loading-container",children:(0,uv.jsx)(gT,{animation:"border",role:"status",variant:"light",children:(0,uv.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}),(0,uv.jsx)("div",{className:"mediaBox",children:b&&(null===b||void 0===b?void 0:b.map((e=>(0,uv.jsxs)("div",{className:"mediaCell",children:[(0,uv.jsx)("img",{className:"mediaPoster",src:re+e.poster_path,alt:"media",onClick:()=>oe(e)}),(0,uv.jsx)("p",{children:e.title})]},e.id))))}),(0,uv.jsxs)("div",{children:[(0,uv.jsx)(ny,{variant:"primary",onClick:()=>ae("/"),children:"Home Page"}),(0,uv.jsxs)(ny,{onClick:()=>{_((e=>!e)),S(E?"darkMode":"lightMode")},variant:""+(E?"dark":"light"),children:["Switch to ",E?"Dark":"Light"," Mode"]}),(0,uv.jsx)(ny,{variant:"danger",onClick:()=>{(function(e){return jt(e).signOut()})(lv).then((()=>{sessionStorage.removeItem("userId"),sessionStorage.removeItem("userName"),ae("/"),alert("You have logged out successfully.")})).catch((e=>{alert(e)}))},children:"Log out"})]})]}):""]}),K&&Q&&(0,uv.jsx)(_C,{mediaId:K.id,mediaType:K.media_type,show:Q,onHide:()=>{G(null),Y(!1)}})]})},OC=Lw("h4");OC.displayName="DivStyledAsH4";const PC=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i=OC,...s}=e;return r=Jv(r,"alert-heading"),(0,uv.jsx)(i,{ref:t,className:zv()(n,r),...s})}));PC.displayName="AlertHeading";const jC=PC,DC=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i=Xk,...s}=e;return r=Jv(r,"alert-link"),(0,uv.jsx)(i,{ref:t,className:zv()(n,r),...s})}));DC.displayName="AlertLink";const LC=DC,MC=t.forwardRef(((e,t)=>{const{bsPrefix:n,show:r=!0,closeLabel:i="Close alert",closeVariant:s,className:a,children:o,variant:l="primary",onClose:c,dismissible:u,transition:d=Ew,...h}=Vk(e,{show:"onClose"}),f=Jv(n,"alert"),p=sb((e=>{c&&c(!1,e)})),m=!0===d?Ew:d,g=(0,uv.jsxs)("div",{role:"alert",...m?void 0:h,ref:t,className:zv()(a,f,l&&`${f}-${l}`,u&&`${f}-dismissible`),children:[u&&(0,uv.jsx)(Aw,{onClick:p,"aria-label":i,variant:s}),o]});return m?(0,uv.jsx)(m,{unmountOnExit:!0,...h,ref:void 0,in:r,children:g}):r?g:null}));MC.displayName="Alert";const FC=Object.assign(MC,{Link:LC,Heading:jC}),UC=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...s}=e;return r=Jv(r,"card-body"),(0,uv.jsx)(i,{ref:t,className:zv()(n,r),...s})}));UC.displayName="CardBody";const VC=UC,zC=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...s}=e;return r=Jv(r,"card-footer"),(0,uv.jsx)(i,{ref:t,className:zv()(n,r),...s})}));zC.displayName="CardFooter";const $C=zC,BC=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:i,as:s="div",...a}=e;const o=Jv(r,"card-header"),l=(0,t.useMemo)((()=>({cardHeaderBsPrefix:o})),[o]);return(0,uv.jsx)(zT.Provider,{value:l,children:(0,uv.jsx)(s,{ref:n,...a,className:zv()(i,o)})})}));BC.displayName="CardHeader";const HC=BC,qC=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,variant:i,as:s="img",...a}=e;const o=Jv(n,"card-img");return(0,uv.jsx)(s,{ref:t,className:zv()(i?`${o}-${i}`:o,r),...a})}));qC.displayName="CardImg";const WC=qC,KC=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...s}=e;return r=Jv(r,"card-img-overlay"),(0,uv.jsx)(i,{ref:t,className:zv()(n,r),...s})}));KC.displayName="CardImgOverlay";const GC=KC,QC=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="a",...s}=e;return r=Jv(r,"card-link"),(0,uv.jsx)(i,{ref:t,className:zv()(n,r),...s})}));QC.displayName="CardLink";const YC=QC,JC=Lw("h6"),XC=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i=JC,...s}=e;return r=Jv(r,"card-subtitle"),(0,uv.jsx)(i,{ref:t,className:zv()(n,r),...s})}));XC.displayName="CardSubtitle";const ZC=XC,eN=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="p",...s}=e;return r=Jv(r,"card-text"),(0,uv.jsx)(i,{ref:t,className:zv()(n,r),...s})}));eN.displayName="CardText";const tN=eN,nN=Lw("h5"),rN=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i=nN,...s}=e;return r=Jv(r,"card-title"),(0,uv.jsx)(i,{ref:t,className:zv()(n,r),...s})}));rN.displayName="CardTitle";const iN=rN,sN=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,bg:i,text:s,border:a,body:o=!1,children:l,as:c="div",...u}=e;const d=Jv(n,"card");return(0,uv.jsx)(c,{ref:t,...u,className:zv()(r,d,i&&`bg-${i}`,s&&`text-${s}`,a&&`border-${a}`),children:o?(0,uv.jsx)(VC,{children:l}):l})}));sN.displayName="Card";const aN=Object.assign(sN,{Img:WC,Title:iN,Subtitle:ZC,Body:VC,Link:YC,Text:tN,Header:HC,Footer:$C,ImgOverlay:GC}),oN=e=>{let{isLoggedIn:n}=e;const[r,i]=(0,t.useState)([]),[s,a]=(0,t.useState)(!1),[o,l]=(0,t.useState)(null),c=sessionStorage.getItem("userId"),u="http://localhost:5000/";(0,t.useEffect)((()=>{n&&d()}),[n]);const d=async()=>{if(a(!0),l(null),!c)return l("Please log in to view your Calendar"),void a(!1);try{const e=await ax.get(`${u}interactions/tv/calendar`,{params:{user_id:c}});i(e.data.calendar||[])}catch(e){console.error("Error fetching TV calendar:",e),l("Failed to load your TV calendar. Please try again.")}finally{a(!1)}},h=async()=>{if(a(!0),l(null),!c)return l("Please log in to update your Calendar"),void a(!1);try{"success"===(await ax.post(`${u}interactions/tv/update-calendar`,{user_id:c})).data.status&&d()}catch(e){console.error("Error updating TV calendar:",e),l("Failed to update your TV calendar. Please try again."),a(!1)}};if(!n)return(0,uv.jsx)(FC,{variant:"info",children:"Please log in to view your Calendar"});if(s&&0===r.length)return(0,uv.jsx)("div",{className:"text-center p-5",children:(0,uv.jsx)("div",{className:"spinner-border",role:"status"})});if(o)return(0,uv.jsx)(FC,{variant:"danger",children:o});if(0===r.length)return(0,uv.jsxs)("div",{className:"text-center p-5",children:[(0,uv.jsxs)(FC,{variant:"info",children:["No upcoming episodes for your followed shows.",(0,uv.jsx)("br",{}),"Follow TV shows to track their air dates!"]}),(0,uv.jsxs)(ny,{variant:"primary",onClick:h,disabled:s,children:[(0,uv.jsx)(Dv,{className:s?"spin-icon":""}),"Check for updates"]})]});const f=(e=>{const t={};return e.forEach((e=>{t[e.air_date]||(t[e.air_date]=[]),t[e.air_date].push(e)})),t})(r);return(0,uv.jsxs)("div",{className:"tv-calendar",children:[(0,uv.jsx)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:(0,uv.jsxs)(ny,{variant:"outline-primary",onClick:h,disabled:s,children:[(0,uv.jsx)(Dv,{className:s?"spin-icon":""})," Refresh"]})}),Object.keys(f).sort().map((e=>{return(0,uv.jsxs)("div",{className:"date-group mb-4",children:[(0,uv.jsx)("h3",{className:"date-header",children:(t=e,new Date(t).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}))}),(0,uv.jsx)(CC,{xs:1,md:2,lg:3,className:"g-4",children:f[e].map((e=>(0,uv.jsx)(Py,{children:(0,uv.jsx)(aN,{className:"tv-calendar-card h-100",children:(0,uv.jsxs)("div",{className:"d-flex",children:[e.poster_path?(0,uv.jsx)(aN.Img,{variant:"left",src:`https://image.tmdb.org/t/p/w185${e.poster_path}`,className:"calendar-poster"}):(0,uv.jsx)("div",{className:"calendar-poster no-poster",children:"No Poster"}),(0,uv.jsxs)(aN.Body,{children:[(0,uv.jsx)(aN.Title,{children:e.title}),(0,uv.jsxs)("div",{className:"episode-info",children:[(0,uv.jsxs)("div",{className:"episode-number",children:["S",e.season,"E",e.episode]}),(0,uv.jsx)("div",{className:"episode-name",children:e.episode_name})]})]})]})})},e.id)))})]},e);var t}))]})};const lN=function(){const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)("all"),[s,a]=(0,t.useState)("overview"),[o,l]=(0,t.useState)([]),[c,u]=(0,t.useState)([]),[d,h]=(0,t.useState)(!1),[f,p]=(0,t.useState)(!1),[m,g]=(0,t.useState)(null),v="http://localhost:5000/",[y,b]=(0,t.useState)(!1),[w,E]=(0,t.useState)(""),[_,x]=(0,t.useState)(""),[S,k]=(0,t.useState)(""),[T,C]=(0,t.useState)(""),[N,I]=(0,t.useState)(""),[R,A]=(0,t.useState)(""),[O,P]=(0,t.useState)(""),[j,D]=(0,t.useState)(""),[L,M]=(0,t.useState)(!1),[F,U]=(0,t.useState)(!1),V="https://image.tmdb.org/t/p/w500",[z,$]=(0,t.useState)(!1),[B,H]=(0,t.useState)(null),[q,W]=(0,t.useState)(!1);(0,t.useEffect)((()=>{l("all"===r?c:c.filter((e=>e.watchlist_id===r)))}),[r,c]),(0,t.useEffect)((()=>{gs(lv,(e=>{if(e){const t=e.uid;console.log("uid",t),b(!0),E(t),G(t)}else console.log("You are currently logged out."),b(!1),E(""),u([]),l([])}))}),[]);const K=async(e,t,n)=>{U(!0);try{const r=await ax.get(`${v}interactions/get-watchlist-media`,{params:{user_id:e,watchlist_id:t}});return(r.data.media||[]).map((e=>({...e,watchlist_name:n,watchlist_id:t})))}catch(r){return console.error(`Error fetching media for watchlist ${t}:`,r),[]}},G=async e=>{U(!0);try{const t=await(async e=>{U(!0);try{return(await ax.get(`${v}interactions/get-watchlists`,{params:{user_id:e}})).data.watchlists||[]}catch(t){return console.error("Error fetching watchlists",t),[]}finally{U(!1)}})(e);if(n(t),0===t.length)return u([]),void U(!1);let r=[];for(const n of t){const t=await K(e,n.id,n.name);r=[...r,...t]}for(const n of r){const t=await Q(e,n.media_id,n.media_type);n.rating=t.rating,n.averageRating=await Uv(n.media_id,n.media_type)}console.log(r),u(r)}catch(t){console.error("Error fetch all watchlist media:",t)}U(!1)},Q=async(e,t,n)=>{try{return(await ax.get(`${v}interactions/get-ratings`,{params:{user_id:e,media_id:t,media_type:n}})).data}catch(r){console.error("Error getting rating:",r)}},Y=async(e,t)=>{try{"success"===(await ax.post(`${v}interactions/remove-from-watchlist`,{user_id:w,watchlist_id:e,media_id:t})).data.status?(alert("Item removed from watchlist successfully."),G(w)):alert("Failed to remove item from watchlist.")}catch(n){console.error("Error removing from watchlist:",n),alert("An error occured while removing from watchlist")}},J=(e,t)=>{console.log("item clicked",e),H(e),a(t),W(!0)},X=ee();return(0,uv.jsxs)("div",{className:"container "+(L?"watchlistLight":"watchlistDark"),id:"watchlistContainer",children:[(0,uv.jsxs)(Bw,{show:z,onHide:()=>$(!1),backdrop:"static",keyboard:!1,children:[(0,uv.jsx)(Bw.Header,{className:""+(L?"head-light":"head-dark"),closeButton:!0,children:(0,uv.jsx)(Bw.Title,{children:_||"None"})}),(0,uv.jsx)(Bw.Body,{className:"modalBody "+(L?"body-light":"body-dark"),children:(0,uv.jsxs)("div",{className:"modalBox",children:[(0,uv.jsx)("div",{className:"modalLeft",children:(0,uv.jsx)("img",{className:"modalPoster",id:"modalPoster",src:S,alt:"modal poster"})}),(0,uv.jsxs)("div",{className:"modalRight",children:[(0,uv.jsx)("h2",{children:"Overview"}),(0,uv.jsx)("div",{id:"overviewBox",children:T||"None"}),(0,uv.jsx)("hr",{}),(0,uv.jsx)("h3",{children:"Spoken Languages"}),N||"None",(0,uv.jsx)("hr",{}),(0,uv.jsx)("h3",{children:"Watch Providers"}),(0,uv.jsx)("h4",{children:"Buy"}),R||"None",(0,uv.jsx)("h4",{children:"Flatrate"}),O||"None",(0,uv.jsx)("h4",{children:"Rent"}),j||"None"]})]})})]}),(0,uv.jsxs)("div",{className:"watchlistBox",children:[(0,uv.jsxs)("div",{className:"watchlistLeft",children:[y?"Logged in":"Logged out",(0,uv.jsx)("br",{}),(0,uv.jsx)("br",{}),(0,uv.jsx)(ny,{variant:""+(L?"dark":"light"),onClick:()=>{M((e=>!e))},children:`Switch to ${L?"Dark":"Light"} Mode`}),(0,uv.jsx)("br",{}),(0,uv.jsx)("br",{}),(0,uv.jsx)(ny,{variant:"primary",onClick:()=>{X("/dashboard")},children:"Return to Dashboard"})]}),(0,uv.jsxs)("div",{className:"watchlistRight",children:[(0,uv.jsx)("br",{}),(0,uv.jsxs)("div",{id:"watchlist",className:"watchlist",children:[(0,uv.jsx)("div",{className:"media-view-tabs mb-4",children:(0,uv.jsxs)(uy,{children:[(0,uv.jsxs)(ny,{variant:d?"outline-primary":"primary",onClick:()=>h(!1),children:[(0,uv.jsx)(Av,{className:"me-2"}),"Watchlists"]}),(0,uv.jsxs)(ny,{variant:d?"primary":"outline-primary",onClick:()=>h(!0),children:[(0,uv.jsx)(Nv,{className:"me-2"}),"TV Calendar"]})]})}),F?(0,uv.jsxs)("div",{className:"loading-spinner",children:[(0,uv.jsx)(gT,{animation:"border",variant:"primary"}),(0,uv.jsx)("span",{children:" Fetching Watchlist Items..."})]}):d?(0,uv.jsx)(oN,{isLoggedIn:y}):(0,uv.jsxs)(uv.Fragment,{children:[e.length>0&&(0,uv.jsxs)("div",{className:"watchlist-filter",children:[(0,uv.jsxs)("label",{className:"watchlist-select",children:["Filter by watchlist:"," "]}),(0,uv.jsxs)(Gy.Select,{id:"watchlist-select",value:r,onChange:e=>i(e.target.value),children:[(0,uv.jsx)("option",{value:"all",children:"All Watchlists"}),e.map((e=>(0,uv.jsx)("option",{value:e.id,children:e.name},e.id)))]}),(0,uv.jsx)("div",{className:"watchlist-management mt-3",children:"all"!==r&&(0,uv.jsx)(ny,{variant:"danger",size:"sm",onClick:e=>(async(e,t)=>{if(t.stopPropagation(),window.confirm("are you sure you want to delete this watchlist? This action can not be undone."))try{"success"===(await ax.post(`${v}interactions/delete-watchlist`,{user_id:w,watchlist_id:e})).data.status?(alert("Watchlist delete successfully."),i("all"),G(w)):alert("Failed to delete watchlist.")}catch(n){console.error("Error deleting watchlist:",n),alert("An error occurred while deleting the watchlist.")}})(r,e),children:"Delete This Watchlist"})})]}),o.length>0&&[...new Map(o.map((e=>[e.media_id,e]))).values()].map((e=>(0,uv.jsxs)("div",{className:"watchlistItem "+(L?"watchlistItemLight":"watchlistItemDark"),children:[(0,uv.jsx)("div",{className:"watchlistPoster",children:(0,uv.jsx)("img",{src:`${V}${e.poster_path}`,className:"watchlistPosterImg",alt:"watchlist item poster"})}),(0,uv.jsxs)("div",{className:"watchlistContent",children:[(0,uv.jsx)("h3",{children:e.title}),(0,uv.jsxs)("p",{children:["Date Added:"," ",e.added_at?e.added_at.seconds?new Date(1e3*e.added_at.seconds).toDateString():new Date(e.added_at).toDateString():"Unknown Date"]}),"Status:",(0,uv.jsxs)(Gy.Select,{"data-bs-theme":""+(L?"light":"dark"),style:{width:"90%"},value:e.status,name:"watchStatus",onChange:t=>(async(e,t,n)=>{try{"success"===(await ax.post(`${v}interactions/update-media-status`,{user_id:w,watchlist_id:e,media_id:t,status:n})).data.status?(await G(w),alert("Status updated successfully.")):alert("Failed to update status.")}catch(r){console.error("Error updating status:",r),alert("An error occurred while updating the status.")}})(e.watchlist_id,e.media_id,t.target.value),children:[(0,uv.jsx)("option",{value:"Plan to watch",children:"Plan to watch"}),(0,uv.jsx)("option",{value:"Currently watching",children:"Currently watching"}),(0,uv.jsx)("option",{value:"On hold",children:"On hold"}),(0,uv.jsx)("option",{value:"Stopped watching",children:"Stopped watching"}),(0,uv.jsx)("option",{value:"Finished watching",children:"Finished watching"})]}),(0,uv.jsxs)(uy,{children:[(0,uv.jsx)(ny,{variant:"primary",onClick:()=>J(e),children:"View Information"}),"tv"===e.media_type&&(0,uv.jsxs)(ny,{size:"sm",className:"me-2 btn btn-info",onClick:t=>{t.stopPropagation(),J(e,"episodes")},children:[(0,uv.jsx)(Av,{className:"me-1"})," Episodes"]}),(0,uv.jsx)(ny,{variant:"success",onClick:()=>alert("Review functionality has not been implemented yet. We thank you for your patience."),children:"Write a Review"}),(0,uv.jsx)(ny,{variant:"danger",onClick:()=>{return t=e,void("all"===r?(g(t),p(!0)):Y(t.watchlist_id,t.media_id));var t},children:"Remove from Watchlist"})]}),(0,uv.jsx)("br",{})," ",(0,uv.jsx)(ly,{userID:w,currentMediaID:e.media_id,currentMediaType:e.media_type,initialRate:e.rating,initialAvgRate:e.averageRating})]})]},e.id)))]})]})]})]}),(0,uv.jsxs)(Bw,{show:f,onHide:()=>p(!1),backdrop:"static",keyboard:!1,children:[(0,uv.jsx)(Bw.Header,{closeButton:!0,children:(0,uv.jsx)(Bw.Title,{children:"Select Watchlist"})}),(0,uv.jsxs)(Bw.Body,{children:[(0,uv.jsxs)("p",{children:["Select the watchlist from which to remove"," ",null===m||void 0===m?void 0:m.title]}),(0,uv.jsxs)(Gy.Select,{onChange:e=>{return t=e.target.value,void(m&&(Y(t,m.media_id),p(!1),g(null)));var t},defaultValue:"",children:[(0,uv.jsx)("option",{value:"",disabled:!0,children:"Select a watchlist"}),e.map((e=>(0,uv.jsx)("option",{value:e.id,children:e.name},e.id)))]})]})]}),B&&q&&(0,uv.jsx)(_C,{mediaId:B.media_id,mediaType:B.media_type,show:q,onHide:()=>{H(null),W(!1)},initialTab:s})]})};const cN=function(e){let{items:n,autoplay:r}=e;const i=(0,t.useRef)(null),[s,a]=(0,t.useState)(null),[o,l]=(0,t.useState)(!1);return(0,t.useEffect)((()=>{let e;return r&&n.length>0&&(e=setInterval((()=>{i.current&&(i.current.scrollLeft+=300,i.current.scrollLeft>=i.current.scrollWidth-i.current.clientWidth-10&&(i.current.scrollLeft=0))}),4e3)),()=>{e&&clearInterval(e)}}),[r,n]),(0,uv.jsxs)("div",{className:"media-slide-container",children:[(0,uv.jsx)("div",{className:"media-slide",ref:i,children:n.map(((e,t)=>{var n;return(0,uv.jsx)("div",{className:"slide-item",onClick:()=>(e=>{console.log("item clicked",e),e.title?e.media_type="movie":e.media_type="tv",a(e),l(!0)})(e),children:(0,uv.jsxs)("div",{className:"slide-item-inner",children:[(0,uv.jsx)("img",{src:`https://image.tmdb.org/t/p/w500${e.poster_path}`,alt:e.title||e.name,onError:e=>{e.target.onerror=null,e.target.src="/Logo.png"}}),(0,uv.jsxs)("div",{className:"slide-item-overlay",children:[(0,uv.jsx)("h3",{children:e.title||e.name}),(0,uv.jsx)("div",{className:"item-info",children:(0,uv.jsx)("span",{className:"year",children:(null===(n=e.release_date||e.first_air_date)||void 0===n?void 0:n.substring(0,4))||"Unknown"})})]})]})},t)}))}),(0,uv.jsx)("button",{className:"slide-nav-prev",onClick:()=>{i.current.scrollLeft-=i.current.offsetWidth/2},children:(0,uv.jsx)(kv,{})}),(0,uv.jsx)("button",{className:"slide-nav-next",onClick:()=>{i.current.scrollLeft+=i.current.offsetWidth/2},children:(0,uv.jsx)(Tv,{})}),s&&o&&(0,uv.jsx)(_C,{mediaId:s.id,mediaType:s.media_type,show:o,onHide:()=>{a(null),l(!1)}})]})};const uN=function(){bx(ax,{retries:3,retryDelay:bx.exponentialDelay});const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)([]),[s,a]=(0,t.useState)(!1),[o,l]=(0,t.useState)((()=>!!sessionStorage.getItem("userId"))),[c,u]=(0,t.useState)(!0),d=ee();(0,t.useEffect)((()=>{const e=document.getElementById("homepage-title");e&&e.scrollIntoView({behavior:"smooth"})}),[]),(0,t.useEffect)((()=>{h()}),[]);const h=async()=>{try{a(!0);const e="todays-trending",t=localStorage.getItem(e);if(t){const{compressed:e,data:r,timestamp:s}=JSON.parse(t);if(Date.now()-s<864e5){const t=e?JSON.parse(yT().decompress(r)):JSON.parse(r);return n(t.movies),i(t.tv),console.log("Trending cache hit"),void a(!1)}}else sessionStorage.removeItem(e);const r=await ax.get("http://localhost:5000/trending");r.data.movies&&r.data.tv&&localStorage.setItem(e,JSON.stringify({compressed:!0,data:yT().compress(JSON.stringify(r.data)),timestamp:Date.now()})),n(r.data.movies),i(r.data.tv),a(!1)}catch(e){console.error("Error fetching trending content:",e),a(!1)}};return(0,uv.jsxs)("div",{className:"home-page",children:[(0,uv.jsx)("div",{className:"hero-section",children:(0,uv.jsxs)("div",{className:"hero-content",children:[(0,uv.jsxs)("h1",{id:"homepage-title",children:["Explore Stories That Captivate and Inspire"," "]}),(0,uv.jsx)("div",{className:"search-widget-container",children:(0,uv.jsx)(kC,{})}),o?(0,uv.jsx)("button",{className:"dashboard-btn",onClick:()=>d("/dashboard"),children:"Dashboard"}):(0,uv.jsxs)("div",{className:"user-buttons",children:[(0,uv.jsx)("button",{className:"btn-login",onClick:()=>d("/login"),children:"Log in"}),(0,uv.jsx)("button",{className:"btn-signup",onClick:()=>d("/signup"),children:"Sign Up"})]})]})}),s?(0,uv.jsxs)("div",{className:"loading-spinner",children:[(0,uv.jsx)(gT,{animation:"border",variant:"primary"}),(0,uv.jsx)("span",{children:" Finding Trending Titles..."})]}):(0,uv.jsxs)("div",{className:"media-container",onMouseEnter:()=>{u(!1)},onMouseLeave:()=>{u(!0)},children:[(0,uv.jsxs)("section",{className:"trending-section",children:[(0,uv.jsx)("h2",{children:"Trending Movies"}),(0,uv.jsx)(cN,{items:e,autoplay:c})]}),(0,uv.jsxs)("section",{className:"popular-section",children:[(0,uv.jsx)("h2",{children:"Popular TV"}),(0,uv.jsx)(cN,{items:r,autoplay:c})]})]})]})};const dN=function(){const[e,n]=(0,t.useState)((()=>sessionStorage.getItem("userId")?sessionStorage.getItem("userId"):"")),[r,i]=(0,t.useState)((()=>!!sessionStorage.getItem("userId"))),[s,a]=(0,t.useState)(!0),[o,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)({}),[d,h]=(0,t.useState)(!1),f="platform_selection",[p,m]=(0,t.useState)((()=>{const e=sessionStorage.getItem(f);if(e)try{return JSON.parse(e)}catch(t){return console.error("Error parsing saved platforms:",t),["all"]}return["all"]})),g=ee();(0,t.useEffect)((()=>{v()}),[]),(0,t.useEffect)((()=>{sessionStorage.setItem(f,JSON.stringify(p))}),[p]);const v=async()=>{h(!0);try{const t=await ax.get("http://localhost:5000/interactions/get_followed",{params:{user_id:e}});(t.data.followed_movies.length>0||t.data.followed_tv.length>0)&&(l(!0),u(t.data))}catch(t){console.error("Error fetching followed: ",t)}finally{h(!1)}};return(0,uv.jsxs)("div",{className:"settings-container",children:[(0,uv.jsx)("div",{className:"settings-header",children:(0,uv.jsx)("h1",{children:"Settings"})}),(0,uv.jsxs)("div",{className:"settings-section",children:[(0,uv.jsx)("h2",{children:"Streaming Platforms"}),(0,uv.jsx)("p",{children:"Select the streaming platforms you have access to:"}),r&&(0,uv.jsx)(IC,{selectedPlatforms:p,onPlatformChange:e=>{m((t=>((e,t)=>{if("all"===e)return t.includes("all")?[]:["all"];{if(t.includes("all"))return[e];let n=t.includes(e)?t.filter((t=>t!==e)):[...t.filter((e=>"all"!==e)),e];return n}})(e,t)))}}),(0,uv.jsx)("div",{className:"settings-info",children:(0,uv.jsx)("p",{children:"Your recommendations will be filtered to only show content available on these platforms."})})]}),r&&(0,uv.jsxs)("div",{className:"settings-section followed-media-section",children:[(0,uv.jsx)("h2",{children:"Your Followed Media"}),o?(0,uv.jsxs)("div",{onMouseEnter:()=>{a(!1)},onMouseLeave:()=>{a(!0)},children:[(0,uv.jsx)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:(0,uv.jsxs)(ny,{variant:"outline-primary",onClick:v,children:[(0,uv.jsx)(Dv,{className:d?"spin-icon":""})," Refresh"]})}),c.followed_movies&&c.followed_movies.length>0&&(0,uv.jsxs)(uv.Fragment,{children:[(0,uv.jsx)("h3",{children:"Movies"}),(0,uv.jsx)(cN,{items:c.followed_movies.map((e=>({id:e.media_id,title:e.title,poster_path:e.poster_path,media_type:"movie",release_date:e.release_date}))),autoplay:s})]}),c.followed_tv&&c.followed_tv.length>0&&(0,uv.jsxs)(uv.Fragment,{children:[(0,uv.jsx)("h3",{children:"TV Shows"}),(0,uv.jsx)(cN,{items:c.followed_tv.map((e=>({id:e.media_id,name:e.title,poster_path:e.poster_path,media_type:"tv",release_date:e.release_date}))),autoplay:s})]})]}):(0,uv.jsx)("div",{className:"no-followed-media",children:(0,uv.jsxs)("p",{children:[(0,uv.jsx)("strong",{children:"No followed media: "}),"Explore and interact with Teleshow library to get personalized recommendations."]})})]}),(0,uv.jsx)(ny,{onClick:()=>g("/dashboard"),className:"save-settings-btn",variant:"primary",children:"Save Settings"})]})};const hN=function(){return(0,uv.jsx)(Xe,{children:(0,uv.jsxs)(ve,{children:[(0,uv.jsx)(me,{path:"/",element:(0,uv.jsx)(uN,{})}),(0,uv.jsx)(me,{path:"/login",element:(0,uv.jsx)(dv,{})}),(0,uv.jsx)(me,{path:"/signup",element:(0,uv.jsx)(hv,{})}),(0,uv.jsx)(me,{path:"/forgot-password",element:(0,uv.jsx)(fv,{})}),(0,uv.jsx)(me,{path:"/dashboard",element:(0,uv.jsx)(AC,{})}),(0,uv.jsx)(me,{path:"/watchlist",element:(0,uv.jsx)(lN,{})}),(0,uv.jsx)(me,{path:"/settings",element:(0,uv.jsx)(dN,{})})]})})},fN=()=>(0,uv.jsx)("header",{className:"teleshowHeader",children:(0,uv.jsx)("h1",{children:"TeleShow"})}),pN=()=>(0,uv.jsxs)("header",{className:"teleshowFooter",children:[(0,uv.jsx)("h1",{children:"TeleShow"}),(0,uv.jsx)("p",{children:"Developed by Oguzhan Besiktepe, William Ackerman, Serena D'Avanzo, Moses Pierre, and Steave Marie Joseph"}),(0,uv.jsx)("h2",{children:"Contact"}),(0,uv.jsxs)("div",{className:"contactTable",children:[(0,uv.jsxs)("div",{className:"contact-item",children:["Oguzhan Besiktepe",(0,uv.jsx)("ul",{children:(0,uv.jsxs)("li",{children:[(0,uv.jsx)("a",{href:"mailto:oguzhanbesiktepe@gmail.com",rel:"noreferrer",target:"_blank",children:"Email"}),(0,uv.jsx)("br",{}),(0,uv.jsx)("a",{href:"https://github.com/OguzhanBesiktepe",rel:"noreferrer",target:"_blank",children:"GitHub"}),(0,uv.jsx)("br",{}),(0,uv.jsx)("a",{href:"https://www.linkedin.com/in/oguzhan-besiktepe/",rel:"noreferrer",target:"_blank",children:"LinkedIn"})]})})]}),(0,uv.jsxs)("div",{className:"contact-item",children:["William Ackerman",(0,uv.jsx)("ul",{children:(0,uv.jsxs)("li",{children:[(0,uv.jsx)("a",{href:"mailto:williamjohnackerman@gmail.com",rel:"noreferrer",target:"_blank",children:"Email"}),(0,uv.jsx)("br",{}),(0,uv.jsx)("a",{href:"https://github.com/WilliamAckerman",rel:"noreferrer",target:"_blank",children:"GitHub"}),(0,uv.jsx)("br",{}),(0,uv.jsx)("a",{href:"https://www.linkedin.com/in/william-ackerman-6a4005290/",rel:"noreferrer",target:"_blank",children:"LinkedIn"})]})})]}),(0,uv.jsx)("div",{className:"contact-item",children:"Serena D'Avanzo"}),(0,uv.jsxs)("div",{className:"contact-item",children:["Moses Pierre",(0,uv.jsx)("ul",{children:(0,uv.jsx)("li",{children:(0,uv.jsx)("a",{href:"mailto:mopierre3521@gmail.com",rel:"noreferer",target:"_blank",children:"Email"})})})]}),(0,uv.jsx)("div",{className:"contact-item",children:"Steave Marie Joseph"})]}),(0,uv.jsx)("p",{children:"Credit to JustWatch as TMDB API watch providers data source."}),(0,uv.jsx)("p",{children:"2025."})]});r.createRoot(document.getElementById("root")).render((0,uv.jsxs)(t.StrictMode,{children:[(0,uv.jsx)(fN,{}),(0,uv.jsx)(hN,{}),(0,uv.jsx)(pN,{})]}))})()})();
//# sourceMappingURL=main.f01e3314.js.map